<?xml version="1.0" encoding="UTF-8"?>
<results>
    <error file="/data/EveryDayTscan/sot_server/classes/center_server/data/DungeonManager.cpp" line="1242" id="logic" subid="assignIf" severity="Warning" msg="Expression is always false because &apos;else if&apos; condition matches previous condition at line 1193." web_identify="{&quot;identify&quot;:&quot;(&quot;}" func_info="void DungeonManager::CreateGroupDungeon ( long fight_group_id , int dungeon_id , protos::DungeonCreateParam const &amp; create_param )" content="1232:                             auto sub_pb = mn_req.mutable_create_param()-&gt;add_attrs_addtion();
1233:                             sub_pb-&gt;set_type(it-&gt;second-&gt;attribution_type(i));
1234:                             sub_pb-&gt;set_value(it-&gt;second-&gt;attribution_value(i));
1235:                         }
1236:                         break;
1237:                     }
1238:                 }
1239:             }
1240:         }
1241:     }
1242:     else if (create_param.enter_reason() == protos::E_ENTER_DUNGEON_WARGOD)
1243:     {
1244:         auto p = g_CSData.get_player(create_param.role_id());
1245:         if (p)
1246:         {
1247:             int64_t total_fighting = 0;
1248:             // 进入陷阱塔，战力压制
1249:             int32_t tower_id = create_param.god_tower_id();
1250:             auto tower_cache = ConstDataHelper::WarGodTower::GetCache(tower_id);
1251:             if (tower_cache)
1252:             {
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/center_server/data/cs_data.cpp" line="122" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;cs_data::m_1v1_arena_room,m_3v3_arena_room,&apos; is not initialized in the constructor." web_identify="{&quot;identify&quot;:&quot;cs_data::m_1v1_arena_room,m_3v3_arena_room,&quot;}" func_info="global" content="112: 
113: //     if (v1.times != v2.times)
114: //     {
115: //         return v1.times &gt; v2.times;
116: //     }
117: 
118: //     return v1.guild_id &lt; v2.guild_id;
119: // }
120: 
121: 
122: cs_data::cs_data()
123:     :
124:     //seqno(0),
125:     m_mall_id_temp(0), pdc_constant_data(NULL), 
126:     m_arena_time(Tools::game_now())
127: {
128:     m_server_comm_data = new server_common_t();
129:     seqno = Tools::game_now() % (1 * 24 * 3600);
130:     m_world_war_room_mgr = new WorldWarRoomMgr();
131:     m_activity_opener = new ActivityOpener();
132:     m_global_mail = new CsGlobalMail();
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/center_server/data/cs_evaluate_manager.cpp" line="131" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [proto_reward] suggests that it may be null, but it has already been dereferenced at line 123." web_identify="{&quot;identify&quot;:&quot;proto_reward&quot;}" func_info="void CSEvaluateManager::sendReward ( )" content="121: 
122:             // ³¬³ö·¶Î§£¬Ñ°ÕÒÏÂÒ»¸ö·¢½±µÄid
123:             if (rank &gt; proto_reward-&gt;rank(1)) {
124:                 proto_reward = nullptr;
125:                 ++it_reward;
126:                 if (it_reward == g_ConstData.get_m_evaluate_rank_reward().end()) {
127:                     break;
128:                 }
129:                 proto_reward = it_reward-&gt;second;
130:             }
131:             if (proto_reward == nullptr) {
132:                 break;
133:             }
134: 
135:             protos::param_infos pb_content;
136:             auto&amp;&amp; formatter = MarqueeStringFormatter(*pb_content.mutable_content_params());
137:             static std::string ui_word[] = { &quot;UiWord_11028&quot;, &quot;UiWord_11029&quot;, &quot;UiWord_11030&quot;, &quot;UiWord_11031&quot; };
138: 
139:             MarqueeStringFormatter::ToLocalization local_str(ui_word[k - protos::E_RANK_TYPE_EVALUATE_1]);
140:             formatter &lt;&lt; local_str;
141:             formatter &lt;&lt; rank;
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/center_server/data/cs_guild_banquet.cpp" line="36" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CSGuildBanquet::end_time_,&apos; is not initialized in the constructor." web_identify="{&quot;identify&quot;:&quot;CSGuildBanquet::end_time_,&quot;}" func_info="global" content="26: #include &quot;frame_log.h&quot;                  // for Log, LINFO, LDEBUG, LERROR
27: #include &quot;func_define.h&quot;                // for EFunctionCode::E_FUNC_CODE_GU...
28: #include &quot;guild.h&quot;                      // for guild_t
29: #include &quot;log4cplus/loggingmacros.h&quot;    // for LOG4CPLUS_MACRO_INFO_LOG_LEVEL
30: #include &quot;mmo3d_func_banquet.pb.h&quot;      // for guild_banquet_info
31: #include &quot;mmo3d_guild_constant.pb.h&quot;    // for Guild_Constant
32: #include &quot;proto_macro.h&quot;                // for REQUEST
33: #include &quot;protocol_define.h&quot;            // for E_PROTOCOL::E_CS2SS_NOTIFY_GU...
34: #include &quot;s2s_mmo3d_func_banquet.pb.h&quot;  // for req_E_CS2SS_NOTIFY_GUILD_BANQ...
35: 
36: CSGuildBanquet::CSGuildBanquet(int32_t guild_id) : guild_id_(guild_id)
37: {
38:     banquet_phase_ = E_GUILD_BUILD_BANQUET_PAHSE_MIN;
39:     start_time_ = Tools::game_now();
40:     progress_ = 0;
41:     exp_add_ = 0;
42:     level_ = 0;
43: }
44: 
45: CSGuildBanquet::~CSGuildBanquet() {}
46: 
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/center_server/data/cs_robot_proxy.cpp" line="333" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [cb_msg] suggests that it may be null, but it has already been dereferenced at line 332." web_identify="{&quot;identify&quot;:&quot;cb_msg&quot;}" func_info="void CSRobotProxy::EnterScene ( int scene_copy_id , int map_id , EnterSceneParam * param_pt )" content="323:         {
324:             team_goal_id = (*team_pp)-&gt;m_goal_id;
325:         }
326:     }
327:     int32_t work_state = GetWorkState();
328:     auto call_back = [role_id, scene_copy_id, map_id, param, func_code, team_goal_id,
329:                       work_state](AsyncRequestHandlerNs::PbMessage&amp; jv,
330:                                   const AsyncRequestHandlerNs::SendMessageEnv&amp; send_env, int32_t ret_protocol_no) {
331:         auto&amp;&amp; cb_msg = reinterpret_cast&lt;RESPOND(E_CS2GS_QUERY_PLAYER_DATA)*&gt;(&amp;jv);
332:         LDEBUG(&quot;CSRobotProxy::EnterScene, call_back, isok = &quot; &lt;&lt; cb_msg-&gt;isok());
333:         if (cb_msg)
334:         {
335:             if (E_CORRECT == cb_msg-&gt;isok())
336:             {
337:                 auto call_back_sc = [role_id, scene_copy_id,
338:                                      map_id](AsyncRequestHandlerNs::PbMessage&amp; jv,
339:                                              const AsyncRequestHandlerNs::SendMessageEnv&amp; send_env,
340:                                              int32_t ret_protocol_no) {
341:                     if (ConstDataHelper::Scene::IsActivityCopyScene(map_id))
342:                     {
343:                         CSRobotProxy* robot_pt = g_CSData.m_robot_manager.GetRobotProxyByRoleId(role_id);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/center_server/data/cs_robot_proxy.cpp" line="414" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [cb_msg] suggests that it may be null, but it has already been dereferenced at line 413." web_identify="{&quot;identify&quot;:&quot;cb_msg&quot;}" func_info="void CSRobotProxy::EnterSceneEx ( long act_id , int scene_copy_id , int map_id , EnterSceneParam * param_pt )" content="404:         {
405:             team_goal_id = (*team_pp)-&gt;m_goal_id;
406:         }
407:     }
408:     int32_t work_state = GetWorkState();
409:     auto call_back = [role_id, scene_copy_id, map_id, param, func_code, team_goal_id, work_state,
410:                       act_id](AsyncRequestHandlerNs::PbMessage&amp; jv,
411:                               const AsyncRequestHandlerNs::SendMessageEnv&amp; send_env, int32_t ret_protocol_no) {
412:         auto&amp;&amp; cb_msg = reinterpret_cast&lt;RESPOND(E_CS2GS_QUERY_PLAYER_DATA)*&gt;(&amp;jv);
413:         LDEBUG(&quot;CSRobotProxy::EnterScene, call_back, isok = &quot; &lt;&lt; cb_msg-&gt;isok());
414:         if (cb_msg)
415:         {
416:             if (E_CORRECT == cb_msg-&gt;isok())
417:             {
418:                 CSRobotProxy* robot_pt = g_CSData.m_robot_manager.GetRobotProxyByRoleId(role_id);
419:                 if (robot_pt)
420:                 {
421:                     LINFO(&quot;robot enter copy scene, call_back_sc, role_id:&quot; &lt;&lt; role_id &lt;&lt; &quot;, map_id:&quot; &lt;&lt; map_id
422:                                                                            &lt;&lt; &quot;, scenen_copy_id:&quot; &lt;&lt; scene_copy_id);
423:                     if (robot_pt-&gt;GetActId() != act_id)
424:                     {
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/center_server/data/cs_robot_proxy.cpp" line="51" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CSRobotProxy::heart_time_,&apos; is not initialized in the constructor." web_identify="{&quot;identify&quot;:&quot;CSRobotProxy::heart_time_,&quot;}" func_info="global" content="41: #include &quot;proto_macro.h&quot;                      // for REQUEST, RESPOND
42: #include &quot;protocol_define.h&quot;                  // for E_ERROR_TYPE::E_CORRECT
43: #include &quot;s2s_mmo3d.pb.h&quot;                     // for gs2sc_player_t
44: #include &quot;s2s_mmo3d_func_robot.pb.h&quot;          // for req_E_CS2SC_ROBOT_ENTER...
45: #include &quot;s2s_mmo3d_func_role.pb.h&quot;           // for rep_E_S2S_FOLLOW_PLAYER
46: #include &quot;scene_dungeon_define.h&quot;             // for COPY_TYPE::E_COPY_DSC
47: #include &quot;simple_player.h&quot;                    // for simple_player
48: 
49: #define MINUTES_TIME_SEC (60)
50: 
51: CSRobotProxy::CSRobotProxy(simple_player* p) : player_(p) {}
52: 
53: CSRobotProxy::~CSRobotProxy() {}
54: 
55: void CSRobotProxy::Update(time_t cur_time)
56: {
57:     if (E_ROBOT_WORK_STATE_JOINED_TEAM == GetWorkState() &amp;&amp; cur_time - join_team_time_ &gt;= MINUTES_TIME_SEC)
58:     {
59:         // 检查职能目标是否一致(现在改成了机器人不自动退队，屏蔽这里)
60:         // if (player_-&gt;m_teamid &gt; 0)
61:         // {
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/center_server/data/cs_tricktower_manager.cpp" line="99" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [proto_reward] suggests that it may be null, but it has already been dereferenced at line 91." web_identify="{&quot;identify&quot;:&quot;proto_reward&quot;}" func_info="void CSTricktowerManager::OnMsgGs2Cs ( protos::req_E_GS2CS_TRICKTOWER_ROUND_SYNC * req , protos::rep_E_GS2CS_TRICKTOWER_ROUND_SYNC * rep )" content="89: 
90:             // 超出范围，寻找下一个发奖的id
91:             if (rank &gt; proto_reward-&gt;rank(1)) {
92:                 proto_reward = nullptr;
93:                 ++it_reward;
94:                 if (it_reward == g_ConstData.get_m_tricktower_rank().end()) {
95:                     break;
96:                 }
97:                 proto_reward = it_reward-&gt;second;
98:             }
99:             if (proto_reward == nullptr) {
100:                 break;
101:             }
102:             simple_player* p =  containter[i];
103:             if(!p){
104:                 continue;
105:             }
106:             protos::param_infos pb_content;
107:             auto&amp;&amp; formatter = MarqueeStringFormatter(*pb_content.mutable_content_params());
108:             formatter &lt;&lt; rank;
109: 
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/center_server/data/mmo_team.cpp" line="224" id="suspicious" subid="unConditionalBreakinLoop" severity="Warning" msg="An unconditional &apos;break/return/goto&apos; within a loop.It may be a mistake." web_identify="{&quot;identify&quot;:&quot;*&quot;}" func_info="simple_player * mmo_team::find_player ( long player_id )" content="214:             find_player.push_back(it-&gt;first);
215:         }
216:     }
217: }
218: 
219: simple_player* mmo_team::find_player(int64_t player_id)
220: {
221:     auto it = m_members.begin();
222:     for (; it != m_members.end(); ++it)
223:     {
224:         return *it;
225:     }
226:     return NULL;
227: }
228: 
229: int32_t mmo_team::get_team_average_level()
230: {
231:     int32_t sum = 0;
232:     for (auto v : m_members)
233:     {
234:         sum += v-&gt;m_level;
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/center_server/data_wrapper/cs_cross_gvg_module.cpp" line="2246" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [msg] suggests that it may be null, but it has already been dereferenced at line 2243." web_identify="{&quot;identify&quot;:&quot;msg&quot;}" func_info="CFrameOperate::OperRes CSCrossGVGMoudle::OnMsgOnChallenge ( simple_player * pPlayer , CFrameOperate * pMsgInfo )" content="2236:     }
2237:     //int32_t defender_zone_id = 0;
2238:     auto&amp;&amp; req_no = g_AsyncRequestHandlerMgr.MakeAsyncRequest(
2239:         [ challenge_role_id {pPlayer-&gt;m_roleid},defend_role_id{req.role_id()},stronghold_id{req.stronghold_id()},position{req.role_team_id()}
2240:         ,pve_id{req.pve_id()},guild_id,trans_scene_excel_id,trans_scene_copy_id](AsyncRequestHandlerNs::PbMessage&amp; jv, const AsyncRequestHandlerNs::SendMessageEnv&amp; send_env,
2241:                           int32_t ret_protocol_no) {
2242:             RESPOND(E_S2S_GUILD_GVG_START_ACTION)* msg = reinterpret_cast&lt;RESPOND(E_S2S_GUILD_GVG_START_ACTION)*&gt;(&amp;jv);
2243:             LINFO(&quot;E_S2S_GUILD_GVG_START_ACTION:&quot; &lt;&lt; msg-&gt;ShortDebugString() &lt;&lt; &quot;,challenge_role_id:&quot; &lt;&lt; challenge_role_id &lt;&lt; &quot;,defend_role_id:&quot; &lt;&lt; defend_role_id);
2244:             RESPOND(E_C2S_GUILD_GVG_START_ACTION) resp;
2245:             do{
2246:                 if (msg)
2247:                 {
2248:                     resp.set_isok(msg-&gt;isok());
2249:                     LDEBUG(&quot;msg-&gt;isok() &quot; &lt;&lt; msg-&gt;isok());
2250:                     if(msg-&gt;isok() ==  E_CORRECT)
2251:                     {
2252:                         int64_t defend_role_id = msg-&gt;role_id();
2253:                         int32_t lv_param =  msg-&gt;lv_param();
2254:                         int32_t color = msg-&gt;color();
2255:                         LDEBUG(&quot;OnMsgOnChallenge defend_role_id &quot; &lt;&lt; defend_role_id &lt;&lt; &quot; lv_param &quot; &lt;&lt; lv_param &lt;&lt; &quot; color &quot; &lt;&lt; color);
2256:                         //异步 PVP  情况 创建场景并 将自己和 对手传送到 场景
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/center_server/data_wrapper/cs_cross_gvg_module.cpp" line="4325" id="suspicious" subid="SuspiciousPriority" severity="Information" msg="The priority of the &apos;+&apos; operation is higher than that of the &apos;&lt;&lt;&apos; operation. It&apos;s possible that parentheses should be used in the expression." web_identify="" func_info="CFrameOperate::OperRes CSCrossGVGMoudle::OnMsgGVGBuyAction ( simple_player * pPlayer , CFrameOperate * pMsgInfo )" content="4315:     }
4316:     // 次数检查
4317:     if (buy_action_num + 1 &gt; buy_num_limit)
4318:     {
4319:         LWARN(&quot;OnMsgGVGBuyAction buy_action_num + 1 &gt; buy_num_limit buy_action_num &quot; &lt;&lt; buy_action_num &lt;&lt; &quot; buy_num_limit &quot; &lt;&lt; buy_num_limit);
4320:         return pMsg-&gt;SetIsokAndReturn(E_ERROR_GUILD_GVG_BUY_ACTION_LIMIT);
4321:     }
4322: 
4323:     if (buy_action_num * 2 + 1 &gt;= const_lua-&gt;actiontimes_cost_size())
4324:     {
4325:         LWARN(&quot;OnMsgGVGBuyAction buy_action_num * 2 + 1 &gt;= const_lua-&gt;actiontimes_cost_size() req &quot; &lt;&lt; buy_action_num * 2 + 1  &lt;&lt; &quot; const_lua-&gt;actiontimes_cost_size() &quot; &lt;&lt; const_lua-&gt;actiontimes_cost_size());
4326:         return pMsg-&gt;SetIsokAndReturn(E_ERROR_PARAM_ERROR);
4327:     }
4328: 
4329:     int32_t cost_item_id = const_lua-&gt;actiontimes_cost(buy_action_num * 2);
4330:     int32_t cost_num = const_lua-&gt;actiontimes_cost(buy_action_num * 2 + 1);
4331: 
4332:     // 资源检查
4333:     REQUEST(E_XS2GS_COST_PLAYER_ITEM) gs_req;
4334:     gs_req.set_role_id(role_id);
4335:     gs_req.set_cost_source(E_GOODS_FROM_GUILD_GVG_BUY_ACTION);
" inconclusive="true"/>
    <error file="/data/EveryDayTscan/sot_server/classes/center_server/data_wrapper/cs_cross_gvg_module.cpp" line="6117" id="suspicious" subid="unConditionalBreakinLoop" severity="Warning" msg="An unconditional &apos;break/return/goto&apos; within a loop.It may be a mistake." web_identify="{&quot;identify&quot;:&quot;;&quot;}" func_info="int CSCrossGVGMoudle::GetRoleTotalHonor ( long role_id )" content="6107:     auto it_honor = gvg_data.m_role_season_honor.find(role_id);
6108:     if (it_honor == gvg_data.m_role_season_honor.end())
6109:     {
6110:         LERROR(&quot;GetRoleTotalHonor it_honor == gvg_data.m_role_season_honor.end() role_id &quot; &lt;&lt; role_id);
6111:         return total_role_honor;
6112:     }
6113: 
6114:     for (auto it = it_honor-&gt;second.rbegin(); it != it_honor-&gt;second.rend(); it++)
6115:     {
6116:         total_role_honor = it-&gt;second.total_honor;
6117:         break;
6118:     }
6119: 
6120:     return total_role_honor;
6121: }
6122: 
6123: bool CSCrossGVGMoudle::CheckLimitRoleNum(int32_t guild_id)
6124: {
6125:     auto guild_ptr = g_CSData.m_guilds.HoldCell(guild_id);
6126:     if (!guild_ptr)
6127:     {
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/center_server/data_wrapper/cs_cross_gvg_module.cpp" line="6177" id="suspicious" subid="unConditionalBreakinLoop" severity="Warning" msg="An unconditional &apos;break/return/goto&apos; within a loop.It may be a mistake." web_identify="{&quot;identify&quot;:&quot;;&quot;}" func_info="time_t CSCrossGVGMoudle::GetNewZoneOpenContestTime ( )" content="6167:                 {
6168:                     is_special = true;
6169:                     break;
6170:                 }
6171:             }
6172:         }
6173: 
6174:         for (size_t i = 0; i &lt; cache_pt-&gt;vec_time_phase.size(); ++i)
6175:         {
6176:             open_contest_time = cache_pt-&gt;vec_time_phase[i].start_time + day0;  // 活动开启时刻
6177:             break;
6178:         }
6179:     }
6180: 
6181:     if (is_special) {
6182:         open_contest_time += DAY_TIME;
6183:     }
6184:     return open_contest_time;
6185: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/center_server/data_wrapper/cs_cross_gvg_module.cpp" line="732" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [msg] suggests that it may be null, but it has already been dereferenced at line 730." web_identify="{&quot;identify&quot;:&quot;msg&quot;}" func_info="CFrameOperate::OperRes CSCrossGVGMoudle::OnMsgEnterGvgTransferScene ( simple_player * pPlayer , CFrameOperate * pMsgInfo )" content="722:     auto&amp; req = pMsg-&gt;GetRequest();
723:     int32_t map_id = req.map_id();
724:     CSCrossGVGMoudle::MakeCommonPlayerInfo(pPlayer,pb_player_info);
725:     CSCrossGVGMoudle::MakeCommonGuildInfo(pPlayer,pb_guild_info);
726:     auto&amp;&amp; req_no = g_AsyncRequestHandlerMgr.MakeAsyncRequest(
727:         [role_id{pPlayer-&gt;m_roleid},guild_id{pPlayer-&gt;m_guild_id},map_id](AsyncRequestHandlerNs::PbMessage&amp; jv, const AsyncRequestHandlerNs::SendMessageEnv&amp; send_env,
728:                           int32_t ret_protocol_no) {
729:             RESPOND(E_S2S_GUILD_GVG_ENTER)* msg = reinterpret_cast&lt;RESPOND(E_S2S_GUILD_GVG_ENTER)*&gt;(&amp;jv);
730:             LINFO(&quot;E_S2S_GUILD_GVG_ENTER:&quot; &lt;&lt; msg-&gt;ShortDebugString());
731:             RESPOND(E_C2S_GUILD_GVG_ENTER) resp;
732:             if (msg)
733:             {
734:                 resp.set_isok(msg-&gt;isok());
735:                 int32_t color = msg-&gt;color();
736:                 CSCrossGVGMoudle::EnterTransferScene(role_id,guild_id,color,map_id);
737:             }
738:             else
739:             {
740:                 resp.set_isok(E_ERROR_LOGIC_ERROR);
741:             }
742:             LINFO(&quot;E_C2S_GUILD_GVG_ENTER:&quot; &lt;&lt; resp.ShortDebugString());
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/center_server/data_wrapper/cs_guild_dungeon_module.cpp" line="271" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [guild_cell] to null at line 256 implies that [guild_cell ] might be null.Dereferencing null pointer [guild_cell]." web_identify="{&quot;identify&quot;:&quot;guild_cell&quot;}" func_info="CFrameOperate::OperRes CSGuildDungeon::OnMsgGuildBossDungeonRank ( simple_player * pPlayer , CFrameOperate * pMsgInfo )" content="261:                         one_guild-&gt;set_name(pPlayer-&gt;m_nickname);
262:                         one_guild-&gt;set_guild_name(guild_cell-&gt;get_name());
263:                         one_guild-&gt;set_value1(oo.score);
264:                         one_guild-&gt;set_value2(pPlayer-&gt;m_guild_dungeon_weekly_times);
265:                         one_guild-&gt;set_value3(g_CSData.m_guild_manager-&gt;GetGuildDungeonScoreRankNum(pPlayer-&gt;m_guild_id));
266:                         one_guild-&gt;set_rank(i);
267:                     }
268:                     p-&gt;ToHeadPortrait(pb_guild-&gt;mutable_heads());
269:                     pb_guild-&gt;set_roleid(oo.player_id); // 玩家id
270:                     pb_guild-&gt;set_name(p-&gt;m_nickname);
271:                     pb_guild-&gt;set_guild_name(guild_cell-&gt;get_name());
272:                     pb_guild-&gt;set_value1(oo.score);     // 玩家本周积分
273:                     pb_guild-&gt;set_value2(p-&gt;m_guild_dungeon_weekly_times);
274:                     pb_guild-&gt;set_value3(guild_rank);
275:                     i++;    // 排行名次+1           
276:                 }
277:             }
278:             return pMsg-&gt;SetIsokAndReturn(E_CORRECT);
279:         }
280:     }
281:     else 
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/center_server/data_wrapper/guild_wrapper.cpp" line="3510" id="nullpointer" subid="invalidDereferenceIterator" severity="Serious" msg="Iterator [it] may be invalid here." web_identify="{&quot;identify&quot;:&quot;it&quot;}" func_info="void GuildWrapper::OnDailySignIn ( simple_player * p , int type , int colour , const std::string &amp; msg )" content="3500:     msg_log.nickname = p-&gt;m_nickname;
3501:     msg_log.msg = msg;
3502:     msg_log.roleid = p-&gt;m_roleid;
3503:     auto&amp;data =  guild_pt_-&gt;m_message_board_data.Mutable();
3504:     data.m_msg_records.push_front(msg_log);
3505:     if(data.m_msg_records.size() &gt; 50)
3506:     {
3507:         data.m_msg_records.pop_back();
3508:     }
3509:     //添加 热度值
3510:     guild_pt_-&gt;set_popularity(guild_pt_-&gt;get_popularity() + it-&gt;second-&gt;get_popularity());
3511: 
3512:     TRIGGER_HOOK(player_guild_signin, p, CVarList());
3513: }
3514: 
3515: void GuildWrapper::BuyGuildInspiredBuff(simple_player* p, const int32_t buff_id)
3516: {
3517:     if (!p)
3518:     {
3519:         return;
3520:     }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/center_server/operate/cs_data_op.cpp" line="403" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [p] suggests that it may be null, but it has already been dereferenced at line 393." web_identify="{&quot;identify&quot;:&quot;p&quot;}" func_info="CFrameOperate::OperRes CLASS_CS_E_GS2CS_CHANGE_FIGHTIN::do_with_role ( )" content="393:     p-&gt;SetCardsTotalScore(req.cards_total_score()); // 设置 卡牌战力
394:     //int32_t old_rank = p-&gt;m_cards_total_score_rank;
395:     g_CSData.add_player_fight_rank(p);
396:     //push.set_fighting(req.cards_total_score());
397:     // if (p-&gt;FightingRankChangePush(old_rank, p-&gt;m_cards_total_score_rank) &gt; 0)
398:     // {
399:     //     push.set_rank(p-&gt;m_cards_total_score_rank);
400:     // }
401:     //p-&gt;player_push_msg(E_S2C_PUSH_FIGHTING, push, SERVER_GG);
402:     //LINFO(&quot;rep E_GS2CS_CHANGE_FIGHTIN : &quot; &lt;&lt; g_PBPrinter.getJsonStream(push));
403:     if(p != nullptr &amp;&amp; p-&gt;m_guild_id != 0)
404:     {
405:         g_CSData.m_guild_manager-&gt;SetFightingRanksChanged(true);
406:     }
407:     if (p-&gt;m_teamid &gt; 0)
408:     {
409:         mmo_team** team_pp = CommonFunctions::get_map_value(g_CSData.m_teams, p-&gt;m_teamid);
410:         if (team_pp)
411:         {
412:             mmo_team* team_pt = *team_pp;
413:             RESPOND(E_S2C_PUSH_TEAM_MEMBER_INFO_CHANGE) push;
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/center_server/operate/cs_dungeon_op.cpp" line="297" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [team_pt] suggests that it may be null, but it has already been dereferenced at line 289." web_identify="{&quot;identify&quot;:&quot;team_pt&quot;}" func_info="CFrameOperate::OperRes CLASS_CS_E_SC2CS_ENTER_DUNGEON::do_with_role ( )" content="287:         // {
288:         //     team_pt = it_team-&gt;second;
289:             req.mutable_create_param()-&gt;set_member_count(team_pt-&gt;get_team_members().size());
290:         // }
291:         
292:         p-&gt;m_limit_robot_follow_time = 0;
293:         //其他限制条件 判断   在此之前 SC 或者 GS 判断过了 
294:         bool flag = g_CSData.m_dungeon_manager.HandleEnterTeamDungeon(
295:             role_id, p-&gt;m_teamid, dungeon_id, mode, req.create_param(),
296:             [](int32_t isok, int32_t scene_copy_id, int32_t scene_id) {});
297:         if(flag &amp;&amp; team_pt)
298:         {
299:             team_pt-&gt;set_team_state(E_TEAM_STATE_WORKING);
300:         }
301:         return OPER_RES_DONNOT_RETURN;
302:     }
303: 
304:     // 常规副本逻辑
305:     // 传送角色到场景
306:     auto trans_cb = [role_id, dungeon_id](int32_t ret,
307:                                           protos::rep_E_S2S_MANAGER_TRANSFER_ROLE_TO_NEW_SCENE&amp; trans_msg) {
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/center_server/operate/cs_gm_op.cpp" line="1869" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [cb_msg] suggests that it may be null, but it has already been dereferenced at line 1868." web_identify="{&quot;identify&quot;:&quot;cb_msg&quot;}" func_info="CFrameOperate::OperRes CLASS_CS_E_S2S_CENTER_GM_CMD::do_with_role ( )" content="1859:             int32_t y = pp.safe_atoi_with_throw(pp.get_param());
1860:             int32_t layer = pp.safe_atoi_with_throw(pp.get_param());
1861:             Location pos(layer, x, y);
1862:             auto&amp;&amp; req_no = g_AsyncRequestHandlerMgr.MakeAsyncRequest(
1863:                 [role_id{p-&gt;m_roleid}, pos](AsyncRequestHandlerNs::PbMessage&amp; jv,
1864:                                             const AsyncRequestHandlerNs::SendMessageEnv&amp; send_env,
1865:                                             int32_t ret_protocol_no) {
1866:                     auto&amp;&amp; cb_msg = reinterpret_cast&lt;RESPOND(E_S2S_MANAGER_CREATE_TEMP_SCENE)*&gt;(&amp;jv);
1867:                     LINFO(&quot; gm test_enter_scene create scene, isok:&quot;
1868:                           &lt;&lt; cb_msg-&gt;isok() &lt;&lt; &quot; scene_info:&quot; &lt;&lt; g_PBPrinter.getJsonStream(cb_msg-&gt;scene_info()));
1869:                     if (!cb_msg)
1870:                         return;
1871: 
1872:                     if (E_CORRECT == cb_msg-&gt;isok())
1873:                     {
1874:                         auto trans_cb = [role_id](int32_t ret,
1875:                                                   protos::rep_E_S2S_MANAGER_TRANSFER_ROLE_TO_NEW_SCENE&amp; trans_msg) {
1876:                             LINFO(&quot;trans_cb, isok:&quot; &lt;&lt; ret);
1877:                             if (E_CORRECT == ret)
1878:                             {
1879:                                 int32_t scene_map_id = trans_msg.scene_info().excel_id();
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/center_server/operate/cs_team_op.cpp" line="1064" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [team.m_leader] suggests that it may be null, but it has already been dereferenced at line 1059." web_identify="{&quot;identify&quot;:&quot;team.m_leader&quot;}" func_info="CFrameOperate::OperRes CLASS_CS_E_C2S_TEAM_JOIN_TEAM::do_with_role ( )" content="1054:         if (E_CORRECT != code)
1055:         {
1056:             return SetIsokAndReturn(E_ERROR_CONDITION_NOT_ENOUGH);
1057:         }
1058:     }
1059:     if (team-&gt;m_leader-&gt;m_cross_team_id &gt; 0)
1060:     {
1061:         // 如果队长有跨服队伍，尝试加入一下队长所在的跨服队伍
1062:         g_CSData.m_cross_team_manager.TryJoinCrossTeam(p, team-&gt;m_leader-&gt;m_cross_team_id);
1063:     }
1064:     if (team-&gt;m_leader &amp;&amp; team-&gt;get_act_type() != protos::E_TEAM_ACTION_TYPE_DIG)
1065:     {
1066:         if (team-&gt;m_leader-&gt;IsInActivityScene())
1067:         {
1068:             return SetIsokAndReturn(E_ERROR_TEAM_IN_ACTIVITY_COPY);
1069:         }
1070:     }
1071:     resp.set_isok(E_CORRECT);
1072:     if (team-&gt;m_leader-&gt;m_auto_agree_team ||
1073:         team-&gt;get_act_type() == protos::E_TEAM_ACTION_TYPE_RETINUE_DUNGEON)  //队长自动同意入队
1074:     {
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/center_server/operate/guild_op.cpp" line="2965" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [guild_ptr] suggests that it may be null, but it has already been dereferenced at line 2964." web_identify="{&quot;identify&quot;:&quot;guild_ptr&quot;}" func_info="CFrameOperate::OperRes CLASS_CS_E_C2C_GET_GUILD_DONATE_LOG::do_with_role ( )" content="2955: //     CommonFunctions::ForwardMessageThroughManagerToScene(push, E_CS2SC_CHECK_PLAYER_JOIN_WAR, req_no_1, -1, scene_id);
2956: //     return OPER_RES_DONNOT_RETURN;
2957: // }
2958: 
2959: CS_MSG_HANDLE_WITH_ROLE_CHECK(E_C2C_GET_GUILD_DONATE_LOG)
2960: {
2961:     resp.set_isok(E_CORRECT);
2962:     int32_t guild_id = p-&gt;m_guild_id;
2963:     auto guild_ptr = g_CSData.m_guilds.HoldCell(guild_id);
2964:     auto&amp; gld = guild_ptr-&gt;m_guild_logs_data.Get();    
2965:     if (guild_ptr)
2966:     {
2967:         resp.mutable_logs()-&gt;CopyFrom(gld.pb_logs.donate_logs());
2968:     }
2969:     // auto it = g_CSData.m_guilds.find(guild_id);
2970:     // if (it != g_CSData.m_guilds.end())
2971:     // {
2972:     // 	resp.mutable_logs()-&gt;CopyFrom(it-&gt;second-&gt;pb_logs.donate_logs());
2973:     // }
2974:     return OPER_RES_PROTO;
2975: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/center_server/operate/guild_op.cpp" line="3279" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [cs_p] suggests that it may be null, but it has already been dereferenced at line 3270." web_identify="{&quot;identify&quot;:&quot;cs_p&quot;}" func_info="CFrameOperate::OperRes CLASS_CS_E_C2S_CHANGE_GUILD_NAME::do_with_role ( )" content="3269:                     strList.push_back(&quot;UiWord_6179&quot;);
3270:                     strList.push_back(cs_p-&gt;m_nickname);
3271:                     strList.push_back(guild_name);
3272:                     // g_CSData.guildLogRecord(guild_id, strList);
3273:                     g_CSData.m_guild_manager-&gt;GuildLogRecord(guild_id, strList);
3274:                 }
3275:             }
3276:             else
3277:             {
3278:                 // 返还消耗物品
3279:                 if (cs_p)
3280:                 {
3281:                     cs_p-&gt;AddItem(cost_item, cost_num, E_INCOME_REASON_UNKNOWN, protos::E_PUSH_NORMAL_END,
3282:                                   E_LOOT_BIND_YES, E_GOODS_FROM_NONE);  // @TODO: 应该单独加一个骑士团改名
3283:                 }
3284:             }
3285:         }
3286:         if (cs_p)
3287:         {
3288:             cs_p-&gt;player_push_msg(E_C2S_CHANGE_GUILD_NAME, clt_resp, SERVER_GG);
3289:             LDEBUG(&quot;call_back, E_C2S_CHANGE_GUILD_NAME, RESP:&quot; &lt;&lt; g_PBPrinter.getJsonStream(clt_resp));
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/center_server/operate/guild_op.cpp" line="3303" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [ret] suggests that it may be null, but it has already been dereferenced at line 3299." web_identify="{&quot;identify&quot;:&quot;ret&quot;}" func_info="CFrameOperate::OperRes CLASS_CS_E_C2S_CHANGE_GUILD_NAME::do_with_role ( )" content="3293:     // 扣道具
3294:     REQUEST(E_CS2GS_SUB_ITEM_NUM) gs_req;
3295:     auto call_back = [role_id, guild_id, guild_name, global_call_back](const google::protobuf::Message&amp; msg,
3296:                                                                        const AsyncRequestHandlerNs::SendMessageEnv&amp;,
3297:                                                                        int32_t protocol_no) {
3298:         auto&amp;&amp; ret = dynamic_cast&lt;const RESPOND(E_CS2GS_SUB_ITEM_NUM)*&gt;(&amp;msg);
3299:         LDEBUG(&quot;call_back, E_CS2GS_SUB_ITEM_NUM, &quot; &lt;&lt; g_PBPrinter.getJsonStream(*ret));
3300:         RESPOND(E_C2S_CHANGE_GUILD_NAME) clt_resp;
3301:         clt_resp.set_isok(E_ERROR_RESOURCE_IS_NOT_ENOUGH);
3302:         simple_player* cs_p = g_CSData.get_player(role_id);
3303:         if (ret &amp;&amp; ret-&gt;isok() == E_CORRECT)
3304:         {
3305:             // 去global_server 改名
3306:             clt_resp.set_isok(ret-&gt;isok());
3307:             REQUEST(E_CS2GLOBAL_CHANGE_GUILD_NAME) global_req;
3308:             global_req.set_guild_id(guild_id);
3309:             global_req.set_guild_name(guild_name);
3310:             auto req_global_no =
3311:                 g_AsyncRequestHandlerMgr.MakeAsyncRequest(global_call_back, AsyncRequestHandlerNs::SendMessageEnv());
3312:             auto&amp;&amp; global_msg =
3313:                 CommonFunctions::MakeReqMessage(E_CS2GLOBAL_CHANGE_GUILD_NAME, global_req, 0, 0, req_global_no);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/center_server/operate/guild_op.cpp" line="4155" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [p] suggests that it may be null, but it has already been dereferenced at line 4109." web_identify="{&quot;identify&quot;:&quot;p&quot;}" func_info="CFrameOperate::OperRes CLASS_CS_E_SC2CS_START_GUILD_TRAINING::do_with_role ( )" content="4145:         op-&gt;player_push_msg(E_S2C_PUSH_GUILD_TRAINING_START, push, SERVER_GG);
4146:         g_CSData.StartGuildTraining(p-&gt;m_roleid, op_role_id);
4147:         // p-&gt;AddLimitRecord(E_LIMIT_TYPE_GUILD_TRAINING, protos::E_GUILD_TRAINING_TYPE_TRAINING_OHTHER, 1);
4148:         // op-&gt;AddLimitRecord(E_LIMIT_TYPE_GUILD_TRAINING, protos::E_GUILD_TRAINING_TYPE_BE_TRAINING, 1);
4149:         // CommonlyUsedServerCommunation::GsUpdateDailyTask(E_DAILY_TASK_ACT_GUILD_TRAINING, p-&gt;m_roleid);
4150:         // CommonlyUsedServerCommunation::GsUpdateDailyTask(E_DAILY_TASK_ACT_GUILD_TRAINING, op-&gt;m_roleid);
4151: 
4152:         op-&gt;StartGuildTraining();
4153:         p-&gt;StartGuildTraining();
4154:     }
4155:     else if (op &amp;&amp; p &amp;&amp; p-&gt;m_roleid == op-&gt;m_roleid)
4156:     {
4157:         int32_t cur_times = p-&gt;GetLimitRecord(E_LIMIT_TYPE_GUILD_TRAINING, protos::E_GUILD_TRAINING_TYPE_BE_TRAINING);
4158:         if (cur_times &gt;= max_reward_times)
4159:         {
4160:             RESPOND(E_C2S_START_GUILD_TRAINING) clt_resp;
4161:             clt_resp.set_isok(E_ERROR_HAVE_NO_NUM);
4162:             p-&gt;player_push_msg(E_C2S_START_GUILD_TRAINING, clt_resp, SERVER_GG);
4163:             g_CSData.ClearGuildTrainingData(p-&gt;m_roleid, op_role_id);
4164:             return OPER_RES_DONNOT_RETURN;
4165:         }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/cross_center_server/data/cc_cross_gvg_manager.cpp" line="633" id="suspicious" subid="unConditionalBreakinLoop" severity="Warning" msg="An unconditional &apos;break/return/goto&apos; within a loop.It may be a mistake." web_identify="{&quot;identify&quot;:&quot;;&quot;}" func_info="int CCCrossGVGManager::GetMatchDay ( )" content="623:         for (int32_t i = 0; i &lt; cache_pt-&gt;pb_config_pt-&gt;week_size(); i++)
624:         {
625:             match_day = cache_pt-&gt;pb_config_pt-&gt;week(i);
626: 
627:             match_day += 2;
628:             if (match_day &gt; 7)
629:             {
630:                 match_day = match_day % 7;
631:             }
632:             LINFO(&quot;GetMatchDay  match_day&quot; &lt;&lt; match_day);
633:             break;
634:         }
635:     }
636: 
637:     LINFO(&quot;GetMatchDay match_day &quot; &lt;&lt; match_day);
638:     return match_day;
639: }
640: 
641: 
642: //******************************************************************CCCrossGVGManager END
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/data_server/data/db_global_data.cpp" line="1367" id="suspicious" subid="unConditionalBreakinLoop" severity="Warning" msg="An unconditional &apos;break/return/goto&apos; within a loop.It may be a mistake." web_identify="{&quot;identify&quot;:&quot;;&quot;}" func_info="template &lt; typename V &gt; bool loadonefromdb ( const std::string &amp; tablename , const std::string &amp; padding , V * p )" content="1357:     return loadall(tablename, padding, [&amp;](mysqlpp::StoreQueryResult&amp; res) {
1358:         std::vector&lt;std::string&gt; str_vec;
1359:         for (auto&amp; r : res)
1360:         {
1361:             for (auto&amp; v : r)
1362:             {
1363:                 str_vec.emplace_back(string(v.data(), v.size()));
1364:             }
1365:             p-&gt;set_data_base_by_query(str_vec);
1366:             str_vec.clear();
1367:             break;
1368:         }
1369:     });
1370: }
1371: 
1372: /**
1373:  * 适用于cellmap的加载
1374:  * @tparam K
1375:  * @tparam V
1376:  * @param tablename
1377:  * @param padding
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/frame/include/common_singleton.h" line="42" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [ms_pInstance] to null at line 29 implies that [ms_pInstance ] might be null.Dereferencing null pointer [ms_pInstance]." web_identify="{&quot;identify&quot;:&quot;ms_pInstance&quot;}" func_info="static T &amp; CSingleton::GetInstance ( )" content="32: 				if(NULL == ms_pInstance)
33: 				{
34: 					ms_pInstance = new T();
35: 					std::atexit([]()
36: 					{
37: 						DestroyInstance();
38: 					});
39: 				}
40: 			}
41: 
42: 			return *ms_pInstance;
43: 		}
44: 
45: 		//销毁实例
46: 		static void DestroyInstance()
47: 		{
48: 			if(NULL != ms_pInstance)
49: 			{
50: 				MUTEX_GUARD(lock, m_stLock);
51: 				if(NULL != ms_pInstance)
52: 				{
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/game_server/data/global_data.cpp" line="4258" id="suspicious" subid="unConditionalBreakinLoop" severity="Warning" msg="An unconditional &apos;break/return/goto&apos; within a loop.It may be a mistake." web_identify="{&quot;identify&quot;:&quot;;&quot;}" func_info="void global_data::UpdateCreateOneRobot ( time_t utime_sec )" content="4248:         {
4249:             updateSimplePlayer(p);
4250:             LINFO(&quot;create robot success, role_id:&quot; &lt;&lt; role_id);
4251:             // m_async_arena-&gt;CheckAndFullRobotRank(p);
4252:         }
4253:         else
4254:         {
4255:             LINFO(&quot;create robot failed, role_id:&quot; &lt;&lt; role_id);
4256:         }
4257:         m_to_create_robot.erase(it++);
4258:         break;
4259:     }
4260: 
4261:     for (auto it = m_to_update_robot.begin(); it != m_to_update_robot.end();)
4262:     {
4263:         int64_t role_id = it-&gt;first;
4264:         CreateRobotInfo&amp; create_info = it-&gt;second;
4265:         if (create_info.create_time == 0)
4266:         {
4267:             create_info.create_time = Tools::game_now();
4268:         }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/game_server/data/global_data.cpp" line="4288" id="suspicious" subid="unConditionalBreakinLoop" severity="Warning" msg="An unconditional &apos;break/return/goto&apos; within a loop.It may be a mistake." web_identify="{&quot;identify&quot;:&quot;;&quot;}" func_info="void global_data::UpdateCreateOneRobot ( time_t utime_sec )" content="4278:         else
4279:         {
4280:             LDEBUG(&quot;update robot may wait load, role_id:&quot; &lt;&lt; role_id);
4281:             if (create_info.create_time + 2 * 60 &lt; Tools::game_now())
4282:             {
4283: 
4284:                 m_to_update_robot.erase(it++);
4285:                 LINFO(&quot;update robot failed , timeout, role_id:&quot; &lt;&lt; role_id);
4286:             }
4287:         }
4288:         break;
4289:     }
4290: }
4291: 
4292: player_data* global_data::CreateRobot(const CreateRobotInfo&amp; create_info)
4293: {
4294:     int32_t robot_id = create_info.robot_id;
4295:     int64_t role_id = MAX_AI_ROLE_ID + robot_id;
4296:     if (create_info.role_id &gt; 0) {
4297:         role_id = create_info.role_id;
4298:     }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/game_server/data/global_data.h" line="84" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;DropParam::item_weight,&apos; is not initialized in the constructor." web_identify="{&quot;identify&quot;:&quot;DropParam::item_weight,&quot;}" func_info="DropParam" content="74: // 	int32_t id = 0;
75: // 	int32_t num = 0;
76: // 	int32_t is_bind = 0;
77: // };
78: // class GsAsyncArena;
79: // class GsPromotion;
80: enum EFunctionCode : int32_t;
81: struct DropParam
82: {
83:     DropParam() {}
84:     DropParam(player_data* p) : player_(p) {}
85:     DropParam(int32_t guild_id) : guild_id_(guild_id) {}
86:     player_data* player_ = nullptr;
87:     int32_t guild_id_ = 0;
88:     double ratio = 1.0f;
89: 
90:     protos::PE_PUSH_ITEM_TYPE _function_module = protos::E_PUSH_OTHER_END;
91:     // int32_t _msg_protocol = 0;
92:     // bool isJustShow = false;
93:     const std::map&lt;item_id_t, int32_t&gt;* item_weight = nullptr;
94:     int32_t extra_weight = 0;
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/game_server/data/global_data.h" line="85" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;DropParam::item_weight,&apos; is not initialized in the constructor." web_identify="{&quot;identify&quot;:&quot;DropParam::item_weight,&quot;}" func_info="DropParam" content="75: // 	int32_t num = 0;
76: // 	int32_t is_bind = 0;
77: // };
78: // class GsAsyncArena;
79: // class GsPromotion;
80: enum EFunctionCode : int32_t;
81: struct DropParam
82: {
83:     DropParam() {}
84:     DropParam(player_data* p) : player_(p) {}
85:     DropParam(int32_t guild_id) : guild_id_(guild_id) {}
86:     player_data* player_ = nullptr;
87:     int32_t guild_id_ = 0;
88:     double ratio = 1.0f;
89: 
90:     protos::PE_PUSH_ITEM_TYPE _function_module = protos::E_PUSH_OTHER_END;
91:     // int32_t _msg_protocol = 0;
92:     // bool isJustShow = false;
93:     const std::map&lt;item_id_t, int32_t&gt;* item_weight = nullptr;
94:     int32_t extra_weight = 0;
95:     EGoodsFrom e_source = E_GOODS_FROM_NONE;
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/game_server/data/gs_aid_card_module.cpp" line="253" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [re_param] to null at line 251 implies that [re_param ] might be null.Dereferencing null pointer [re_param]." web_identify="{&quot;identify&quot;:&quot;re_param&quot;}" func_info="bool GSAidCardModule::PutNewAidCardIntoPackage ( player_data * pPlayer , std::unique_ptr &lt; aid_cards_t &gt; &amp; cell , std::vector &lt; stDropInfo &gt; &amp; v_droplist , AidCardParam * re_param )" content="243:     auto cid = cell-&gt;get_cid();
244:     cell-&gt;set_quality(setting-&gt;quality());
245:     cell-&gt;set_roleid(role_id);
246:     cell-&gt;set_cid(cid);
247: 
248:     auto ssize = GetPackageSize(pPlayer);
249:     if (ssize &gt;= GetPackageSpace(pPlayer))
250:     {
251:         set_error(re_param, E_ERROR_BAG_GRID_MAX_NUM_LIMIT);
252:         //放邮箱
253:         SendMail(pPlayer,cell, re_param-&gt;e_source);
254:         stDropInfo di(E_GOOD_CLASS_AID_CARD, cid, 1, -1);
255:         di.is_new = IsNewAidCard(pPlayer,cid);
256:         di.num_before = pPlayer-&gt;get_item_num(cid);
257:         MakeClientPbInfo(*(cell.get()), di.aid_card);
258:         v_droplist.push_back(di);
259:         return false;
260:     }
261: 
262:     int64_t sid = g_GlobalData.gener_next_id(E_GENER_AID_CARD);
263:     cell-&gt;set_sid(sid);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/game_server/data/gs_arena_sky_high_module.cpp" line="1039" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [challenger] to null at line 964 implies that [challenger ] might be null.Dereferencing null pointer [challenger]." web_identify="{&quot;identify&quot;:&quot;challenger&quot;}" func_info="CFrameOperate::OperRes GSArenaSkyHighModule::OnMsgArenaSkyHighSweep ( player_data * pPlayer , long defend_roleid , CLASS_GAME_E_C2S_ARENA_SKY_HIGH_3V3_START * pMsg )" content="1029:                                 CommonFunctions::ForwardMessageCross(cgs_req, E_S2S_GS2CROSS2GS_ARENA_SKY_HIGH_OPPO_RESULT, -1, defend_zone_id, SERVER_GS, 0);
1030:                             }
1031:                         }
1032:                     }
1033:                 } else {
1034:                     LERROR(&quot;E_S2S_GS2CC_ARENA_SKY_HIGH_SWEEP_RANK ERROR!&quot;);
1035:                 }
1036:             }
1037:             if(E_CORRECT != rsp.isok()) {
1038:                 // 恢复次数
1039:                 GSArenaSkyHighModule::ChangeChallengeTimes(challenger, -1);
1040:             }
1041:             // 解除锁
1042:             GSArenaSkyHighModule::SetChallengingState(challenger_roleid, false);
1043:             //挑战完 刷新 挑战列表, 这个代码必须放在最后，因为前面有可能要取之前的排名和挑战信息
1044:             GSArenaSkyHighModule::RefreshChallenge(challenger,false);
1045:             // 回給客戶端
1046:             AsyncRequestHandlerNs::SendAckMessage(rsp, send_env);
1047:         },
1048:         pMsg-&gt;MakeSendMessageEnv());
1049: 
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/game_server/data/gs_arena_sky_module.cpp" line="2301" id="suspicious" subid="SuspiciousPriority" severity="Information" msg="The priority of the &apos;+&apos; operation is higher than that of the &apos;&lt;&lt;&apos; operation. It&apos;s possible that parentheses should be used in the expression." web_identify="" func_info="E_ERROR_TYPE GSArenaSkyModule::FirstRefreshChallenge ( player_data * p , long robot_id1 , long robot_id2 , long robot_id3 )" content="2291:         robot_id_list.clear();
2292:         auto constant_lua_cache = ConstDataHelper::ConstantLua::getConstantLuaCache();
2293:         if(!constant_lua_cache)
2294:         {
2295:             LERROR(&quot;NULL pointer&quot;);
2296:             return E_ERROR_EXCEL_ERROR;
2297:         }
2298:         for(auto i : constant_lua_cache-&gt;constant_setting-&gt;arenasky_target_id_list())
2299:         {
2300:             robot_id_list.push_back(i+MAX_AI_ROLE_ID);
2301:             LINFO(&quot;robot_id_list i+MAX_AI_ROLE_ID&quot;&lt;&lt;i+MAX_AI_ROLE_ID);
2302:         }
2303:         if(robot_id_list.size() == 0)
2304:         {
2305:             LERROR(&quot;EXCEL ERROE&quot;);
2306:             return E_ERROR_EXCEL_ERROR;
2307:         }
2308:         for(auto i : robot_id_list)
2309:         {
2310:             challenge_list.push_back(i);
2311:             LINFO(&quot;robot_id_list i&quot;&lt;&lt;i);
" inconclusive="true"/>
    <error file="/data/EveryDayTscan/sot_server/classes/game_server/data/gs_arena_sky_module.cpp" line="917" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [p] suggests that it may be null, but it has already been dereferenced at line 804 in function[ResetChallengeIdx]." web_identify="{&quot;identify&quot;:&quot;p&quot;}" func_info="CFrameOperate::OperRes CLASS_GAME_E_C2S_START_ARENA_SKY::do_with_role ( )" content="907:     };
908: 
909:     auto defender_player = g_GlobalData.find_player(defender_roleid);
910:     if (!defender_player)
911:     {
912:         LDEBUG(&quot;BEGIN load async copy player,roleid:&quot; &lt;&lt; defender_roleid);
913:         g_GlobalData.AsyncLoadPlayer(defender_roleid, [on_challenged, defender_roleid](int32_t isok, player_data* p) {
914:             if (isok == E_CORRECT)
915:             {
916:                 LDEBUG(&quot;END load async copy player,roleid:&quot; &lt;&lt; defender_roleid);
917:                 if (p)
918:                 {
919:                     auto ret = on_challenged(p);
920:                     if (ret != E_CORRECT)
921:                         LWARN(&quot;on_challenged FAIL ret:&quot; &lt;&lt; ret);
922:                 }
923:             }
924:             else
925:             {
926:                 LERROR(&quot;load role(&quot; &lt;&lt; defender_roleid &lt;&lt; &quot;) fail(&quot; &lt;&lt; isok &lt;&lt; &quot;)&quot;);
927:             }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/game_server/data/gs_daily_answer_module.cpp" line="85" id="suspicious" subid="unConditionalBreakinLoop" severity="Warning" msg="An unconditional &apos;break/return/goto&apos; within a loop.It may be a mistake." web_identify="{&quot;identify&quot;:&quot;;&quot;}" func_info="void GSDailyAnswerModule::LoadConfig ( )" content="75:         auto&amp; cfg = pair.second;
76:         g_daily_questions_num = cfg-&gt;questions_num();
77:         g_clean_days = cfg-&gt;clean_days();
78: 
79:         LINFO(&quot;GSDailyAnswerModule LoadConfig questions_num:&quot; &lt;&lt; g_daily_questions_num
80:             &lt;&lt; &quot;,clean_days:&quot; &lt;&lt; g_clean_days);
81:         g_right_reward.clear();
82:         g_wrong_reward.clear();
83:         g_right_reward = Tools::SplitStrToGroupNumList(cfg-&gt;right_reward(), &quot;|&quot;, &quot;,&quot;);
84:         g_wrong_reward = Tools::SplitStrToGroupNumList(cfg-&gt;fail_reward(), &quot;|&quot;, &quot;,&quot;);
85:         break;
86:     }
87: }
88: 
89: //E_C2S_DAILY_ANSWER_INFO = 5251,     //每日答题题目信息获取
90: GAME_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_DAILY_ANSWER_INFO)
91: {
92:     auto&amp; data = p-&gt;get_table_role_func_data().m_daily_answer_data.Get();
93:     resp.set_weekly_correct_count(data.weekly_correct_count);
94:     resp.set_weekly_reward_status(data.weekly_reward_status);
95:     const gs_global_data_t::Questions* question = GSDailyAnswerModule::GetCurQuestionsList(p);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/game_server/data/gs_dmp_module.cpp" line="10444" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [v_droplist] suggests that it may be null, but it has already been dereferenced at line 10429." web_identify="{&quot;identify&quot;:&quot;v_droplist&quot;}" func_info="void GSDmpModule::OnPlayerRetrieveMissReward ( const IVarList &amp; input_var , void * object )" content="10434:     Json::Value a_rst;
10435:     Json::Value sub_a_tar;
10436: 
10437:     MAKE_DMP_LOG_START(pPlayer, dmp_json_data)
10438:     a_tar[&quot;action_type&quot;] = action_type;
10439:     a_tar[&quot;reward_type&quot;] = reward_type;
10440:     a_tar[&quot;nums&quot;] = nums;
10441:     a_tar[&quot;times&quot;] = ConstDataHelper::LanguageNames::GetLangChinese(times);
10442: 
10443:     body[&quot;a_tar&quot;] = a_tar;
10444:     if (v_droplist &amp;&amp; v_droplist-&gt;size() &gt; 0)
10445:     {
10446:         for (auto&amp; v : *v_droplist)
10447:         {
10448:             int32_t item_id = v.item_id;
10449:             int32_t diff = v.real_add_num;
10450:             int32_t after = pPlayer-&gt;get_item_num(item_id);
10451:             int32_t before = after - diff;
10452:             sub_a_tar[&quot;obj&quot;] = g_GSDataInterface.GetItemDmpName(item_id);
10453:             sub_a_tar[&quot;diff&quot;] = diff;
10454:             sub_a_tar[&quot;before&quot;] = before;
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/game_server/data/gs_dmp_module.cpp" line="1115" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [v_droplist] suggests that it may be null, but it has already been dereferenced at line 1104." web_identify="{&quot;identify&quot;:&quot;v_droplist&quot;}" func_info="void GSDmpModule::OnSeverShopBuy ( const IVarList &amp; input_var , void * object )" content="1105:     {
1106:         if (v.real_add_num &gt;= 0)
1107:         {
1108:             a_tar[&quot;goods_info&quot;][&quot;item_id&quot;] = v.item_id;
1109:             a_tar[&quot;goods_info&quot;][&quot;item_name&quot;] = g_GSDataInterface.GetItemName(v.item_id);
1110:             a_tar[&quot;goods_info&quot;][&quot;position&quot;] = m_sort;
1111:             a_tar[&quot;goods_info&quot;][&quot;discount&quot;] = std::to_string(price_info);//double不转string json的数会有问题
1112:         }
1113:     }
1114:     body[&quot;a_tar&quot;] = a_tar;
1115:     if(v_droplist &amp;&amp; v_droplist-&gt;size() &gt; 0)
1116:     {
1117:         for(auto &amp;v:*v_droplist)
1118:         {
1119:             int32_t item_id = v.item_id;
1120:             int32_t diff = v.real_add_num;//v.num
1121:             int32_t after =  pPlayer-&gt;get_item_num(item_id);
1122:             int32_t before =  after - diff;
1123:             Json::Value sub_a_tar;
1124:             sub_a_tar[&quot;obj&quot;] = g_GSDataInterface.GetItemDmpName(item_id);
1125:             sub_a_tar[&quot;diff&quot;] = diff;
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/game_server/data/gs_dmp_module.cpp" line="1167" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [v_droplist] suggests that it may be null, but it has already been dereferenced at line 1159." web_identify="{&quot;identify&quot;:&quot;v_droplist&quot;}" func_info="void GSDmpModule::OnPlayerDrawDiceShopBuy ( const IVarList &amp; input_var , void * object )" content="1157:     a_tar[&quot;shop_id&quot;] = shop_id;
1158:     a_tar[&quot;shop_name&quot;] = ConstDataHelper::LanguageNames::GetLangChinese(&quot;UiWord_12359&quot;);
1159:     for(auto &amp;v:*v_droplist)
1160:     {
1161:         a_tar[&quot;goods_info&quot;][&quot;item_id&quot;] = v.item_id;
1162:         a_tar[&quot;goods_info&quot;][&quot;item_name&quot;] = g_GSDataInterface.GetItemName(v.item_id);
1163:         a_tar[&quot;goods_info&quot;][&quot;position&quot;] = &quot;&quot;;
1164:         a_tar[&quot;goods_info&quot;][&quot;discount&quot;] = std::to_string(price_info);//double不转string json的数会有问题
1165:     }
1166:     body[&quot;a_tar&quot;] = a_tar;
1167:     if(v_droplist &amp;&amp; v_droplist-&gt;size() &gt; 0)
1168:     {
1169:         for(auto &amp;v:*v_droplist)
1170:         {
1171:             int32_t item_id = v.item_id;
1172:             int32_t diff = v.real_add_num;//v.num
1173:             int32_t after =  pPlayer-&gt;get_item_num(item_id);
1174:             int32_t before =  after - diff;
1175:             Json::Value sub_a_tar;
1176:             sub_a_tar[&quot;obj&quot;] = g_GSDataInterface.GetItemDmpName(item_id);
1177:             sub_a_tar[&quot;diff&quot;] = diff;
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/game_server/data/gs_dmp_module.cpp" line="1218" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [v_droplist] suggests that it may be null, but it has already been dereferenced at line 1210." web_identify="{&quot;identify&quot;:&quot;v_droplist&quot;}" func_info="void GSDmpModule::OnPlayerMysteryShopBuy ( const IVarList &amp; input_var , void * object )" content="1208:     a_tar[&quot;shop_id&quot;] = shop_id;
1209:     a_tar[&quot;shop_name&quot;] = ConstDataHelper::LanguageNames::GetLangChinese(&quot;UiWord_11832&quot;);
1210:     for(auto &amp;v:*v_droplist)
1211:     {
1212:         a_tar[&quot;goods_info&quot;][&quot;item_id&quot;] = v.item_id;
1213:         a_tar[&quot;goods_info&quot;][&quot;item_name&quot;] = g_GSDataInterface.GetItemName(v.item_id);
1214:         a_tar[&quot;goods_info&quot;][&quot;position&quot;] = &quot;&quot;;
1215:         a_tar[&quot;goods_info&quot;][&quot;discount&quot;] = std::to_string(price_info);//double不转string json的数会有问题
1216:     }
1217:     body[&quot;a_tar&quot;] = a_tar;
1218:     if(v_droplist &amp;&amp; v_droplist-&gt;size() &gt; 0)
1219:     {
1220:         for(auto &amp;v:*v_droplist)
1221:         {
1222:             int32_t item_id = v.item_id;
1223:             int32_t diff = v.real_add_num;//v.num
1224:             int32_t after =  pPlayer-&gt;get_item_num(item_id);
1225:             int32_t before =  after - diff;
1226:             Json::Value sub_a_tar;
1227:             sub_a_tar[&quot;obj&quot;] = g_GSDataInterface.GetItemDmpName(item_id);
1228:             sub_a_tar[&quot;diff&quot;] = diff;
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/game_server/data/gs_dmp_module.cpp" line="1371" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [v_droplist] suggests that it may be null, but it has already been dereferenced at line 1370." web_identify="{&quot;identify&quot;:&quot;v_droplist&quot;}" func_info="void GSDmpModule::OnPlayerCardLevelup ( const IVarList &amp; input_var , void * object )" content="1361:         sub_a_tar[&quot;after&quot;] = after_card_exp;
1362:         a_rst.append(sub_a_tar);
1363:     }
1364:     LDEBUG(&quot;input_var.GetSize()&quot; &lt;&lt; input_var.GetSize());
1365:     if (log_card_type == 1)
1366:     {
1367:         if(input_var.GetSize() &gt;= 8){
1368:             //std::vector&lt;stDropInfo&gt;* v_droplist = (std::vector&lt;stDropInfo&gt;* )input_var.GetPtr(7);
1369:             auto v_droplist = (std::vector&lt;stDropInfo&gt;* )input_var.GetPtr(7);
1370:             g_GSDataInterface.MergeDropListByItemID(*v_droplist);
1371:             if(v_droplist &amp;&amp; v_droplist-&gt;size() &gt; 0)
1372:             {
1373:                 for(auto &amp;v:*v_droplist)
1374:                 {
1375:                     int32_t item_id = v.item_id;
1376:                     int32_t diff = v.real_add_num;//v.num
1377:                     int32_t after =  pPlayer-&gt;get_item_num(item_id);
1378:                     int32_t before =  after - diff;
1379:                     sub_a_tar[&quot;obj&quot;] = g_GSDataInterface.GetItemDmpName(item_id);
1380:                     sub_a_tar[&quot;diff&quot;] = diff;
1381:                     sub_a_tar[&quot;before&quot;] = before;
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/game_server/data/gs_dmp_module.cpp" line="1879" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [v_droplist] suggests that it may be null, but it has already been dereferenced at line 1852." web_identify="{&quot;identify&quot;:&quot;v_droplist&quot;}" func_info="void GSDmpModule::OnSoulDecompose ( const IVarList &amp; input_var , void * object )" content="1869:             a_tar[&quot;stone_uid&quot;].append(v.first);
1870:             std::string soul_name = &quot;&quot;;
1871:             auto soul_cfg = g_ConstData.get_m_soul_config().find(v.second);
1872:             if (soul_cfg != g_ConstData.get_m_soul_config().end()) {
1873:                     soul_name = soul_cfg-&gt;second-&gt;name();
1874:             }
1875:             a_tar[&quot;stone_name&quot;].append(soul_name);
1876:         }
1877:     }
1878: 
1879:     if(v_droplist &amp;&amp; v_droplist-&gt;size() &gt; 0)
1880:     {
1881:         for(auto &amp;v:*v_droplist)
1882:         {
1883:             int32_t item_id = v.item_id;
1884:             int32_t diff = v.real_add_num;
1885: 
1886:             int32_t after =  pPlayer-&gt;get_item_num(item_id);
1887:             int32_t before =  after - diff;
1888:             Json::Value sub_a_tar;
1889:             sub_a_tar[&quot;obj&quot;] = g_GSDataInterface.GetItemDmpName(item_id);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/game_server/data/gs_dmp_module.cpp" line="3858" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [v_droplist] suggests that it may be null, but it has already been dereferenced at line 3843." web_identify="{&quot;identify&quot;:&quot;v_droplist&quot;}" func_info="void GSDmpModule::OnPlayerDrawDice ( const IVarList &amp; input_var , void * object )" content="3848:     Json::Value a_rst;
3849:     Json::Value sub_a_tar;
3850: 
3851:     MAKE_DMP_LOG_START(pPlayer, dmp_json_data)
3852:     a_tar[&quot;gacha_id&quot;] = gacha_id;
3853:     a_tar[&quot;gacha_name&quot;] = ConstDataHelper::LanguageNames::GetLangChinese(gacha_name);
3854:     a_tar[&quot;type&quot;] = gacha_times;
3855:     a_tar[&quot;gacha_info&quot;] = &quot;&quot;;
3856: 
3857:     body[&quot;a_tar&quot;] = a_tar;
3858:     if(v_droplist &amp;&amp; v_droplist-&gt;size() &gt; 0)
3859:     {
3860:         for(auto &amp;v:*v_droplist)
3861:         {
3862:             int32_t item_id = v.item_id;
3863:             int32_t diff = v.real_add_num;
3864:             int32_t after =  pPlayer-&gt;get_item_num(item_id);
3865:             int32_t before =  after - diff;
3866:             sub_a_tar[&quot;obj&quot;] = g_GSDataInterface.GetItemDmpName(item_id);
3867:             sub_a_tar[&quot;diff&quot;] = diff;
3868:             sub_a_tar[&quot;before&quot;] = before;
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/game_server/data/gs_dmp_module.cpp" line="3934" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [v_droplist] suggests that it may be null, but it has already been dereferenced at line 3893." web_identify="{&quot;identify&quot;:&quot;v_droplist&quot;}" func_info="void GSDmpModule::OnPlayerDrawRune ( const IVarList &amp; input_var , void * object )" content="3924:                 item_name = it_item-&gt;second-&gt;name();
3925:             }
3926:         }
3927:         rune[&quot;item_name&quot;] = ConstDataHelper::LanguageNames::GetLangChinese(item_name);
3928:         rune[&quot;nums&quot;] = v.second;
3929:         gacha_runes.append(rune);
3930:     }
3931:     a_tar[&quot;gacha_runes&quot;] = gacha_runes;
3932:     body[&quot;a_tar&quot;] = a_tar;
3933:     int32_t cost_num = 0;
3934:     if(v_droplist &amp;&amp; v_droplist-&gt;size() &gt; 0)
3935:     {
3936:         for(auto &amp;v:*v_droplist)
3937:         {
3938:             int32_t item_id = v.item_id;
3939:             int32_t diff = v.real_add_num;
3940:             int32_t after =  pPlayer-&gt;get_item_num(item_id);
3941:             int32_t before =  after - diff;
3942:             if (diff &lt; 0)
3943:             {
3944:                 sub_a_tar[&quot;obj&quot;] = g_GSDataInterface.GetItemDmpName(item_id);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/game_server/data/gs_dmp_module.cpp" line="4002" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [v_droplist] suggests that it may be null, but it has already been dereferenced at line 3975." web_identify="{&quot;identify&quot;:&quot;v_droplist&quot;}" func_info="void GSDmpModule::OnPlayerPickUpRune ( const IVarList &amp; input_var , void * object )" content="3992:         auto it_item = g_ConstData.get_m_rune_config().find(v.first);
3993:         if (it_item != g_ConstData.get_m_rune_config().end()) {
3994:             item_name = it_item-&gt;second-&gt;rune_name();
3995:         }
3996:         rune[&quot;item_name&quot;] = ConstDataHelper::LanguageNames::GetLangChinese(item_name);
3997:         rune[&quot;nums&quot;] = v.second;
3998:         pickup_items.append(rune);
3999:     }
4000:     a_tar[&quot;pickup_items&quot;] = pickup_items;
4001:     body[&quot;a_tar&quot;] = a_tar;
4002:     if(v_droplist &amp;&amp; v_droplist-&gt;size() &gt; 0)
4003:     {
4004:         for(auto &amp;v:*v_droplist)
4005:         {
4006:             int32_t item_id = v.item_id;
4007:             int32_t diff = v.real_add_num;
4008:             int32_t after =  pPlayer-&gt;get_item_num(item_id);
4009:             int32_t before =  after - diff;
4010:             sub_a_tar[&quot;obj&quot;] = g_GSDataInterface.GetItemDmpName(item_id);
4011:             sub_a_tar[&quot;diff&quot;] = diff;
4012:             sub_a_tar[&quot;before&quot;] = before;
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/game_server/data/gs_dmp_module.cpp" line="5365" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [v_droplist] suggests that it may be null, but it has already been dereferenced at line 5350." web_identify="{&quot;identify&quot;:&quot;v_droplist&quot;}" func_info="void GSDmpModule::OnPlayerWorldBoss ( const IVarList &amp; input_var , void * object )" content="5355:     Json::Value body;
5356:     Json::Value a_rst;
5357:     Json::Value sub_a_tar;
5358: 
5359:     MAKE_DMP_LOG_START(pPlayer, dmp_json_data)
5360:     a_tar[&quot;boss_id&quot;] = boss_id;
5361:     a_tar[&quot;boss_name&quot;] = ConstDataHelper::LanguageNames::GetLangChinese(boss_name);
5362:     a_tar[&quot;hit&quot;] = hit;
5363:     a_tar[&quot;bind_times&quot;] = bind_times;
5364:     a_tar[&quot;rebuild_times&quot;] = rebuild_times;
5365:     if(v_droplist &amp;&amp; v_droplist-&gt;size() &gt; 0)
5366:     {
5367:         for(auto &amp;v:*v_droplist)
5368:         {
5369:             int32_t item_id = v.item_id;
5370:             int32_t diff = v.real_add_num;
5371:             int32_t after =  pPlayer-&gt;get_item_num(item_id);
5372:             int32_t before =  after - diff;
5373:             sub_a_tar[&quot;obj&quot;] = g_GSDataInterface.GetItemDmpName(item_id);
5374:             sub_a_tar[&quot;diff&quot;] = diff;
5375:             sub_a_tar[&quot;before&quot;] = before;
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/game_server/data/gs_dmp_module.cpp" line="5677" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [v_droplist] suggests that it may be null, but it has already been dereferenced at line 5660." web_identify="{&quot;identify&quot;:&quot;v_droplist&quot;}" func_info="void GSDmpModule::OnPlayerCoreGradeup ( const IVarList &amp; input_var , void * object )" content="5667: 
5668:     MAKE_DMP_LOG_START(pPlayer, dmp_json_data)
5669: 
5670:     a_tar[&quot;core_id&quot;] = soul_ring.id;
5671:     a_tar[&quot;core_name&quot;] = ConstDataHelper::LanguageNames::GetLangChinese(it_core_quality-&gt;second-&gt;name());
5672:     a_tar[&quot;core_uid&quot;] = sid;
5673:     a_tar[&quot;grade_before&quot;] = grade_before;
5674:     a_tar[&quot;grade_after&quot;] = grade_after;
5675:     a_tar[&quot;result&quot;] = result;
5676: 
5677:     if (v_droplist &amp;&amp; v_droplist-&gt;size() &gt; 0)
5678:     {
5679:         for (auto&amp; v : *v_droplist)
5680:         {
5681:             int32_t item_id = v.item_id;
5682:             int32_t diff = v.real_add_num;
5683:             int32_t after = pPlayer-&gt;get_item_num(item_id);
5684:             int32_t before = after - diff;
5685:             sub_a_tar[&quot;obj&quot;] = g_GSDataInterface.GetItemDmpName(item_id);
5686:             sub_a_tar[&quot;diff&quot;] = diff;
5687:             sub_a_tar[&quot;before&quot;] = before;
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/game_server/data/gs_dmp_module.cpp" line="5742" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [v_droplist] suggests that it may be null, but it has already been dereferenced at line 5727." web_identify="{&quot;identify&quot;:&quot;v_droplist&quot;}" func_info="void GSDmpModule::OnPlayerCoreLeveUp ( const IVarList &amp; input_var , void * object )" content="5732:     Json::Value a_rst;
5733:     Json::Value sub_a_tar;
5734: 
5735:     MAKE_DMP_LOG_START(pPlayer, dmp_json_data)
5736: 
5737:     a_tar[&quot;core_id&quot;] = soul_ring.id;
5738:     a_tar[&quot;core_name&quot;] = ConstDataHelper::LanguageNames::GetLangChinese(it_core_quality-&gt;second-&gt;name());
5739:     a_tar[&quot;type&quot;] = type;
5740:     a_tar[&quot;level_before&quot;] = level_before;
5741:     a_tar[&quot;level_after&quot;] = level_after;
5742:     if(v_droplist &amp;&amp; v_droplist-&gt;size() &gt; 0)
5743:     {
5744:         for(auto &amp;v:*v_droplist)
5745:         {
5746:             int32_t item_id = v.item_id;
5747:             int32_t diff = v.real_add_num;
5748:             int32_t after =  pPlayer-&gt;get_item_num(item_id);
5749:             int32_t before =  after - diff;
5750:             sub_a_tar[&quot;obj&quot;] = g_GSDataInterface.GetItemDmpName(item_id);
5751:             sub_a_tar[&quot;diff&quot;] = diff;
5752:             sub_a_tar[&quot;before&quot;] = before;
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/game_server/data/gs_dmp_module.cpp" line="6402" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [v_droplist] suggests that it may be null, but it has already been dereferenced at line 6381." web_identify="{&quot;identify&quot;:&quot;v_droplist&quot;}" func_info="void GSDmpModule::OnPlayerRuneLevelUp ( const IVarList &amp; input_var , void * object )" content="6392:     Json::Value a_rst;
6393:     Json::Value sub_a_tar;
6394:     MAKE_DMP_LOG_START(pPlayer, dmp_json_data)
6395:     a_tar[&quot;rune_uid&quot;] = rune_sid;
6396:     a_tar[&quot;rune_id&quot;] = rune_id;
6397:     a_tar[&quot;rune_name&quot;] = ConstDataHelper::LanguageNames::GetLangChinese(it_config-&gt;second-&gt;rune_name());
6398:     a_tar[&quot;result&quot;] = result;
6399:     a_tar[&quot;level_before&quot;] = level_before;
6400:     a_tar[&quot;level_after&quot;] = level_after;
6401: 
6402:     if(v_droplist &amp;&amp; v_droplist-&gt;size() &gt; 0)
6403:     {
6404:         for(auto &amp;v:*v_droplist)
6405:         {
6406:             int32_t item_id = v.item_id;
6407:             int32_t diff = v.real_add_num;
6408:             int32_t after =  pPlayer-&gt;get_item_num(item_id);
6409:             int32_t before =  after - diff;
6410:             sub_a_tar[&quot;obj&quot;] = g_GSDataInterface.GetItemDmpName(item_id);
6411:             sub_a_tar[&quot;diff&quot;] = diff;
6412:             sub_a_tar[&quot;before&quot;] = before;
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/game_server/data/gs_dmp_module.cpp" line="6810" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [v_droplist] suggests that it may be null, but it has already been dereferenced at line 6777." web_identify="{&quot;identify&quot;:&quot;v_droplist&quot;}" func_info="void GSDmpModule::OnPlayerRuneResolve ( const IVarList &amp; input_var , void * object )" content="6800:             a_tar[&quot;rune_id&quot;].append(o.first);
6801:             a_tar[&quot;rune_name&quot;].append(ConstDataHelper::LanguageNames::GetLangChinese(it_config-&gt;second-&gt;rune_name()));
6802:             //resolve_rune[&quot;rune_level&quot;] = o.second;
6803:             ////resolve_rune[&quot;num&quot;] = 1;
6804:             //resolve_rune[&quot;rune_quality&quot;] = it_config-&gt;second-&gt;quality();
6805:             //resolve_rune[&quot;resolve_type&quot;] = resolve_type;
6806:             //a_tar.append(resolve_rune);
6807:         }
6808:     }
6809: 
6810:     if(v_droplist &amp;&amp; v_droplist-&gt;size() &gt; 0)
6811:     {
6812:         for(auto &amp;v:*v_droplist)
6813:         {
6814:             int32_t item_id = v.item_id;
6815:             int32_t diff = v.real_add_num;
6816:             int32_t after =  pPlayer-&gt;get_item_num(item_id);
6817:             int32_t before =  after - diff;
6818:             sub_a_tar[&quot;obj&quot;] = g_GSDataInterface.GetItemDmpName(item_id);
6819:             sub_a_tar[&quot;diff&quot;] = diff;
6820:             sub_a_tar[&quot;before&quot;] = before;
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/game_server/data/gs_dmp_module.cpp" line="8581" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [v_droplist] suggests that it may be null, but it has already been dereferenced at line 8569." web_identify="{&quot;identify&quot;:&quot;v_droplist&quot;}" func_info="void GSDmpModule::OnplayerWarRankGrade ( const IVarList &amp; input_var , void * object )" content="8571:     Json::Value dmp_json_data;
8572:     MAKE_DMP_LOG_START(pPlayer,dmp_json_data)
8573:     Json::Value body;
8574:     Json::Value a_tar;
8575:     Json::Value a_rst;
8576: 
8577:     a_tar[&quot;grade_before&quot;] = power_grade_before;
8578:     a_tar[&quot;grade_after&quot;] = power_grade_after;
8579:     body[&quot;a_tar&quot;] = a_tar;
8580: 
8581:     if(v_droplist &amp;&amp; v_droplist-&gt;size() &gt; 0){
8582:         for(auto &amp;v:*v_droplist)
8583:         {
8584:             Json::Value sub_a_rst;
8585:             int32_t item_id = v.item_id;
8586:             int32_t diff = v.real_add_num;
8587:             int32_t after =  pPlayer-&gt;get_item_num(item_id);
8588:             int32_t before =  after - diff;
8589:             sub_a_rst[&quot;obj&quot;] = g_GSDataInterface.GetItemDmpName(item_id);
8590:             sub_a_rst[&quot;diff&quot;] = diff;
8591:             sub_a_rst[&quot;before&quot;] = before;
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/game_server/data/gs_dmp_module.cpp" line="9987" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [v_droplist] suggests that it may be null, but it has already been dereferenced at line 9970." web_identify="{&quot;identify&quot;:&quot;v_droplist&quot;}" func_info="void GSDmpModule::OnPlayerUpvote ( const IVarList &amp; input_var , void * object )" content="9977: 
9978:     MAKE_DMP_LOG_START(pPlayer, dmp_json_data)
9979:     a_tar[&quot;type_id&quot;] = type_id;
9980:     a_tar[&quot;type_name&quot;] = ConstDataHelper::LanguageNames::GetLangChinese(type_name);
9981:     a_tar[&quot;rank_id&quot;] = rank_id;
9982:     a_tar[&quot;rank_name&quot;] = ConstDataHelper::LanguageNames::GetLangChinese(rank_name);
9983:     a_tar[&quot;targe_id&quot;] = targe_id;
9984:     a_tar[&quot;targe_rank&quot;] = targe_rank;
9985:     body[&quot;a_tar&quot;] = a_tar;
9986: 
9987:     if (v_droplist &amp;&amp; v_droplist-&gt;size() &gt; 0)
9988:     {
9989:         for (auto&amp; v : *v_droplist)
9990:         {
9991:             int32_t item_id = v.item_id;
9992:             int32_t diff = v.real_add_num;
9993:             int32_t after = pPlayer-&gt;get_item_num(item_id);
9994:             int32_t before = after - diff;
9995:             sub_a_tar[&quot;obj&quot;] = g_GSDataInterface.GetItemDmpName(item_id);
9996:             sub_a_tar[&quot;diff&quot;] = diff;
9997:             sub_a_tar[&quot;before&quot;] = before;
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/game_server/data/gs_draw_cards.cpp" line="996" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [cell] to null at line 988 implies that [cell ] might be null.Dereferencing null pointer [cell]. The error is in macros." web_identify="{&quot;identify&quot;:&quot;cell&quot;}" func_info="int DrawCards::CardLevelUp ( long card_sid , int up_level , bool is_gm )" content="986: 	//card_info-&gt;set_lv(card_info-&gt;get_lv() + real_up_level);
987: 	auto cell = player_-&gt;mutable_table_cards().HoldCell(card_sid);
988: 	if(cell){
989: 		cell-&gt;set_lv(card_info-&gt;get_lv() + real_up_level);
990: 	}
991: 
992: 	if(!v_droplist.empty()) {
993:         player_-&gt;PushAttachItem(v_droplist, protos::E_PUSH_NORMAL_END);
994:     }
995:     CheckUnlockSkill(card_sid);
996: 	TRIGGER_HOOK(player_ass_card_star_up, player_,CVarList()&lt;&lt; 1 &lt;&lt; card_info-&gt;get_cardid() &lt;&lt; cell-&gt;get_lv() - real_up_level &lt;&lt; cell-&gt;get_lv() &lt;&lt; &amp;v_droplist);
997:     TRIGGER_HOOK(player_card_level_up, player_, CVarList() &lt;&lt; card_sid &lt;&lt; card_info-&gt;get_cardid() &lt;&lt; card_info-&gt;get_lv() + real_up_level );
998: 	LDEBUG(&quot;CardLevelUp&quot;);
999:     GsEventPlayerCardLevelUp gs_event(player_-&gt;get_player_id(), card_sid, card_info-&gt;get_lv());
1000:     g_EventManager.Trigger(player_card_level_up, &amp;gs_event);
1001: 
1002:     player_-&gt;UpdateCardsFighting(card_sid);
1003: 
1004: 	auto card_up_lv = cell-&gt;get_lv() - real_up_level;
1005:     auto card_new_lv = cell-&gt;get_lv();
1006: 
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/game_server/data/gs_rank_manager.cpp" line="99" id="suspicious" subid="unConditionalBreakinLoop" severity="Warning" msg="An unconditional &apos;break/return/goto&apos; within a loop.It may be a mistake." web_identify="{&quot;identify&quot;:&quot;;&quot;}" func_info="void GsRankManager::Init ( )" content="89:     }
90: 
91:     for(auto &amp;pair: g_ConstData.get_m_arena_sky_ladder())
92:     {
93:         auto&amp; data = pair.second;
94:         auto rank_stage = data-&gt;id();
95:         auto real_rank_type =  GSArenaSkyModule::RankStage2RankType(rank_stage);//protos::E_RANK_TYPE_ARENA_SKY * 10 + rank_stage;
96:         LINFO(&quot;GsRankManager E_RANK_TYPE_ARENA_SKY real_rank_type:&quot; &lt;&lt; real_rank_type &lt;&lt; &quot;,rank_stage:&quot; &lt;&lt; rank_stage);
97:         ArenaSkyRank* rank = new ArenaSkyRank(real_rank_type,rank_stage);
98:         rank_map_[real_rank_type] = rank;
99:         break;//改成一个排行榜
100:     }
101: 
102:     do
103:     {
104:         // 最佳考生
105:         {
106:             ClimbTowerRank* rank = new ClimbTowerRank(protos::E_RANK_TYPE_CLIMB_TOWER);
107:             rank_map_[protos::E_RANK_TYPE_CLIMB_TOWER] = rank;
108:         }
109:         {
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/game_server/data/gs_rune_module.cpp" line="393" id="nullpointer" subid="invalidDereferenceIterator" severity="Serious" msg="Iterator [it] may be invalid here. The error is in macros." web_identify="{&quot;identify&quot;:&quot;it&quot;}" func_info="CFrameOperate::OperRes GSRuneModule::OnMsgRuneEquip ( player_data * pPlayer , CFrameOperate * pMsgInfo )" content="383: 
384:         rune_info.m_rune_equip_map[group][pos] = 0;
385:         rune_info.m_rune_2_equip.erase(target_sid);
386:         MakeClientPbRuneEquipInfo(group, rune_info.m_rune_equip_map[group], *resp.mutable_equiped_info());
387: 
388:         UpdateScoreAndAttr(pPlayer);
389: 
390:         // 埋点 符文快照
391:         TRIGGER_HOOK(player_rune_snapshot, pPlayer, CVarList() &lt;&lt; target_sid);
392:         // 埋点 符文镶嵌 脱下
393:         TRIGGER_HOOK(player_rune_arrange, pPlayer, CVarList() &lt;&lt; 2 &lt;&lt; pos &lt;&lt; group &lt;&lt; it-&gt;second.id &lt;&lt; target_sid &lt;&lt; it-&gt;second.level);
394: 
395:         playerlog::PlayerLogHelper::PlayerLogHelper::saveRune(pPlayer-&gt;get_table_role().get_roleid(), pos, 0, 
396:             &quot;&quot;, 0, 0, 0, Tools::game_mill_now());
397:         
398:         return pMsg-&gt;SetIsokAndReturn(E_CORRECT);
399:     }
400: 
401:     // 穿戴
402:     auto itFind = rune_info.m_rune_2_equip.find(req.sid());
403:     if (itFind != rune_info.m_rune_2_equip.end())
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/game_server/data/gs_task_trigger.cpp" line="163" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [player_] to null at line 149 implies that [player_ ] might be null.Dereferencing null pointer [player_]." web_identify="{&quot;identify&quot;:&quot;player_&quot;}" func_info="void GsTaskTriggerManager::Update ( time_t cur_time )" content="153:     {
154:         std::map&lt;int32_t, TaskTriggerData&gt;&amp; map_triggers = it-&gt;second;
155:         for (auto it_triggers = map_triggers.begin(); it_triggers != map_triggers.end(); ++it_triggers)
156:         {
157:             TaskTriggerData&amp; data = it_triggers-&gt;second;
158:             if (data.trigger_type == E_TASK_TRIGGER_TYPE_PRIVATE_OBJ)
159:             {
160:                 if (cur_time - data.start_time &gt;= 305)
161:                 {
162:                     // 对应的任务需要重置了
163:                     task_t* task_pt = player_-&gt;GetTask(it-&gt;first);
164:                     if (task_pt &amp;&amp; task_pt-&gt;get_status() == E_TASK_ACCEPTED)
165:                     {
166:                         LINFO(&quot;task timeout ,reset task, task_id:&quot; &lt;&lt; it-&gt;first &lt;&lt; &quot;, role_id:&quot;
167:                                                                    &lt;&lt; player_-&gt;get_table_role().get_roleid());
168:                         need_resets.insert(it-&gt;first);
169:                     }
170:                 }
171:             }
172:         }
173:     }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/game_server/data/gs_third_data_interface.cpp" line="268" id="logic" subid="assignIf" severity="Warning" msg="Expression is always false because &apos;else if&apos; condition matches previous condition at line 238." web_identify="{&quot;identify&quot;:&quot;(&quot;}" func_info="std::string GSThirdDataInterface::GetItemName ( int item_id )" content="258:             return ConstDataHelper::LanguageNames::GetLangChinese(it_config_soul-&gt;second-&gt;name());
259:         }
260:     }
261:     else if(E_GOOD_CLASS_AID_CARD == class_)
262:     {
263:         auto it = g_ConstData.get_m_Card_aid_config().find(item_id/100);
264:         if (it != g_ConstData.get_m_Card_aid_config().end()) {
265:             return ConstDataHelper::LanguageNames::GetLangChinese(it-&gt;second-&gt;name());
266:         }
267:     }
268:     else if(E_GOOD_CLASS_CARDS == class_)
269:     {
270:         auto it = g_ConstData.get_m_Card_config().find(item_id);
271:         if (it != g_ConstData.get_m_Card_config().end()) {
272:             return ConstDataHelper::LanguageNames::GetLangChinese(it-&gt;second-&gt;name());
273:         }   
274:     }
275:     else
276:     {
277:         auto it = g_ConstData.get_m_mmo_Item().find(item_id);
278:         if (it != g_ConstData.get_m_mmo_Item().end())
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/game_server/data_wrapper/ProfessionWrapper.cpp" line="1056" id="suspicious" subid="unConditionalBreakinLoop" severity="Warning" msg="An unconditional &apos;break/return/goto&apos; within a loop.It may be a mistake." web_identify="{&quot;identify&quot;:&quot;;&quot;}" func_info="protos::skill_one ProfessionWrapper::getProfessSkillPbInfo2 ( E_PROFESSION_TYPE profess ) const" content="1046:     auto data = GetProfessionData(profess);
1047:     if (data)
1048:     {
1049:         auto&amp; skill_info = data-&gt;skills;
1050:         for (auto&amp;&amp; skillone : skill_info)
1051:         {
1052:             // auto &amp;&amp;pb_one = resp.add_skills();
1053:             pb_one.set_id(skillone.second.skill_id);
1054:             pb_one.set_level(skillone.second.level);
1055:             pb_one.set_tier(GetSkillTier(skillone.second.skill_id, skillone.second.level));
1056:             break;
1057:         }
1058:     }
1059:     return pb_one;
1060: }
1061: 
1062: int32_t ProfessionWrapper::getRecordMax() { return 30; }
1063: 
1064: // RESPOND(E_C2S_GET_PROFESSION_RECORD_INFO)
1065: // ProfessionWrapper::opGetProfessionRecordInfo()
1066: //{
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/game_server/data_wrapper/gs_air_ship_manager.cpp" line="87" id="nullpointer" subid="funcRetNullStatistic" severity="Serious" msg="return value of function [GetAirShipConstLua] [const_lua] isn&apos;t checked-null, however [16] times checked-null elsewhere." web_identify="GetAirShipConstLua|const_lua" func_info="constprotos::airship_constant_lua* GetAirShipConstLua()" content="77:     LDEBUG(&quot;game_now &quot; &lt;&lt; game_now &lt;&lt; &quot; end_time &quot; &lt;&lt; end_time);
78:     if (force == false &amp;&amp; end_time &gt;= game_now) {
79:         return;
80:     }
81: 
82:     auto const_lua = ConstDataAirShip::GetAirShipConstLua();
83:     if (true) {
84:         // 初次
85:         if (start_time == 0) {
86:             start_time = game_now;
87:             end_time = start_time + const_lua-&gt;trade_price_cd() * MINUTE_TIME;
88:         }
89:         else { // 非初次
90: 
91:          ///////// 将时间修正到合理的值
92:             int64_t offset_time = const_lua-&gt;trade_price_cd() * MINUTE_TIME;
93:             start_time = end_time;
94:             end_time = end_time + offset_time;
95:             // 还需求继续修正
96:             if (end_time &lt; game_now) {
97:                 end_time = end_time + ((game_now - end_time - 1/*这里必须要减少1秒*/) / offset_time + 1) * offset_time;
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/game_server/data_wrapper/gs_air_ship_module.cpp" line="1156" id="nullpointer" subid="invalidDereferenceIterator" severity="Serious" msg="Iterator [card_config] may be invalid here. The error is in macros." web_identify="{&quot;identify&quot;:&quot;card_config&quot;}" func_info="CFrameOperate::OperRes GSAirShipModule::OnMsgAirShipFoodGift ( player_data * pPlayer , CFrameOperate * pMsgInfo )" content="1146:     // set
1147:     it_card-&gt;second.favor = new_favor;
1148:     if (max_favor &gt; 0)
1149:     {
1150:         it_card-&gt;second.favor = max_favor;
1151:     }
1152: 
1153:     //dmp
1154:     //改成无论是否升级都需要记录埋点
1155:     TRIGGER_HOOK(player_card_favorup, pPlayer, CVarList() &lt;&lt; card_id &lt;&lt; card_config-&gt;second-&gt;name() &lt;&lt; card_config-&gt;second-&gt;backstage_type()
1156:         &lt;&lt; old_lvl &lt;&lt; it_card-&gt;second.level &lt;&lt; &amp;stDrop);
1157: 
1158:     if (it_card-&gt;second.level &gt; old_lvl) {
1159:         // TRIGGER_HOOK(third_part_card_snapshot_trigger, pPlayer, CVarList() &lt;&lt; card_id);
1160:     }
1161: 
1162:     // resp    
1163:     std::vector&lt;int32_t&gt; food_vec = ConstDataAirShip::GetFoodVec();
1164:     for (auto&amp; one : food_vec) {
1165:         int32_t num = pPlayer-&gt;get_item_num(one);
1166:         if (num &gt; 0) {
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/game_server/data_wrapper/gs_air_ship_module.cpp" line="2597" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [pPlayer] suggests that it may be null, but it has already been dereferenced at line 2593." web_identify="{&quot;identify&quot;:&quot;pPlayer&quot;}" func_info="int GSAirShipModule::GetFightScore ( player_data * pPlayer , int card_id )" content="2587: 	}
2588: }
2589: 
2590: // 战力
2591: int32_t GSAirShipModule::GetFightScore(player_data* pPlayer, int32_t card_id)
2592: {   
2593:     if (pPlayer-&gt;IsFuncOpen(E_FUNC_CODE_AIR_SHIP_All) == false) {
2594:         return 0;
2595:     }
2596:     int32_t score = 0;
2597:     if (pPlayer == nullptr) {
2598:         return score;
2599:     }
2600:     auto&amp; as = pPlayer-&gt;mutable_table_role_func_data().m_air_ship.Get();
2601:     auto it_level = g_ConstData.get_m_airship_level().find(as.base.level);
2602:     // 等级战力
2603:     if (it_level != g_ConstData.get_m_airship_level().end()) {
2604:         score += it_level-&gt;second-&gt;score();
2605:     }
2606: 
2607:     LDEBUG(&quot;GSAirShipModule::GetFightScore1 &quot; &lt;&lt; pPlayer-&gt;get_player_id() &lt;&lt; &quot; &quot; &lt;&lt; card_id &lt;&lt; &quot; &quot; &lt;&lt; as.base.level &lt;&lt; &quot; &quot; &lt;&lt; score);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/game_server/data_wrapper/gs_air_ship_module.cpp" line="2658" id="nullpointer" subid="invalidDereferenceIterator" severity="Serious" msg="Iterator [it_card] may be invalid here." web_identify="{&quot;identify&quot;:&quot;it_card&quot;}" func_info="int GSAirShipModule::GetFightScore ( player_data * pPlayer , int card_id )" content="2648: 
2649: 						if (bValid1 == true &amp;&amp; bValid2 == true) {
2650: 							train_score += config-&gt;score();
2651:                             LDEBUG(&quot;GSAirShipModule::GetFightScore3 &quot; &lt;&lt; pPlayer-&gt;get_player_id() &lt;&lt; &quot; &quot; &lt;&lt; card_id &lt;&lt; &quot; &quot; &lt;&lt; train_score);
2652: 						}
2653:                     }
2654:                 }
2655:             }
2656: 
2657: 			// 光系巡逻兵开始偷窥
2658: 			if (it_card-&gt;second-&gt;race() == 7) {
2659: 				auto level_ = [&amp;as](int32_t race) -&gt; int32_t {
2660: 					int32_t level = 0;
2661: 					auto it = as.train.train_list.find(race);
2662: 					if (it != as.train.train_list.end()) {
2663: 						level = it-&gt;second;
2664: 					}
2665: 					return level;
2666: 				};
2667: 
2668: 				int32_t race = 0;
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/game_server/data_wrapper/gs_climb_tower_module.cpp" line="474" id="nullpointer" subid="invalidDereferenceIterator" severity="Serious" msg="Iterator [it] may be invalid here." web_identify="{&quot;identify&quot;:&quot;it&quot;}" func_info="CFrameOperate::OperRes GSClimbTower::OnMsgClimbTowerScoreReward ( player_data * pPlayer , CFrameOperate * pMsgInfo )" content="464: 
465:     int32_t id = req.id();
466:     int32_t score = getClimbTowerScore(pPlayer);
467: 
468:     auto it = g_ConstData.get_m_tower_mark_reward().find(id);
469:     if (it != g_ConstData.get_m_tower_mark_reward().end()) {
470:         LERROR(&quot;climb tower mark_reward config not find, id &quot; &lt;&lt; id);
471:         return pMsg-&gt;SetIsokAndReturn(E_ERROR_PARAM_ERROR);
472:     }
473: 
474:     if (score &lt; it-&gt;second-&gt;mark()) {
475:         LERROR(&quot;climb tower mark_reward score no enough, id &quot; &lt;&lt; id &lt;&lt; &quot;score[&quot; &lt;&lt; score &lt;&lt; &quot;] &lt; config[&quot; &lt;&lt; it-&gt;second-&gt;mark() &lt;&lt; &quot;]&quot;);
476:         return pMsg-&gt;SetIsokAndReturn(E_ERROR_PARAM_ERROR);
477:     }
478: 
479:     // 奖励
480:     {
481:         std::vector&lt;stDropInfo&gt; v_drop_list;
482:         player_data::AddGoodsParam addGoods;
483:         addGoods.e_source = E_GOODS_FROM_CLIMB_TOWER_SCORE_REWARD;
484:         pPlayer-&gt;DropTreasure(it-&gt;second-&gt;reward_group(), v_drop_list, &amp;addGoods);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/game_server/data_wrapper/gs_daily_task_module.cpp" line="88" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [pPlayer] to null at line 77 implies that [pPlayer ] might be null.Dereferencing null pointer [pPlayer]." web_identify="{&quot;identify&quot;:&quot;pPlayer&quot;}" func_info="void dailyTask2Proto ( player_data * pPlayer , const role_func_data_t::DailyTaskInfo &amp; daily_task_info , protos::rep_E_C2S_DAILY_TASK_INFO &amp; info )" content="78:         auto daily_point = pPlayer-&gt;get_item_num(E_MMO_ITEM_DAILY_TASK_DAILY_POINT);
79:         auto week_point = pPlayer-&gt;get_item_num(E_MMO_ITEM_DAILY_TASK_WEEK_POINT);
80:         info.mutable_info()-&gt;set_daily_point(daily_point);
81:         info.mutable_info()-&gt;set_week_point(week_point);
82:     }
83: 
84:     //要过滤的周任务id
85:     std::vector&lt;int32&gt; ids = ConstDataHelper::DailyTask::GetOnceWeekTaskIds();
86:     for (int32 i = 0; i &lt; ids.size(); ++i)
87:     {
88:         if (pPlayer-&gt;getTotalCount(E_ROLE_COUNT_ID_WEEK_TASK_LIMIT_START + ids[i]) &gt; 0 ||
89:             GSDailyTaskModule::isRewarded(pPlayer, ids[i]))
90:         {
91:             info.add_once_limit_week_tasks(ids[i]);
92:         }
93:     }
94: 
95:     int32_t open_days = InterfaceHelper::GetOpenDays();
96: 
97:     for (auto&amp; one : g_ConstData.get_m_Dailytask_item())
98:     {
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/game_server/data_wrapper/gs_draw_card_module.cpp" line="2293" id="suspicious" subid="SuspiciousPriority" severity="Information" msg="The priority of the &apos;+&apos; operation is higher than that of the &apos;&lt;&lt;&apos; operation. It&apos;s possible that parentheses should be used in the expression." web_identify="" func_info="int GSDrawCardModule::DrawCardDraw ( player_data * pPlayer , protos::req_E_C2S_NEW_DRAW_CARD_DRAW * preq , protos::rep_E_C2S_NEW_DRAW_CARD_DRAW * presp , bool gm_test )" content="2283: 
2284: 	int32_t nnn = 0;
2285: 	int32_t nn = 0;
2286: 	if (it_config-&gt;second-&gt;wish_num_size() &gt;= 2) {
2287: 		nnn = it_config-&gt;second-&gt;wish_num(0);
2288: 		nn = it_config-&gt;second-&gt;wish_num(1);
2289: 	}
2290: 	
2291:     // 判断次数
2292:     if (dcd.draw_num[id] + times &gt; it_config-&gt;second-&gt;draw_card_max()) {
2293:         LERROR(&quot;draw card num more than config num, &quot; &lt;&lt; dcd.draw_num[id] + times);
2294:         ret = E_RRROR_DRAW_NUM_LIMIT;
2295:         return ret;
2296:     }
2297: 
2298:     // 判断时间是否开启
2299:     time_t now_time = Tools::game_now();
2300:     int32_t open_days = InterfaceHelper::GetOpenDays();
2301:     int32_t channel_id_ = pPlayer-&gt;get_table_role().get_qudao();
2302:     if (channel_id_ == 0)
2303:     {
" inconclusive="true"/>
    <error file="/data/EveryDayTscan/sot_server/classes/game_server/data_wrapper/gs_draw_card_module.cpp" line="2906" id="suspicious" subid="SuspiciousPriority" severity="Information" msg="The priority of the &apos;+&apos; operation is higher than that of the &apos;&lt;&lt;&apos; operation. It&apos;s possible that parentheses should be used in the expression." web_identify="" func_info="int GSDrawCardModule::DrawCardDraw ( player_data * pPlayer , protos::req_E_C2S_NEW_DRAW_CARD_DRAW * preq , protos::rep_E_C2S_NEW_DRAW_CARD_DRAW * presp , bool gm_test )" content="2896:                     if (dcd.history_draw_num[id] + i &lt;= num_conf)
2897:                     {
2898:                         for (int32_t ijk = 1; ijk &lt; rule_size; ++ijk)
2899:                         {
2900:                             to_replace.insert(draw_itr-&gt;second-&gt;sp_rule(ijk));
2901:                         }
2902: 
2903:                         //需要替换
2904:                         if (to_replace.find(dr.item_id) != to_replace.end())
2905:                         {
2906:                             LDEBUG(&quot;SP_RULE_effect &quot; &lt;&lt; dcd.history_draw_num[id] + i &lt;&lt; &quot; origin_item &quot; &lt;&lt; dr.item_id &lt;&lt; &quot; origin_lootid &quot; &lt;&lt; dr.mmc_group_id);
2907: 
2908:                             std::map&lt;int32_t, uint32_t&gt; tmp_map;
2909:                             std::vector&lt;const protos::loot2*&gt; lootConfigs = ConstDataDrawCard::GetCardLoot2s(dr.mmc_group_id);
2910: 
2911:                             for (auto&amp; one : lootConfigs) {
2912:                                 if (!one)
2913:                                 {
2914:                                     continue;
2915:                                 }
2916:                                 
" inconclusive="true"/>
    <error file="/data/EveryDayTscan/sot_server/classes/game_server/data_wrapper/gs_draw_card_module.cpp" line="2978" id="nullpointer" subid="invalidDereferenceIterator" severity="Serious" msg="Iterator [iter2] may be invalid here." web_identify="{&quot;identify&quot;:&quot;iter2&quot;}" func_info="int GSDrawCardModule::DrawCardDraw ( player_data * pPlayer , protos::req_E_C2S_NEW_DRAW_CARD_DRAW * preq , protos::rep_E_C2S_NEW_DRAW_CARD_DRAW * presp , bool gm_test )" content="2968:             LINFO(&quot;draw_get_ssr &quot; &lt;&lt; pPlayer-&gt;get_player_id() &lt;&lt; &quot; &quot; &lt;&lt; dr.item_id &lt;&lt; &quot; &quot; &lt;&lt; dr.cbq_group_id &lt;&lt; &quot; &quot; &lt;&lt; dr.mmc_group_id &lt;&lt; &quot; &quot; &lt;&lt; log_protect_type);
2969:         }
2970: 
2971:         //抽到心愿卡  如果类型是普通招募 需要锁住孔位
2972:         if (gm_test == false)
2973:         {
2974:             if (type_ == 1)
2975:             {
2976:                 if (set1.count(dr.item_id) &gt; 0)
2977:                 {
2978:                     for (auto&amp; one : iter2-&gt;second.ssr_info) {
2979:                         if (one.first == dr.item_id)
2980:                         {
2981:                             one.second = 1;
2982:                             break;
2983:                         }
2984:                     }
2985:                 }
2986: 
2987:                 if (set2.count(dr.item_id) &gt; 0)
2988:                 {
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/game_server/data_wrapper/gs_evaluate_module.cpp" line="1890" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [config] suggests that it may be null, but it has already been dereferenced at line 1889." web_identify="{&quot;identify&quot;:&quot;config&quot;}" func_info="void GSEvaluateModule::tryUpdateAndSendRankReward ( )" content="1880: 	int32_t new_id = 0;
1881:     bool is_new_week_type3 = false;           //类型3的时候，是否是新一周
1882: 	LDEBUG(&quot;evaluate_data.config_id &quot; &lt;&lt; evaluate_data.config_id &lt;&lt; &quot; game_now &quot; &lt;&lt; game_now &lt;&lt; &quot; open_time &quot; &lt;&lt; open_time);
1883: 
1884: 	g_config_id = evaluate_data.config_id;
1885: 
1886: 	// 选择最合适的周期
1887: 	for (auto&amp; one : g_ConstData.get_m_evaluate_season()) {
1888: 		const protos::evaluate_season* config = one.second;
1889: 		LINFO(&quot;config_id &quot; &lt;&lt; config-&gt;id());
1890:         if (!config)
1891:         {
1892:             continue;
1893:         }
1894: 
1895: 		if (config-&gt;type() &gt; season_type) {
1896: 			LDEBUG(&quot;config-&gt;type() &quot; &lt;&lt; config-&gt;type() &lt;&lt; &quot; season_type &quot; &lt;&lt; season_type);
1897: 			continue;
1898: 		}
1899: 		
1900: 		LINFO(&quot;config_type &quot; &lt;&lt; config-&gt;type() &lt;&lt; &quot; time_size &quot; &lt;&lt; config-&gt;time_size());
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/game_server/data_wrapper/gs_explore_module.cpp" line="1009" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [pMsg] suggests that it may be null, but it has already been dereferenced at line 1008." web_identify="{&quot;identify&quot;:&quot;pMsg&quot;}" func_info="CFrameOperate::OperRes GSExploreModule::OnMsgGetExploreBoxReward ( player_data * pPlayer , CFrameOperate * pMsgInfo )" content="999: 	resp.set_next_free_time(data_sub-&gt;last_free_time);
1000: 
1001: 	return pMsg-&gt;SetIsokAndReturn(E_CORRECT);
1002: }
1003: 
1004: //探索领取宝箱奖励
1005: CFrameOperate::OperRes GSExploreModule::OnMsgGetExploreBoxReward(player_data* pPlayer, CFrameOperate* pMsgInfo)
1006: {
1007: 	auto pMsg = GET_MSG_HANDLE_PTR(E_C2S_GET_EXPLORE_BOX_REWARD, pMsgInfo);
1008: 	auto&amp; resp = pMsg-&gt;GetRespond();
1009: 	if (!pMsg) {
1010: 		return CFrameOperate::OperRes::OPER_RES_ERROR;
1011: 	}
1012: 
1013: 	auto &amp;explore_data = pPlayer-&gt;get_table_role_func_data().m_explore_info.Get();
1014: 	if (explore_data.cur_subject_id == 0) {
1015: 		LERROR(&quot;Explore not start&quot;);
1016: 		return pMsg-&gt;SetIsokAndReturn(E_ERROR_EXPLORE_BOX_REWARD);
1017: 	}
1018: 
1019: 	auto data_sub = HoldRoleExploreSubjectDataPtr(*pPlayer, explore_data.cur_subject_id);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/game_server/data_wrapper/gs_explore_module.cpp" line="1302" id="suspicious" subid="unConditionalBreakinLoop" severity="Warning" msg="An unconditional &apos;break/return/goto&apos; within a loop.It may be a mistake." web_identify="{&quot;identify&quot;:&quot;;&quot;}" func_info="bool GSExploreModule::GMAddEvent ( player_data &amp; pPlayer , int id )" content="1292:             }
1293:         }
1294:         // 放第一个上面
1295:         for (auto &amp;it : random_pos) {
1296:             role_func_data_t::explore_event_detail eed;
1297:             eed.event_id = id;
1298:             eed.status = 0;
1299:             eed.pos_id = it;
1300: 
1301:             data_sub-&gt;m_map_event_status[eed.event_id] = eed;
1302:             break;
1303:         }
1304:     }   
1305: 
1306:     return true;
1307: }
1308: 
1309: bool GSExploreModule::GMReset(player_data&amp; pPlayer)
1310: {
1311: 
1312:     auto &amp;explore_data = pPlayer.mutable_table_role_func_data().m_explore_info.Mutable();
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/game_server/data_wrapper/gs_explore_module.cpp" line="2091" id="nullpointer" subid="funcRetNullStatistic" severity="Serious" msg="return value of function [HoldRoleExploreMapDataPtr] [cur_data_map] isn&apos;t checked-null, however [6] times checked-null elsewhere." web_identify="HoldRoleExploreMapDataPtr|cur_data_map" func_info="role_func_data_t::explore_map_detail* HoldRoleExploreMapDataPtr(player_data&amp;, int, bool)" content="2081: 				data_map-&gt;explore_cost_time = 0;
2082: 				data_map-&gt;explore_end_time = start_time + map_cache_ptr-&gt;setting-&gt;time();
2083: 
2084: 				explore_data.cur_map_id = id;
2085: 
2086: 				LWARN(&quot;next map id[&quot;&lt;&lt; id &lt;&lt;&quot;] start time[&quot;&lt;&lt; data_map-&gt;explore_start_time &lt;&lt;&quot;], end time[&quot;&lt;&lt; data_map-&gt;explore_end_time &lt;&lt;&quot;]&quot;);
2087: 								
2088: 				
2089: 				auto cur_data_map = HoldRoleExploreMapDataPtr(pPlayer, map_id, true);
2090: 				// 将事件怪转移                
2091:                 data_map-&gt;event = cur_data_map-&gt;event;
2092:                 cur_data_map-&gt;event.clear();
2093: 
2094:                 for (auto it = cur_data_map-&gt;event.begin(); it != cur_data_map-&gt;event.end();  ) {
2095:                     if (it-&gt;second.hp == 0) {
2096:                         cur_data_map-&gt;event.erase(it++);
2097:                     } else {
2098:                         it++;
2099:                     }
2100:                 }
2101: 				return;
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/game_server/data_wrapper/gs_explore_module.cpp" line="219" id="suspicious" subid="SuspiciousPriority" severity="Information" msg="The priority of the &apos;+&apos; operation is higher than that of the &apos;&lt;&lt;&apos; operation. It&apos;s possible that parentheses should be used in the expression." web_identify="" func_info="CFrameOperate::OperRes GSExploreModule::OnMsgExploreStart ( player_data * pPlayer , CFrameOperate * pMsgInfo )" content="209: 	event_ratio = (event_ratio * 100) / event_size;
210: 	for (int i = 0; i &lt; card_size; ++i) {
211: 		if ((i * 2 + 1) &gt;= it_sub-&gt;member_unlock_size()) {
212: 			LERROR(&quot;Explore start, card too much, size[&quot; &lt;&lt; card_size &lt;&lt; &quot;]&quot;);
213: 			return pMsg-&gt;SetIsokAndReturn(E_ERROR_EXPLORE_START);
214: 		}
215: 		int32_t p1 = it_sub-&gt;member_unlock(i * 2);
216: 		int32_t p2 = it_sub-&gt;member_unlock(i * 2 + 1);
217: 		if (p1 == 1) {
218: 			if (event_ratio &lt; p2) {
219: 				LERROR(&quot;Explore start, slot not unlock[&quot; &lt;&lt; i + 1 &lt;&lt; &quot;]&quot;);
220: 				return pMsg-&gt;SetIsokAndReturn(E_ERROR_EXPLORE_START);
221: 			}
222: 		}
223: 	}
224: 
225: 	// 章节数据初始化
226: 	data_sub-&gt;reset();
227: 
228: 	// 初始化卡牌
229:     data_sub-&gt;m_card.clear();
" inconclusive="true"/>
    <error file="/data/EveryDayTscan/sot_server/classes/game_server/data_wrapper/gs_explore_module.cpp" line="2268" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [data_map] to null at line 2131 implies that [data_map ] might be null.Dereferencing null pointer [data_map]." web_identify="{&quot;identify&quot;:&quot;data_map&quot;}" func_info="void GSExploreModule::BallRunning ( player_data &amp; pPlayer , int map_id , std::vector &lt; role_func_data_t::explore_ball &gt; &amp; balls )" content="2258: 				ebe.damage = this_damage;
2259: 				ebe.reward_id = default_reward; //it-&gt;second-&gt;data(1); 
2260: 
2261: 				if (it_random-&gt;second.hp == 0) {
2262: 					// 宝箱被消灭，随即点释放				
2263: 					data_sub-&gt;random_monster.erase(id);
2264: 					used_random_pos.erase(id);
2265: 				}
2266: 			} else {
2267: 				// 是事件怪				
2268: 				auto it_event_monster = data_map-&gt;event.find(id);
2269: 				if (it_event_monster == data_map-&gt;event.end()) {
2270: 					LERROR(&quot;ball running it_event_monster id[&quot; &lt;&lt; id &lt;&lt; &quot;] error&quot;);
2271: 					continue;
2272: 				}
2273: 
2274: 				int32_t this_damage = damage;
2275: 				if (it_event_monster-&gt;second.hp &gt; damage) {
2276: 					it_event_monster-&gt;second.hp -= damage;
2277: 				} else {
2278: 					this_damage = it_event_monster-&gt;second.hp;
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/game_server/data_wrapper/gs_explore_module.cpp" line="403" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [pMsg] suggests that it may be null, but it has already been dereferenced at line 402." web_identify="{&quot;identify&quot;:&quot;pMsg&quot;}" func_info="CFrameOperate::OperRes GSExploreModule::OnMsgShowExploreReward ( player_data * pPlayer , CFrameOperate * pMsgInfo )" content="393: 	}
394: 
395: 	return pMsg-&gt;SetIsokAndReturn(E_CORRECT);
396: }
397: 
398: //获取探索奖励信息
399: CFrameOperate::OperRes GSExploreModule::OnMsgShowExploreReward(player_data* pPlayer, CFrameOperate* pMsgInfo)
400: {
401:     auto pMsg = GET_MSG_HANDLE_PTR(E_C2S_SHOW_EXPLORE_REWARD, pMsgInfo);
402: 	auto&amp; resp = pMsg-&gt;GetRespond();
403:     if (!pMsg)   {
404:         return CFrameOperate::OperRes::OPER_RES_ERROR;
405:     }
406:     auto subject_id = pMsg-&gt;GetRequest().subject_id();
407:     auto explore_subject_ptr = HoldRoleExploreSubjectDataPtr(*pPlayer, subject_id);
408:     if(nullptr == explore_subject_ptr)   {
409:         LWARN(&quot;HoldRoleExploreMapDataPtr subject_id not found:&quot; &lt;&lt; subject_id);
410:         return pMsg-&gt;SetIsokAndReturn(E_ERROR_PARAM_ERROR);
411:     } 
412: 
413:     CaclExploreSubjectReward(*pPlayer, subject_id);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/game_server/data_wrapper/gs_explore_module.cpp" line="823" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [pMsg] suggests that it may be null, but it has already been dereferenced at line 822." web_identify="{&quot;identify&quot;:&quot;pMsg&quot;}" func_info="CFrameOperate::OperRes GSExploreModule::OnMsgExploreSpeedUp ( player_data * pPlayer , CFrameOperate * pMsgInfo )" content="813:     data_sub-&gt;reset();
814: 
815:     return pMsg-&gt;SetIsokAndReturn(E_CORRECT);
816: }
817: 
818: //探索加速 
819: CFrameOperate::OperRes GSExploreModule::OnMsgExploreSpeedUp(player_data* pPlayer, CFrameOperate* pMsgInfo)
820: {
821: 	auto pMsg = GET_MSG_HANDLE_PTR(E_C2S_EXPLORE_SPEED_UP, pMsgInfo);
822: 	auto&amp; resp = pMsg-&gt;GetRespond();
823: 	if (!pMsg)	{
824: 		return CFrameOperate::OperRes::OPER_RES_ERROR;
825: 	}
826: 
827: 	auto &amp;explore_data = pPlayer-&gt;mutable_table_role_func_data().m_explore_info.Mutable();
828: 	if (explore_data.cur_subject_id == 0) {
829: 		LERROR(&quot;Explore not start&quot;);
830: 		return pMsg-&gt;SetIsokAndReturn(E_ERROR_EXPLORE_SPEED_UP);
831: 	}
832: 
833: 	auto data_sub = HoldRoleExploreSubjectDataPtr(*pPlayer, explore_data.cur_subject_id, true);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/game_server/data_wrapper/gs_explore_module.cpp" line="930" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [pMsg] suggests that it may be null, but it has already been dereferenced at line 929." web_identify="{&quot;identify&quot;:&quot;pMsg&quot;}" func_info="CFrameOperate::OperRes GSExploreModule::OnMsgExploreFreeBall ( player_data * pPlayer , CFrameOperate * pMsgInfo )" content="920: 	}
921: 	// todo
922: 	return pMsg-&gt;SetIsokAndReturn(E_CORRECT);
923: }
924: 
925: //探索释放手操球
926: CFrameOperate::OperRes GSExploreModule::OnMsgExploreFreeBall(player_data* pPlayer, CFrameOperate* pMsgInfo)
927: {
928: 	auto pMsg = GET_MSG_HANDLE_PTR(E_C2S_EXPLORE_FREE_BALL, pMsgInfo);
929: 	auto&amp; resp = pMsg-&gt;GetRespond();
930: 	if (!pMsg) {
931: 		return CFrameOperate::OperRes::OPER_RES_ERROR;
932: 	}
933: 
934: 	// 仅仅是释放，不存多余的逻辑处理！
935: 	///////////////////////////////////
936: 	auto &amp;explore_data = pPlayer-&gt;mutable_table_role_func_data().m_explore_info.Mutable();
937: 	if (explore_data.cur_subject_id == 0) {
938: 		LERROR(&quot;Explore not start&quot;);
939: 		return pMsg-&gt;SetIsokAndReturn(E_ERROR_EXPLORE_FREE_BALL);
940: 	}
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/game_server/data_wrapper/gs_login_reward_status.cpp" line="71" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [cache_lua] suggests that it may be null, but it has already been dereferenced at line 70." web_identify="{&quot;identify&quot;:&quot;cache_lua&quot;}" func_info="CFrameOperate::OperRes GSLoginRewardStatus::OnMsgEverydayLoginInfo ( player_data * pPlayer , CFrameOperate * pMsgInfo )" content="61:     if(!pMsg)
62:     {
63:         return CFrameOperate::OperRes::OPER_RES_ERROR;
64:     }
65:     auto&amp; resp = pMsg-&gt;GetRespond();
66:     auto accum_days = pPlayer-&gt;get_table_role_func_data().get_cumulative_login_days();//累计登录天数
67:     auto &amp;sd = pPlayer-&gt;mutable_table_role_func_data().m_seven_day_package_info.Get();
68: 
69:     auto cache_lua = ConstDataHelper::ConstantLua::getConstantLuaCache();
70:     auto constant_setting = cache_lua-&gt;constant_setting;
71:     if(!cache_lua || !constant_setting)
72:     {
73:         return pMsg-&gt;SetIsokAndReturn(E_ERROR_EXCEL_ERROR);
74:     }
75: 
76:     //活动持续几天
77:     int32_t duration_day = constant_setting-&gt;login_rewards_close_day();
78: 
79:     int32_t day_max = g_ConstData.get_m_Login_rewards().size();
80: 
81:     std::vector&lt;int32_t&gt; login_status;  //每日奖励可领取状态数组 (0不可领 1可领 2已领)
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/game_server/data_wrapper/gs_material_dungeon_module.cpp" line="225" id="nullpointer" subid="invalidDereferenceIterator" severity="Serious" msg="Iterator [it_main] may be invalid here." web_identify="{&quot;identify&quot;:&quot;it_main&quot;}" func_info="CFrameOperate::OperRes GSMaterialDungeon::OnMsgMaterialDungeonSweep ( player_data * pPlayer , CFrameOperate * pMsgInfo )" content="215:     
216:     if (!is_gold_dungeon)
217:     {
218:         if(!v_drop_list.empty()) {
219:             pPlayer-&gt;PushDropList(v_drop_list, protos::E_PUSH_OTHER_END);
220:             pPlayer-&gt;set_droplist_proto(v_drop_list, resp.mutable_rewards()-&gt;mutable_attachs());
221:         }
222:     }
223: 
224:     // 巡逻兵的额外奖励
225:     if (it_main-&gt;second-&gt;extra_reward_times() &gt; 0 &amp;&amp; it_num-&gt;second.extra_num &lt; it_main-&gt;second-&gt;extra_reward_times()) {
226:         int32_t extra_reward = it_dungeon-&gt;second-&gt;reward_group_extra();
227:         if (extra_reward &gt; 0) {
228:             std::vector&lt;stDropInfo&gt; v_drop_list2;
229: 
230:             player_data::AddGoodsParam addGoods;
231:             addGoods.function_module = protos::E_PUSH_NORMAL_END;
232:             addGoods.e_source = E_GOODS_FROM_MATERIAL_DUNGEON_SWEEP; 
233: 			addGoods.is_just_show = false;;
234:             pPlayer-&gt;DropTreasure(extra_reward, v_drop_list2, &amp;addGoods);
235: 
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/game_server/data_wrapper/gs_material_dungeon_module.cpp" line="506" id="nullpointer" subid="invalidDereferenceIterator" severity="Serious" msg="Iterator [it_main] may be invalid here. The error is in macros." web_identify="{&quot;identify&quot;:&quot;it_main&quot;}" func_info="CFrameOperate::OperRes GSMaterialDungeon::OnMsgMaterialDungeonEnd ( player_data * pPlayer , CFrameOperate * pMsgInfo )" content="496:     
497:     LDEBUG(&quot;E_S2C_MATERIAL_DUNGEON_END: &quot; &lt;&lt; g_PBPrinter.getJsonStream(push));
498:     for (auto &amp;v : v_drop_list)
499:     {
500:         v_drop_dmp.push_back(v);
501:     }
502: 
503:     // 巡逻兵的额外奖励
504:     if (it_num != mdi.num.end())
505:     {
506:         LDEBUG(&quot;config_times &quot; &lt;&lt; it_main-&gt;second-&gt;extra_reward_times() &lt;&lt; &quot; player_times &quot; &lt;&lt; it_num-&gt;second.extra_num);
507:     }
508: 
509:     if (it_main-&gt;second-&gt;extra_reward_times() &gt; 0 &amp;&amp;
510:             (it_num == mdi.num.end() || it_num-&gt;second.extra_num &lt; it_main-&gt;second-&gt;extra_reward_times())) {
511:         int32_t extra_reward = config_dungeon-&gt;reward_group_extra();
512:         LDEBUG(&quot;extra_reward &quot; &lt;&lt; extra_reward);
513:         if (extra_reward &gt; 0) {
514:             std::vector&lt;stDropInfo&gt; v_drop_list2;
515: 
516:             player_data::AddGoodsParam addGoods;
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/game_server/data_wrapper/gs_material_dungeon_module.cpp" line="717" id="nullpointer" subid="invalidDereferenceIterator" severity="Serious" msg="Iterator [it_main] may be invalid here." web_identify="{&quot;identify&quot;:&quot;it_main&quot;}" func_info="CFrameOperate::OperRes GSMaterialDungeon::OnMsgMaterialDungeonRoller ( player_data * pPlayer , CFrameOperate * pMsgInfo )" content="707:     addGoods.e_source = E_GOODS_FROM_MATERIAL_DUNGEON_ROLLER;
708:     addGoods.is_just_show = false;
709:     
710:     pPlayer-&gt;DropTreasure(it_dungeon-&gt;second-&gt;reward_group(), v_drop_list, &amp;addGoods);
711:     if (!v_drop_list.empty()) {
712:         pPlayer-&gt;PushDropList(v_drop_list, protos::E_PUSH_NORMAL_END);
713:         pPlayer-&gt;set_droplist_proto(v_drop_list, resp.mutable_rewards()-&gt;mutable_attachs());
714:     }
715: 
716:     // 巡逻兵的额外奖励
717:     if (it_main-&gt;second-&gt;extra_reward_times() &gt; 0 &amp;&amp; it_num-&gt;second.extra_num &lt; it_main-&gt;second-&gt;extra_reward_times()) {
718:         int32_t extra_reward = it_dungeon-&gt;second-&gt;reward_group_extra();
719:         if (extra_reward &gt; 0) {
720:             std::vector&lt;stDropInfo&gt; v_drop_list2;
721: 
722:             player_data::AddGoodsParam addGoods;
723:             addGoods.function_module = protos::E_PUSH_NORMAL_END;
724:             addGoods.e_source = E_GOODS_FROM_MATERIAL_DUNGEON_SWEEP;
725:             addGoods.is_just_show = false;;
726:             pPlayer-&gt;DropTreasure(extra_reward, v_drop_list2, &amp;addGoods);
727: 
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/game_server/data_wrapper/gs_retrieve_module.cpp" line="810" id="logic" subid="UnintentionalOverflow" severity="Warning" msg="Potentially overflowing expression around operator [ * ], which is evaluated using 4 byte arithmetic, and then used in a context that expects an expression of 8 bytes type." web_identify="{&quot;identify&quot;:&quot;need_valuebase_rate*&quot;}" func_info="CFrameOperate::OperRes GSRetrieveModule::OnMsgGetRetrieveMissReward ( player_data * pPlayer , CFrameOperate * pMsgInfo )" content="800:                     //++iter;
801:                 }
802:             }
803: 
804:             pPlayer-&gt;PushAttachItem(v_droplist, protos::E_PUSH_NORMAL_END);
805:         }
806:         else
807:         {
808:             if (req.is_high())
809:             {
810:                 item_num = need_value * base_rate;
811: 
812:                 E_ERROR_TYPE eEc = item_id == E_MMO_ITEM_BIND_GOLD_ID ? fCheckAndCostMuilItem() : fCheckAndCostItem();
813:                 if (eEc != E_CORRECT)
814:                 {
815:                     return pMsg-&gt;SetIsokAndReturn(eEc);
816:                 }
817: 
818:                 // 次数
819:                 reward_num = need_value;
820:             }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/game_server/data_wrapper/gs_strength_module.cpp" line="146" id="suspicious" subid="SuspiciousPriority" severity="Information" msg="The priority of the &apos;+&apos; operation is higher than that of the &apos;&lt;&lt;&apos; operation. It&apos;s possible that parentheses should be used in the expression." web_identify="" func_info="CFrameOperate::OperRes GSStrengthModule::OnMsgBuyStrength ( player_data * pPlayer , CFrameOperate * pMsgInfo )" content="136: {
137:     auto pMsg = GET_MSG_HANDLE_PTR(E_C2S_BUY_STRENGTH, pMsgInfo);
138:     if (!pMsg) {
139:         return CFrameOperate::OperRes::OPER_RES_ERROR;
140:     }
141:     auto buy_time = pMsg-&gt;GetRequest().times();
142:     auto&amp; resp = pMsg-&gt;GetRespond();
143:     auto&amp; si = pPlayer-&gt;mutable_table_role_func_data().m_strength_info.Mutable();
144:     auto it_config = ConstDataHelper::Strength::GetStrengthBuyConfig(si.buy_time + buy_time);
145:     if (it_config == nullptr) {
146:         LERROR(&quot;buy strength config error, buy_times &quot; &lt;&lt; si.buy_time + buy_time);
147:         return pMsg-&gt;SetIsokAndReturn(E_ERROR_BUY_STRENGTH_LIMIT);
148:     }
149: 
150: //     if (si.strength_val &gt;= st_upper_limit) {
151: //         LERROR(&quot;buy strength config error, st_upper_limit &quot; &lt;&lt; si.strength_val);
152: //         return pMsg-&gt;SetIsokAndReturn(E_ERROR_BUY_STRENGTH_LIMIT);
153: //     }
154:     
155:     //
156:     std::vector&lt;item_cost_t&gt; costs;
" inconclusive="true"/>
    <error file="/data/EveryDayTscan/sot_server/classes/game_server/data_wrapper/gs_strength_module.cpp" line="98" id="suspicious" subid="unConditionalBreakinLoop" severity="Warning" msg="An unconditional &apos;break/return/goto&apos; within a loop.It may be a mistake." web_identify="{&quot;identify&quot;:&quot;;&quot;}" func_info="void GSStrengthModule::LoadConfig ( )" content="88:     REGISTER_HOOK(player_online, OnPlayerLogin, 0);
89: }
90: 
91: void GSStrengthModule::LoadConfig()
92: {
93:     for (auto&amp; one : g_ConstData.get_m_strength_constant()) {
94:         st_upper_limit = one.second-&gt;total_upper_limit();
95:         st_recover_sec = one.second-&gt;speed() * 60;
96:         st_overflow_discount = one.second-&gt;overflow_discount();
97:         st_overflow_upper_limit = one.second-&gt;overflow_upper_limit();
98:         break;
99:     }
100: }
101: 
102: // 请求体力信息
103: CFrameOperate::OperRes GSStrengthModule::OnMsgStrengthInfo(player_data* pPlayer, CFrameOperate* pMsgInfo)
104: {
105:     auto pMsg = GET_MSG_HANDLE_PTR(E_C2S_STRENGTH_INFO, pMsgInfo);
106:     if (!pMsg) {
107:         return CFrameOperate::OperRes::OPER_RES_ERROR;
108:     }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/game_server/data_wrapper/gs_tricktower_once_module.cpp" line="1294" id="nullpointer" subid="invalidDereferenceIterator" severity="Serious" msg="Iterator [it] may be invalid here." web_identify="{&quot;identify&quot;:&quot;it&quot;}" func_info="void GSTricktowerOnceModule::OnGmSetLevel ( player_data * pPlayer , int level )" content="1284:         auto&amp; it_config = o.second;
1285:         if (it_config-&gt;id() &gt; tto.level) {
1286:             return;
1287:         }
1288: 
1289:         auto it = tto.level_info.find(it_config-&gt;id());
1290:         if (it == tto.level_info.end()) {
1291:             tto.level_info[it_config-&gt;id()].id = it_config-&gt;id();
1292:         }
1293: 
1294:         it-&gt;second.star1 = true;
1295:         it-&gt;second.star2 = true;
1296:         it-&gt;second.star3 = true;
1297:     }
1298: 
1299: }
1300: 
1301: // 陷阱塔通关
1302: void GSTricktowerOnceModule::OnGmSetPass(player_data* pPlayer)
1303: {
1304:     LDEBUG(&quot;OnGmSetPass&quot;);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/game_server/data_wrapper/gs_welfare_module.cpp" line="511" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [reward_it.second] to null at line 509 implies that [reward_it.second ] might be null.Dereferencing null pointer [reward_it.second]." web_identify="{&quot;identify&quot;:&quot;reward_it.second&quot;}" func_info="CFrameOperate::OperRes GSWelfareModule::OnMsgWelfareReward ( player_data * pPlayer , CFrameOperate * pMsgInfo )" content="501: 
502:     // dmp
503: 
504:     std::vector&lt;int32_t&gt; conf_reward = ConstDataHelper::Welfare::GetProgressRewardIds(wd.act_id);
505: 
506:     for (auto&amp; reward_id : conf_reward)
507:     {
508:         auto reward_it = g_ConstData.get_m_welfare_reward().find(reward_id);
509:         if (reward_it == g_ConstData.get_m_welfare_reward().end() || !reward_it-&gt;second)
510:         {
511:             if (reward_it-&gt;second-&gt;stage() != stage)
512:             {
513:                 continue;
514:             }
515: 
516:             if (dmp_point_before &lt; reward_it-&gt;second-&gt;point() &amp;&amp; ret_point &gt;= reward_it-&gt;second-&gt;point())
517:             {
518:                 //积分达成事件
519:                 GsEventActivityReach gs_event(pPlayer-&gt;get_player_id(), E_FUNC_CODE_WELFARE, 2, reward_it-&gt;second-&gt;id(), 0, &quot;&quot;);
520:                 g_EventManager.Trigger(player_activity_reach, &amp;gs_event);
521:             }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/game_server/data_wrapper/gs_welfare_module.cpp" line="511" id="nullpointer" subid="invalidDereferenceIterator" severity="Serious" msg="Iterator [reward_it] may be invalid here." web_identify="{&quot;identify&quot;:&quot;reward_it&quot;}" func_info="CFrameOperate::OperRes GSWelfareModule::OnMsgWelfareReward ( player_data * pPlayer , CFrameOperate * pMsgInfo )" content="501: 
502:     // dmp
503: 
504:     std::vector&lt;int32_t&gt; conf_reward = ConstDataHelper::Welfare::GetProgressRewardIds(wd.act_id);
505: 
506:     for (auto&amp; reward_id : conf_reward)
507:     {
508:         auto reward_it = g_ConstData.get_m_welfare_reward().find(reward_id);
509:         if (reward_it == g_ConstData.get_m_welfare_reward().end() || !reward_it-&gt;second)
510:         {
511:             if (reward_it-&gt;second-&gt;stage() != stage)
512:             {
513:                 continue;
514:             }
515: 
516:             if (dmp_point_before &lt; reward_it-&gt;second-&gt;point() &amp;&amp; ret_point &gt;= reward_it-&gt;second-&gt;point())
517:             {
518:                 //积分达成事件
519:                 GsEventActivityReach gs_event(pPlayer-&gt;get_player_id(), E_FUNC_CODE_WELFARE, 2, reward_it-&gt;second-&gt;id(), 0, &quot;&quot;);
520:                 g_EventManager.Trigger(player_activity_reach, &amp;gs_event);
521:             }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/game_server/operate/escort_task_gs_op.cpp" line="124" id="suspicious" subid="unConditionalBreakinLoop" severity="Warning" msg="An unconditional &apos;break/return/goto&apos; within a loop.It may be a mistake." web_identify="{&quot;identify&quot;:&quot;;&quot;}" func_info="CFrameOperate::OperRes CLASS_GAME_E_S2S_GIVE_UP_ESCORT_TASK_SS2GS::do_with_role ( )" content="114: 			g_GlobalData.m_gstask_handler.ChangeTaskStatus(*p, task_id, E_TASK_CAN_ACCEPT);
115: 			break;
116: 		}
117: 	}
118: 	*/
119:     std::vector&lt;int32_t&gt; v_task;
120:     p-&gt;FetchAimTasks(E_TASK_TARGET_ESCORT, v_task);
121:     for (auto v : v_task)
122:     {
123:         task_id = v;
124:         break;
125:     }
126:     resp.set_isok(E_CORRECT);
127:     resp.set_task_id(task_id);
128:     return OPER_RES_PROTO;
129: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/game_server/operate/escort_task_gs_op.cpp" line="88" id="suspicious" subid="unConditionalBreakinLoop" severity="Warning" msg="An unconditional &apos;break/return/goto&apos; within a loop.It may be a mistake." web_identify="{&quot;identify&quot;:&quot;;&quot;}" func_info="CFrameOperate::OperRes CLASS_GAME_E_S2S_SUBMIT_ESCORT_TASK_SS2GS::do_with_role ( )" content="78:         {
79:             resp.set_isok(E_ERROR_TASK_STATUS_ERROR);
80:             return OPER_RES_PROTO;
81:         }
82:         EscortTaskCacheParser task_parser;
83:         task_parser.Parse(*cache_pt);
84:         for (auto&amp; m : task_parser.map_target_detail_)
85:         {
86:             EscortTaskCacheParser::TargetDetail&amp; detail = m.second;
87:             p-&gt;AddTaskScheduleByTaskId(req.task_id(), E_TASK_TARGET_ESCORT, detail.obj_id, 1);
88:             break;
89:         }
90: 
91:         resp.set_isok(E_CORRECT);
92:         return OPER_RES_PROTO;
93:     }
94:     else
95:     {
96:         resp.set_isok(E_ERROR_TASK_STATUS_ERROR);
97:         return OPER_RES_PROTO;
98:     }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/game_server/operate/gm_op.cpp" line="1319" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [netPeer] to null at line 1313 implies that [netPeer ] might be null.Dereferencing null pointer [netPeer]." web_identify="{&quot;identify&quot;:&quot;netPeer&quot;}" func_info="CFrameOperate::OperRes CLASS_GAME_E_S2S_GAME_GM_CMD::do_with_role ( )" content="1309: 	//};
1310: 
1311: 	auto GMTestSendMsg = [session{ smsg-&gt;GetConnection() }, this](E_PROTOCOL msg_type, ::protobuf::Message&amp; pb_msg, bool bUseGGSession = false) {
1312: 		auto pSession = session;
1313: 		if(bUseGGSession &amp;&amp; netPeer) {
1314: 			pSession = netPeer-&gt;getServerSession(SERVER_GG);	// 模拟真正的客户端请求， 会把回包发给客户端，一些模拟流程需要客户端取到回包
1315: 		}
1316: 		if (pSession)
1317: 		{
1318: 			SMessage* new_smsg = (SMessage*)(pSession-&gt;CreateMessage());
1319: 			new_smsg-&gt;SetHead(msg_type, msg_type, pSession-&gt;get_servertype(), NetPeerApi::getPeerId(netPeer),
1320: 				pSession-&gt;GetSocketFD());
1321: 			std::string str_content;
1322: 			pb_msg.SerializeToString(&amp;str_content);
1323: 			new_smsg-&gt;SetContent((uint8*)str_content.c_str(), str_content.length());
1324: 			new_smsg-&gt;Encode();
1325: 			g_JobQueue.submitjob((BMessage*)new_smsg);
1326: 		}
1327: 	};
1328: 	auto cmd = pp.get_param();
1329: 	resp.set_isok(E_CORRECT);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/game_server/operate/gm_op.cpp" line="1791" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [p] suggests that it may be null, but it has already been dereferenced at line 1450." web_identify="{&quot;identify&quot;:&quot;p&quot;}" func_info="CFrameOperate::OperRes CLASS_GAME_E_S2S_GAME_GM_CMD::do_with_role ( )" content="1781: 			{
1782: 				int64_t pp_roleid = pp.safe_atoi_with_throw(pp.get_param());
1783: 				if(pp_roleid == 0)
1784: 				{
1785: 					pp_roleid = role_id;
1786: 				}
1787: 				auto pPlayer = g_GlobalData.find_player(pp_roleid);
1788: 				LINFO(&quot;InitDefendTeam roleid:&quot; &lt;&lt; pp_roleid);
1789: 		        if (pPlayer == nullptr) {
1790: 		            g_GlobalData.AsyncLoadPlayer(pp_roleid, [](int32_t isok, player_data* p) {
1791: 		                if (isok == E_CORRECT &amp;&amp; p != nullptr) {
1792: 		                	LINFO(&quot;InitDefendTeam roleid:&quot; &lt;&lt; p-&gt;get_player_id());
1793: 		                    GSArenaSkyModule::InitDefendTeam(p);
1794: 		                }
1795: 		            });
1796: 		        }
1797: 		        else
1798: 		        {
1799: 		        	GSArenaSkyModule::InitDefendTeam(pPlayer);
1800: 		        }
1801: 			}
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/game_server/operate/gs_cards_op.cpp" line="474" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [card_cell] to null at line 395 implies that [card_cell ] might be null.Dereferencing null pointer [card_cell]." web_identify="{&quot;identify&quot;:&quot;card_cell&quot;}" func_info="CFrameOperate::OperRes CLASS_GAME_E_C2S_GET_CRAD_PROPERTY::do_with_role ( )" content="464: 
465: 
466: 			// 额外爆伤
467: 			propList[1110] = propList[26] - 5000;
468: 			if (propList[1110] &lt; 0)
469: 			{
470: 				propList[1110] = 0;
471: 			}
472: 	 	}
473: 
474: 		int score = card_cell-&gt;get_score();
475: 
476: 		LDEBUG(&quot;cardattr card &quot; &lt;&lt; card_id);
477: 
478:          // 放在最后
479:          if(!propList.empty())
480:          {
481:          	for(auto &amp;pair: propList)
482:          	{
483:          		auto pb = resp.add_attrs();
484: 	         	pb-&gt;set_type(pair.first);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/game_server/operate/gs_task_op.cpp.cpp" line="1061" id="nullpointer" subid="invalidDereferenceIterator" severity="Serious" msg="Iterator [it_task] may be invalid here." web_identify="{&quot;identify&quot;:&quot;it_task&quot;}" func_info="CFrameOperate::OperRes CLASS_GAME_E_C2S_TASK_TRANSFER_2::do_with_role ( )" content="1051: 
1052:     if (!p-&gt;IfHaveTargetTask(static_cast&lt;ETaskTargetType&gt;(ETaskTargetType::E_TASK_TARGET_TRANSFER), aim_id, task_id)) {
1053:         LERROR(&quot; has no task, id &quot; &lt;&lt; task_id);
1054:         return SetIsokAndReturn(E_ERROR_TASK_NO_EXSIT);
1055:     }
1056: 
1057:     p-&gt;AddTaskScheduleEx(static_cast&lt;ETaskTargetType&gt;(ETaskTargetType::E_TASK_TARGET_TRANSFER), 0, 1);
1058: 
1059:     // 通知Scene进行传送
1060:     {
1061:         int32_t map_id = it_task-&gt;second-&gt;target_data1(0);
1062:         int32_t x = it_task-&gt;second-&gt;target_data1(1);
1063:         int32_t y = it_task-&gt;second-&gt;target_data1(2);
1064:         int32_t face = it_task-&gt;second-&gt;target_data1(3);
1065:         LDEBUG(&quot;task_transfer map_id &quot; &lt;&lt; map_id &lt;&lt; &quot; x &quot; &lt;&lt; x &lt;&lt; &quot; y &quot; &lt;&lt; y &lt;&lt; &quot; face &quot; &lt;&lt; face);
1066: 
1067:         Location loc(0, x, y);
1068: 
1069:         SceneTransRuleParam trans_param;
1070:         trans_param.ignor_scene_pos_rule = true;
1071:         trans_param.face = face;
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/game_server/operate/relation_op.cpp" line="1284" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [p] suggests that it may be null, but it has already been dereferenced at line 1240." web_identify="{&quot;identify&quot;:&quot;p&quot;}" func_info="CFrameOperate::OperRes CLASS_GAME_E_C2S_FRIEND_APPLY_AGREE::do_with_role ( )" content="1274:             //黑名单清除
1275:             del_from_pb_list(p-&gt;mutable_table_role().pb_block_list, player_id);
1276:             // if(!is_both_confirmed(p,op))
1277:             {
1278:                 FriendApplyRedEvent red_event(p);
1279:                 red_event();
1280:             }
1281:         } 
1282:     }
1283: 
1284: 	if (p != nullptr &amp;&amp; op != nullptr) {
1285: 		role_func_data_t::FriendData&amp; m_friend_data = p-&gt;mutable_table_role_func_data().m_friend_data.Mutable();
1286: 		m_friend_data.apply_list.erase(op-&gt;get_player_id());
1287: 	}
1288: 	if (op != nullptr &amp;&amp; p != nullptr) {
1289: 		role_func_data_t::FriendData&amp; m_friend_data = op-&gt;mutable_table_role_func_data().m_friend_data.Mutable();
1290: 		m_friend_data.apply_list.erase(p-&gt;get_player_id());
1291: 	}
1292: 
1293:     int64_t my_id = p-&gt;get_player_id();
1294:     if (op != nullptr &amp;&amp; op-&gt;GetFriendsNum() &gt;= g_GlobalData.pdc_constant_data-&gt;friend_limit()) {
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/game_server/operate/relation_op.cpp" line="1311" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [op] to null at line 1294 implies that [op ] might be null.Dereferencing null pointer [op]." web_identify="{&quot;identify&quot;:&quot;op&quot;}" func_info="CFrameOperate::OperRes CLASS_GAME_E_C2S_FRIEND_APPLY_AGREE::do_with_role ( )" content="1301:         resp.set_isok(E_ERROR_FRIEND_T_LIST_FULL);    
1302:         return OPER_RES_STRING;   
1303:     }
1304: 
1305:     bool push_p_2_op = true;
1306:     bool push_op_2_p = true;
1307: 
1308:     {
1309:         auto _friend = p-&gt;mutable_table_friend().HoldCell(player_id);
1310:         if (_friend == nullptr) {
1311:             add_friend_one_side(p, op, push_p_2_op);
1312:             push_p_2_op = false;
1313:         }
1314:         if (_friend) {
1315:             _friend-&gt;set_both_confirmed(1);
1316: 			_friend-&gt;set_remove_time(0);
1317:         }
1318:     }
1319:     {
1320:         auto _friend = op-&gt;mutable_table_friend().HoldCell(p-&gt;get_player_id());
1321:         if (_friend == nullptr) {
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/game_server/operate/relation_op.cpp" line="1448" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [p] suggests that it may be null, but it has already been dereferenced at line 1441." web_identify="{&quot;identify&quot;:&quot;p&quot;}" func_info="CFrameOperate::OperRes CLASS_GAME_E_C2S_FRIEND_APPLY_AGREE_ONEKEY::do_with_role ( )" content="1438: 				if (op == nullptr) {
1439: 					continue;
1440: 				}
1441:                 if (p-&gt;GetFriendsNum() &gt;= g_GlobalData.pdc_constant_data-&gt;friend_limit()) {
1442:                     continue;
1443:                 }
1444: 				// 判断对方上限
1445: 				if (op-&gt;GetFriendsNum() &gt;= g_GlobalData.pdc_constant_data-&gt;friend_limit()) {
1446: 					op_full = true;
1447: 
1448: 					if (p != nullptr &amp;&amp; op != nullptr) {
1449: 						role_func_data_t::FriendData&amp; m_friend_data = p-&gt;mutable_table_role_func_data().m_friend_data.Mutable();
1450: 						m_friend_data.apply_list.erase(op-&gt;get_player_id());
1451: 					}
1452: 					continue;
1453: 				}
1454: 
1455: 				{
1456: 					RESPOND(E_S2C_PUSH_ADD_FRIEND) p_push;
1457: 					set_friends_pb(p, op, p_push.mutable_player());
1458: 					p-&gt;player_push_msg(E_S2C_PUSH_ADD_FRIEND, p_push, SERVER_GG);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/game_server/operate/relation_op.cpp" line="1827" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [p] suggests that it may be null, but it has already been dereferenced at line 1822." web_identify="{&quot;identify&quot;:&quot;p&quot;}" func_info="CFrameOperate::OperRes CLASS_GAME_E_C2S_DEL_FRIEND::do_with_role ( )" content="1817:             op-&gt;player_push_msg(E_GS2CS_NEED_REFRESH_TEAM_EXP_ADDON, cs_req, SERVER_CS);
1818:         }
1819:         auto pb = resp.mutable_friends();
1820:         pb-&gt;set_roleid(p-&gt;get_table_role().get_roleid());
1821:         pb-&gt;set_name(p-&gt;get_table_role().get_nickname());
1822:         del_from_pb_list(p-&gt;mutable_table_role().pb_friend_apply_list, player_id);
1823:         GsEventDeleteFriend gs_event(op, role_id, 0);
1824:         g_EventManager.Trigger(player_delete_friend, &amp;gs_event);
1825:     }
1826: 
1827: 	if (op != nullptr &amp;&amp; p != nullptr) {
1828: 		role_func_data_t::FriendData&amp; m_friend_data = op-&gt;mutable_table_role_func_data().m_friend_data.Mutable();
1829: 		m_friend_data.apply_list.erase(p-&gt;get_player_id());
1830: 	}
1831: 	if (op != nullptr &amp;&amp; p != nullptr) {
1832: 		role_func_data_t::FriendData&amp; m_friend_data = p-&gt;mutable_table_role_func_data().m_friend_data.Mutable();
1833: 		m_friend_data.apply_list.erase(op-&gt;get_player_id());
1834: 	}
1835: 	if (p != nullptr) {
1836: 		p-&gt;sync_friend_id_list_data_to_cs();
1837: 	}
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/game_server/operate/relation_op.cpp" line="1921" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [p] suggests that it may be null, but it has already been dereferenced at line 1893." web_identify="{&quot;identify&quot;:&quot;p&quot;}" func_info="CFrameOperate::OperRes CLASS_GAME_E_C2S_BLOCK_PLAYER::do_with_role ( )" content="1911:                 //告知对方有人把你删除好友了
1912:                 RESPOND(E_S2C_PUSH_DEL_FRIEND) p_push;
1913:                 p_push.set_player_id(role_id);
1914:                 p_push.set_name(p-&gt;get_table_role().get_nickname());
1915:                 set_friends_pb(op, p, p_push.mutable_player());
1916:                 op-&gt;player_push_msg(E_S2C_PUSH_DEL_FRIEND, p_push, SERVER_GG);
1917:             }
1918:             set_friends_pb(p, op, resp.mutable_friends());
1919:         }
1920: 
1921: 		if (op != nullptr &amp;&amp; p != nullptr) {
1922: 			role_func_data_t::FriendData&amp; m_friend_data = op-&gt;mutable_table_role_func_data().m_friend_data.Mutable();
1923: 			m_friend_data.apply_list.erase(p-&gt;get_player_id());
1924: 		}
1925: 		if (op != nullptr &amp;&amp; p != nullptr) {
1926: 			role_func_data_t::FriendData&amp; m_friend_data = p-&gt;mutable_table_role_func_data().m_friend_data.Mutable();
1927: 			m_friend_data.apply_list.erase(op-&gt;get_player_id());
1928: 		}
1929: 
1930: 		if (p != nullptr) {
1931: 			p-&gt;sync_friend_id_list_data_to_cs();
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/game_server/operate/relation_op.cpp" line="200" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [p] suggests that it may be null, but it has already been dereferenced at line 182 in function[set_type]." web_identify="{&quot;identify&quot;:&quot;p&quot;}" func_info="static void set_friends_pb ( player_data * p , player_data * opp , protos::contact * pb_p )" content="190:     //pb_p-&gt;set_title_id(opp-&gt;mutable_table_role().get_title());
191:     if (opp-&gt;get_table_role().get_guild_id() &gt; 0)
192:     {
193:         pb_p-&gt;set_guild_name(opp-&gt;get_table_role().get_guild_name());
194:     }
195:     ProfessionWrapper pw(*opp);
196:     // CommonFunctions::_HeadPortrait_ head(opp_role_id, pw.getProfessionId(), opp-&gt;mutable_table_role().get_level(),
197:     //                                      opp-&gt;mutable_table_role().pb_avatars);
198:     // head.set_HeadPortrait(pb_p-&gt;mutable_heads());
199:     opp-&gt;ToHeadPortrait(*pb_p-&gt;mutable_heads());
200:     if(!p)
201:     {
202:         return ;
203:     }
204:     auto it2 = p-&gt;get_table_chat_history().GetCell(opp_role_id);  //与此人聊天记录的迭代器it2
205:     if (!it2)
206:     {
207:         pb_p-&gt;set_msg_num(0);
208:     }
209:     else
210:     {
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/game_server/operate/relation_op.cpp" line="3006" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [p] suggests that it may be null, but it has already been dereferenced at line 2949." web_identify="{&quot;identify&quot;:&quot;p&quot;}" func_info="CFrameOperate::OperRes CLASS_GAME_E_C2S_FRIEND_ONE_KEY_GIVE_GAIN::do_with_role ( )" content="2996: 
2997:         fd.give_num++;
2998:         give_left_times--;
2999:         fg.give_time = game_now;
3000:         give_num++;
3001: 
3002:         player_data* opp = g_GlobalData.find_player(friend_id);
3003:         if (!opp) {
3004:             g_GlobalData.AsyncLoadPlayer(friend_id, [me_id{me_id}, game_now](int32_t isok, player_data* p) {
3005:                 if (isok == E_CORRECT) {
3006:                     if (p != nullptr) {
3007:                         role_func_data_t::FriendData&amp; fd = p-&gt;mutable_table_role_func_data().m_friend_data.Mutable();
3008:                         auto &amp;fg = fd.gift_map[me_id];
3009:                         fg.player_id = me_id;
3010:                         fg.gift_time = game_now;
3011:                         fg.count += 1;
3012:                         LDEBUG(&quot;one_key_gitf &quot; &lt;&lt; me_id &lt;&lt; &quot; -&gt; &quot; &lt;&lt; p-&gt;get_player_id());
3013:                     }                     
3014:                 }
3015:                 
3016:                 return 0;
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/game_server/operate/task_op.cpp" line="1668" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [rep] suggests that it may be null, but it has already been dereferenced at line 1667." web_identify="{&quot;identify&quot;:&quot;rep&quot;}" func_info="CFrameOperate::OperRes CLASS_GAME_E_C2S_ENTER_WATTER_RIPPLE_SCENE::do_with_role ( )" content="1658:         resp.set_isok(E_ERROR_PLAYER_IS_NOT_TAKE_WATER_RIPPLE_TASK);
1659:         return OPER_RES_PROTO;
1660:     }
1661:     auto&amp;&amp; role_id = p-&gt;mutable_table_role().get_roleid();
1662:     //	auto env = MakeSendMessageEnv();
1663:     auto&amp;&amp; req_no = g_AsyncRequestHandlerMgr.MakeAsyncRequest(
1664:         [role_id](AsyncRequestHandlerNs::PbMessage&amp; pb, const AsyncRequestHandlerNs::SendMessageEnv&amp; env,
1665:                   int32_t protocol_no) {
1666:             RESPOND(E_S2S_GET_SCENE_LOCATION)* rep = dynamic_cast&lt;RESPOND(E_S2S_GET_SCENE_LOCATION)*&gt;(&amp;pb);
1667:             LDEBUG(&quot;E_S2S_GET_SCENE_LOCATION:&quot; &lt;&lt; g_PBPrinter.getJsonStream((*rep)));
1668:             if ((!rep))
1669:             {
1670:                 LWARN(&quot;error protocol&quot;);
1671:                 return;
1672:             }
1673:             auto&amp;&amp; p = g_GlobalData.find_player(role_id);
1674:             if (!p)
1675:             {
1676:                 LWARN(&quot;do not find player!&quot; &lt;&lt; role_id);
1677:                 return;
1678:             }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/gate_server/gate_server.cpp" line="61" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;GateServer::pid_redis,&apos; is not initialized in the constructor." web_identify="{&quot;identify&quot;:&quot;GateServer::pid_redis,&quot;}" func_info="global" content="51: #include &quot;s2s_client.h&quot;                                      // for s2s_client
52: #include &quot;s2s_mmo3d.pb.h&quot;                                    // for rep_E_GM...
53: #include &quot;server_config.h&quot;                                   // for g_Server...
54: #include &quot;server_list.h&quot;                                     // for g_Server...
55: #include &quot;session.h&quot;                                         // for Session
56: 
57: class BMessage;
58: 
59: using namespace std;
60: 
61: GateServer::GateServer() :
62:     //LogicBase(LogicBase::ConstructorParam(&quot;&quot;, g_ServerConfig.cur_port, 2500, 1024)), p_redisCmd(NULL)
63:     LogicBase(LogicBase::ConstructorParam::CreateGateServerParam(g_ServerConfig.cur_port)), p_redisCmd(NULL)
64: {
65:     GateSession::ConstructorParam param{this, 1024};
66:     LogicBaseHelper::SetAcceptSocketPool&lt;GateSession, GateSession::ConstructorParam&gt;(this, &amp;param, 2500);
67: 
68:     m_requireOfflineLastCheckTime = 0;
69:     m_msg_statistics_config = std::make_shared&lt;MsgStatisticsConfig&gt;();
70: }
71: 
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/gate_server/gate_server.cpp" line="684" id="nullpointer" subid="funcRetNullStatistic" severity="Serious" msg="return value of function [get_map_value] [msg_statis_ptr] isn&apos;t checked-null, however [367] times checked-null elsewhere." web_identify="get_map_value|msg_statis_ptr" func_info="template&lt;classMap&gt;Map::mapped_type* get_map_value(Map&amp;, Map::key_type&amp;)" content="674:     if (session &amp;&amp; !session-&gt;getIsS2s())  //客户端发过来的消息
675:     {
676:         auto&amp;&amp; socket_fd = session-&gt;GetSocketFD();
677:         auto msg_statis_ptr = CommonFunctions::get_map_value(m_msg_statistics, socket_fd);
678:         if (!msg_statis_ptr)
679:         {
680:             LWARN(&quot;do not find msg statistics class:&quot; &lt;&lt; socket_fd);
681:             add_new_msg_statistics(socket_fd);
682:             msg_statis_ptr = CommonFunctions::get_map_value(m_msg_statistics, socket_fd);
683:         }
684:         auto shared_msg = *msg_statis_ptr;
685:         shared_msg-&gt;addMsgCount(msgid);
686:         if(shared_msg)
687:         {
688:             auto check_ret = shared_msg-&gt;checkMsgValid(msgid);
689:             if (check_ret != MsgStatisticsError::MSG_CORRECT)
690:             {
691:                 shared_msg-&gt;sendMsgToInvalidSession(msgid, check_ret);
692:                 return;
693:             }    
694:         }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/gate_server/gate_server.cpp" line="686" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [shared_msg] suggests that it may be null, but it has already been dereferenced at line 685." web_identify="{&quot;identify&quot;:&quot;shared_msg&quot;}" func_info="void GateServer::_onMessage4GC ( SMessage * smsg , CNetPeer * netPeer )" content="676:         auto&amp;&amp; socket_fd = session-&gt;GetSocketFD();
677:         auto msg_statis_ptr = CommonFunctions::get_map_value(m_msg_statistics, socket_fd);
678:         if (!msg_statis_ptr)
679:         {
680:             LWARN(&quot;do not find msg statistics class:&quot; &lt;&lt; socket_fd);
681:             add_new_msg_statistics(socket_fd);
682:             msg_statis_ptr = CommonFunctions::get_map_value(m_msg_statistics, socket_fd);
683:         }
684:         auto shared_msg = *msg_statis_ptr;
685:         shared_msg-&gt;addMsgCount(msgid);
686:         if(shared_msg)
687:         {
688:             auto check_ret = shared_msg-&gt;checkMsgValid(msgid);
689:             if (check_ret != MsgStatisticsError::MSG_CORRECT)
690:             {
691:                 shared_msg-&gt;sendMsgToInvalidSession(msgid, check_ret);
692:                 return;
693:             }    
694:         }
695:         
696: 
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/gate_server/gate_server.cpp" line="788" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [pOp] to null at line 755 implies that [pOp ] might be null.Dereferencing null pointer [pOp]." web_identify="{&quot;identify&quot;:&quot;pOp&quot;}" func_info="void GateServer::_onMessage4GC ( SMessage * smsg , CNetPeer * netPeer )" content="778:         {
779:             return;
780:         }
781:         else
782:         {
783:             Session* pSession = smsg-&gt;GetConnection();
784:             if (pSession != NULL)
785:             {
786:                 s_smsg.Clear();
787:                 s_smsg.SetHead(msgid);
788:                 s_smsg.SetContent(pOp-&gt;content);
789: 
790:                 SessionApi::sendToSessionNoLog(pSession, &amp;s_smsg);
791:             }
792:             else
793:             {
794:                 LERROR(&quot;no session, msgid(&quot; &lt;&lt; msgid &lt;&lt; &quot;)&quot;);
795:             }
796:         }
797:         break;
798:     }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/global_server/global_server.cpp" line="187" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [pOp] to null at line 155 implies that [pOp ] might be null.Dereferencing null pointer [pOp]." web_identify="{&quot;identify&quot;:&quot;pOp&quot;}" func_info="bool GlobalServer::_onMessage4MN ( SMessage * smsg )" content="177: 
178:         if ((CFrameOperate::OPER_RES_ERROR == result) || (CFrameOperate::OPER_RES_DONNOT_RETURN == result))
179:         {
180:             //@TODO: 释放 msg
181:             return false;
182:         }
183: 
184:         //回发
185:         smsg-&gt;SetHead(smsg-&gt;GetMsgType(), msgid, g_ServerConfig.cur_servertype, smsg-&gt;GetCsid());
186:         //smsg-&gt;SetContent((uint8_t*)msg_content().c_str(), msg_content().length());
187:         smsg-&gt;SetContent(pOp-&gt;content);
188:         smsg-&gt;SetAckNo(smsg-&gt;GetRequestNo());
189:         smsg-&gt;SetRequestNo(-1);
190: 
191:         submitSendJob((BMessage*)smsg);
192:     }
193:     return true;
194: }
195: 
196: bool GlobalServer::_onMessage4GC(SMessage* smsg)
197: {
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/http_server/http_server.cpp" line="515" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [pOp] to null at line 485 implies that [pOp ] might be null.Dereferencing null pointer [pOp]." web_identify="{&quot;identify&quot;:&quot;pOp&quot;}" func_info="void MultipleThreadLogic::consume_msg ( tagNewServerRequest * p )" content="505:         }
506: 
507:         if ((CFrameOperate::OPER_RES_ERROR == result) || (CFrameOperate::OPER_RES_DONNOT_RETURN == result))
508:         {
509:             re = false;
510:             break;
511:         }
512: 
513:         //回发
514:         smsg-&gt;SetHead(smsg-&gt;GetMsgType(), msgid, g_ServerConfig.cur_servertype, smsg-&gt;GetCsid(), smsg-&gt;GetSsid());
515:         smsg-&gt;SetContent(pOp-&gt;content);
516:         smsg-&gt;SetAckNo(smsg-&gt;GetRequestNo());
517:         smsg-&gt;SetRequestNo(-1);
518:         smsg-&gt;SetReqType(SotMessageReqType::RESP);
519: 
520:         submitSendJob(p);
521:         re = true;
522:     } while (0);
523: 
524:     if (!re)
525:     {
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/log_server/log_server.cpp" line="183" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [pOp] to null at line 152 implies that [pOp ] might be null.Dereferencing null pointer [pOp]." web_identify="{&quot;identify&quot;:&quot;pOp&quot;}" func_info="void LogServer::onMessage ( BMessage * msg , bool is_single_thread )" content="173: 
174:                 if ((CFrameOperate::OPER_RES_ERROR == result) || (CFrameOperate::OPER_RES_DONNOT_RETURN == result))
175:                 {
176:                     //@TODO: 释放 msg
177:                     return false;
178:                 }
179: 
180:                 //回发
181:                 smsg-&gt;SetHead(smsg-&gt;GetMsgType(), msgid, g_ServerConfig.cur_servertype, smsg-&gt;GetCsid());
182:                 if (is_single_thread)
183:                     smsg-&gt;SetContent(pOp-&gt;content);
184:                 else
185:                     smsg-&gt;SetContent(msg_content());
186: 
187:                 smsg-&gt;SetAckNo(smsg-&gt;GetRequestNo());
188:                 smsg-&gt;SetRequestNo(-1);
189: 
190:                 submitSendJob((BMessage*)smsg);
191: 
192:                 return true;
193:             };
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/log_server/log_server.cpp" line="261" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [pOp] to null at line 231 implies that [pOp ] might be null.Dereferencing null pointer [pOp]." web_identify="{&quot;identify&quot;:&quot;pOp&quot;}" func_info="bool LogServer::_onMessage4MN ( SMessage * smsg )" content="251:     }
252: 
253:     if ((CFrameOperate::OPER_RES_ERROR == result) || (CFrameOperate::OPER_RES_DONNOT_RETURN == result))
254:     {
255:         //@TODO: 释放 msg
256:         return false;
257:     }
258: 
259:     //回发
260:     smsg-&gt;SetHead(smsg-&gt;GetMsgType(), msgid, g_ServerConfig.cur_servertype, smsg-&gt;GetCsid());
261:     smsg-&gt;SetContent((uint8_t*)pOp-&gt;content.c_str(), pOp-&gt;content.length());
262: 
263:     submitSendJob((BMessage*)smsg);
264: 
265:     return true;
266: }
267: 
268: bool LogServer::_onMessage4GS(SMessage* smsg)
269: {
270:     int msgid = smsg-&gt;GetMsgType();
271: 
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/modules/CommonConfig.cpp" line="328" id="suspicious" subid="unConditionalBreakinLoop" severity="Warning" msg="An unconditional &apos;break/return/goto&apos; within a loop.It may be a mistake." web_identify="{&quot;identify&quot;:&quot;one&quot;}" func_info="std::string ConfigHelper::GetListWebToolUrl ( )" content="318:     {
319:         return &quot;&quot;;
320:     }
321: 
322:     auto&amp;&amp; js_web_tool_list_url = g_ServerConfig.jsconfig[&quot;server_config&quot;][&quot;web_tool_list_url&quot;];
323:     if (js_web_tool_list_url.isArray())
324:     {
325:         for (auto i = 0u; i &lt; js_web_tool_list_url.size(); i++)
326:         {
327:             auto&amp;&amp; one = js_web_tool_list_url[i];
328:             return one.asString();
329:         }
330:     }
331: 
332:     return js_web_tool_list_url.asString();//.c_str();
333: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/modules/CoreData/CoreHashMap.h" line="339" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [pNode] to null at line 305 implies that [pNode ] might be null.Dereferencing null pointer [pNode]." web_identify="{&quot;identify&quot;:&quot;pNode&quot;}" func_info="void CHash::SafeLoopMap ( loop_func cb , void * param )" content="329: 
330: 			// 删除
331: 			for (int i = 0; i &lt; m_capacity_size; ++i)
332: 			{
333: 				hash_node* ptr = m_trunk[i];
334: 				hash_node* pFro = NULL;
335: 				while (ptr)
336: 				{
337: 					if (ptr-&gt;mark == new_add)
338: 					{
339: 						pNode-&gt;mark = none;
340: 						int ret = loop_func(pNode-&gt;data, param);
341: 						if (ret == 2)
342: 						{
343: 							pNode-&gt;mark = will_delete;
344: 						}
345: 					}
346: 
347: 					if (ptr-&gt;mark == will_delete)
348: 					{
349: 						// 移除
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/modules/CoreData/CoreList.h" line="356" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [m_data] suggests that it may be null, but it has already been dereferenced at line 353 in function[memcpy]." web_identify="{&quot;identify&quot;:&quot;m_data&quot;}" func_info="void CList::capacity ( int count )" content="346: 			if (!ptr)
347: 			{
348: 				return;
349: 			}
350: 			
351: 			if (m_cur_size &gt; 0)
352: 			{
353: 				memcpy(ptr, m_data, m_cur_size * sizeof(T));
354: 			}
355: 			
356: 			if (m_data)
357: 			{
358: 				CORE_FREE(m_data, m_capacity_size * sizeof(T));
359: 			}		
360: 			
361: 			m_data = ptr;
362: 			m_capacity_size = count;
363: 		}
364: 
365: 		void resize(int count)
366: 		{
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/modules/CoreData/CoreList.h" line="391" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [m_data] suggests that it may be null, but it has already been dereferenced at line 388 in function[memcpy]." web_identify="{&quot;identify&quot;:&quot;m_data&quot;}" func_info="void CList::resize ( int count , const T &amp; cpy )" content="381: 				return;
382: 			}
383: 
384: 			int cpyCount = 0;
385: 			if (m_cur_size &gt; 0)
386: 			{
387: 				cpyCount = (count &gt; m_cur_size) ? m_cur_size : count;
388: 				memcpy(ptr, m_data, cpyCount * sizeof(T));
389: 			}
390: 
391: 			if (m_data)
392: 			{
393: 				CORE_FREE(m_data, m_capacity_size * sizeof(T));
394: 			}
395: 			
396: 			m_data = ptr;
397: 			m_capacity_size = count;
398: 
399: 			if (m_cur_size &gt; m_capacity_size)
400: 			{
401: 				m_cur_size = m_capacity_size;
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/modules/CoreData/CoreObjectDefine.cpp" line="73" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;TableDefine::cb,&apos; is not initialized in the constructor." web_identify="{&quot;identify&quot;:&quot;TableDefine::cb,&quot;}" func_info="global" content="63: 	other = false;				// 是否更新到其他可视单位
64: 	maxCols = MAX_COLS;			// 最大列号
65: 	maxRows = MAC_ROWS;			// 最大行号
66: 	key = -1;				// 键列
67: 	// colTypes;	// 列类型定义
68: 	// colOffset;	// 列访问偏移
69: 	intNum = 0;
70: 	stringNum = 0;
71: }
72: 
73: TableDefine::TableDefine(const TableDefine&amp; cpy)
74: {
75: 	id = cpy.id;					// 表格ID
76: 	tableName = cpy.tableName;	// 表格名称
77: 	save = cpy.save;				// 是否保存
78: 	client = cpy.client;			// 是否更新到客户端
79: 	other = cpy.other;				// 是否更新到其他可视单位
80: 	maxCols = cpy.maxCols;			// 最大列号
81: 	maxRows = cpy.maxRows;			// 最大行号
82: 	key = cpy.key;				// 键列
83: 	colTypes = cpy.colTypes;	// 列类型定义
" inconclusive="true"/>
    <error file="/data/EveryDayTscan/sot_server/classes/modules/common/CellMap2.h" line="447" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [package] to null at line 442 implies that [package ] might be null.Dereferencing null pointer [package]." web_identify="{&quot;identify&quot;:&quot;package&quot;}" func_info="MapValue * CellMap2::AddOnEmptyPos ( int index , Key pos_end , std :: function &lt; void ( MapValue &amp; value , Key pos ) &gt; &amp;&amp; new_value_setter )" content="437: 				// package is full
438: 				return nullptr;
439: 			}
440: 
441: 			MapValue *package = AddCell(pos);
442: 			if(package)
443: 			{
444: 				new_value_setter(*package, pos);
445: 			}
446: 
447: 			package-&gt;set_changed(true);
448: 
449: 			return package;
450: 		}
451: 
452: 		MapValue *AddOnEmptyPos(int32_t index, Key pos_end)
453: 		{
454: 			auto &amp;&amp;fun = [](MapValue &amp;v, Key k)
455: 			{
456: 
457: 			};
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/modules/common/ELuna.h" line="118" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;LuaTable::m_stackPos,&apos; is not initialized in the constructor." web_identify="{&quot;identify&quot;:&quot;LuaTable::m_stackPos,&quot;}" func_info="ELuna::LuaTable" content="108: 		inline int  decRef() { return --m_refCount; }
109: 
110: 		int	m_refCount;
111: 	};
112: 
113: 	///////////////////////////////////////////////////////////////////////////////
114: 	// lua&apos;s table type
115: 	///////////////////////////////////////////////////////////////////////////////
116: 	struct LuaTable
117: 	{
118: 		LuaTable(): m_refCount(NULL), m_tableAdd(NULL), m_luaState(NULL) {} ;
119: 
120: 		LuaTable(lua_State* L) {
121: 			lua_newtable(L);
122: 			m_luaState = L;
123: 			m_stackPos = lua_gettop(L);
124: 			m_tableAdd = lua_topointer(L, -1);
125: 			m_refCount = new TableRefCount(L);
126: 		}
127: 
128: 		LuaTable(LuaTable const&amp; rhs) {
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/modules/common/YZDataLog.cpp" line="23" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;YZDataLog::m_logSize,&apos; is not initialized in the constructor." web_identify="{&quot;identify&quot;:&quot;YZDataLog::m_logSize,&quot;}" func_info="global" content="13: 
14: YZDataLog::~YZDataLog()
15: {
16:     if (NULL != fp_file)
17:     {
18:         delete fp_file;
19:         fp_file = NULL;
20:     }
21: }
22: 
23: YZDataLog::YZDataLog() : fp_file(NULL), t_lastSecond(0)
24: {
25:     t_lastSecond = 0;
26:     m_file = std::string(&quot;YZDatalog&quot;);
27:     t_time[0] = 0;
28: }
29: 
30: void YZDataLog::YZData_Logva(SourceFile&amp; file, int line, const char* pattern, va_list vp)
31: {
32:     //struct timeval tv;
33:     //gettimeofday(&amp;tv, NULL);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/modules/common/YZDataLog.h" line="50" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;Buffer::data_,&apos; is not initialized in the constructor." web_identify="{&quot;identify&quot;:&quot;Buffer::data_,&quot;}" func_info="Buffer" content="40:     int size_;
41: };
42: 
43: #define BUF_NUM 30  //buf数组的最大长度
44: 
45: #define MAX_BUF_SIZE 20 * 1024 * 1024  //日志缓存的最大长度，
46: 
47: class Buffer : boost::noncopyable
48: {
49: public:
50:     Buffer() : cur_(data_), end(data_ + sizeof data_) {}
51: 
52:     ~Buffer() {}
53: 
54:     void append(const char* buf, size_t len)
55:     {
56:         //if (implicit_cast&lt;size_t&gt;(avail()) &gt; len)
57:         if (static_cast&lt;size_t&gt;(avail()) &gt; len)
58:         {
59:             memcpy(cur_, buf, len);
60:             cur_ += len;
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/modules/common/module_define.h" line="76" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;GreedIslandCardParam::robot_id,&apos; is not initialized in the constructor." web_identify="{&quot;identify&quot;:&quot;GreedIslandCardParam::robot_id,&quot;}" func_info="GreedIslandCardParam" content="66:     bool is_card_dungeon = false;
67:     std::map&lt;int32_t, int32_t&gt; hp_percnet;       // 万分比
68:     bool is_tmp_team = false;
69: 	bool is_climb_tower_new_xlb = false;
70:     bool is_practice_dungeon = false;
71:     bool is_climb_tower_new_race = false;
72: 
73: 	std::vector&lt;int32_t&gt; robot_id;
74: 
75:     GreedIslandCardParam() {}
76:     GreedIslandCardParam(const GreedIslandCardParam&amp; cpy):
77:         min_level(cpy.min_level), min_star(cpy.min_star), min_skill_level(cpy.min_skill_level),
78:         cur_hp(cpy.cur_hp), max_hp(cpy.max_hp), card_id(cpy.card_id), hp(cpy.hp), is_greed_island(cpy.is_greed_island),
79:         is_leave(cpy.is_leave), is_enter(cpy.is_enter), is_update_hp(cpy.is_update_hp), cur_id(cpy.cur_id),
80:         is_tricktower_once(cpy.is_tricktower_once), is_tricktower_round(cpy.is_tricktower_round), hp_percnet(cpy.hp_percnet),
81: 		is_climb_tower_new_xlb(cpy.is_climb_tower_new_xlb), is_practice_dungeon(cpy.is_practice_dungeon)
82: 
83:     {
84:     }
85:     GreedIslandCardParam&amp; operator=(const GreedIslandCardParam&amp; cpy)
86:     {
" inconclusive="true"/>
    <error file="/data/EveryDayTscan/sot_server/classes/modules/common/sql_helper.cpp" line="150" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [_db_save_connpool] to null at line 144 implies that [_db_save_connpool ] might be null.Dereferencing null pointer [_db_save_connpool]." web_identify="{&quot;identify&quot;:&quot;_db_save_connpool&quot;}" func_info="bool SqlHelper::db_pool_query ( const std::string &amp; sql_ , mysqlpp::StoreQueryResult &amp; res )" content="140: 
141: bool SqlHelper::db_pool_query(const std::string &amp;sql_, mysqlpp::StoreQueryResult &amp;res)
142: {
143: 	mysqlpp::Connection* pConn = nullptr;
144: 	if(!_db_save_connpool)
145: 	{
146: 		boost::mutex::scoped_lock scope_lock(_db_pool_mutex);
147: 		if(!_db_save_connpool)
148: 			InitDBSaveConn();
149: 	}
150: 	pConn = _db_save_connpool-&gt;Get();
151: 	
152: 	if(!pConn)
153: 	{
154: 		LERROR(&quot;get conn fail&quot;);
155: 		return false;
156: 	}
157: 	auto ret = query_by_one_conn(pConn, sql_, res);
158: 	_db_save_connpool-&gt;Put(pConn);
159: 	return ret;
160: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/modules/common/sql_helper.cpp" line="192" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [_db_save_connpool] to null at line 185 implies that [_db_save_connpool ] might be null.Dereferencing null pointer [_db_save_connpool]." web_identify="{&quot;identify&quot;:&quot;_db_save_connpool&quot;}" func_info="bool SqlHelper::db_save_execute ( const std::string &amp; sql_ )" content="182: 
183: bool SqlHelper::db_save_execute(const std::string &amp;sql_)
184: {
185: 	if(!_db_save_connpool)
186: 	{
187: 		boost::mutex::scoped_lock scope_lock(_db_pool_mutex);
188: 		if(!_db_save_connpool) {
189: 			InitDBSaveConn();
190: 		}
191: 	}
192: 	return exec_pbdata_by_conn(*_db_save_connpool, sql_);
193: }
194: 
195: bool SqlHelper::db_global_execute(const std::string &amp;sql_, mysqlpp::SimpleResult &amp;sim_res, int index)
196: {
197: 	if(!_global_connpool1)
198: 		InitGlobal();
199: 	myConnPool * pool = nullptr;
200: 	if(index == 0)
201: 		pool = _global_connpool1.get();
202: 	else
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/modules/common/sql_helper.cpp" line="212" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [_log_connpool] to null at line 210 implies that [_log_connpool ] might be null.Dereferencing null pointer [_log_connpool]." web_identify="{&quot;identify&quot;:&quot;_log_connpool&quot;}" func_info="bool SqlHelper::db_log_execute ( const std::string &amp; sql_ )" content="202: 	else
203: 		pool = _global_connpool2.get();
204: 
205: 	return execute_by_conn(*pool, sql_, sim_res);
206: }
207: 
208: bool SqlHelper::db_log_execute(const std::string &amp;sql_)
209: {
210: 	if(!_log_connpool)
211: 		InitLog();
212:     return exec_pbdata_by_conn(*_log_connpool, sql_);
213:     //return execute_by_conn(*_log_connpool, sql_);
214: }
215: 
216: std::string SqlHelper::addslashes(const std::string &amp;_str)
217: {
218: 	std::string sc;
219: 	mysqlpp::DBDriver::escape_string_no_conn(&amp;sc,_str.c_str(),_str.length());
220: 	return sc;
221: 	/*
222: 	std::string input(_str);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/modules/common/xml/string_util.cpp" line="86" id="logic" subid="STLFindError" severity="Warning" msg="Using int as return type of string::find is dangerous, it should use size_t instead." web_identify="{&quot;identify&quot;:&quot;.&quot;}" func_info="bool StringUtil::ParseString ( std::string &amp; sour , std::vector &lt; std::string &gt; &amp; vec , const char ch )" content="76: 	{
77: 		return false;
78: 	}
79: 
80: 	vec.clear();
81: 
82: 	int nLast = 0;
83: 	int nCur = 0;
84: 	while (true)
85: 	{
86: 		nCur = sour.find(ch, nLast);
87: 		if (nCur == std::string::npos)
88: 		{
89: 			break;
90: 		}
91: 
92: 		std::string sSub = sour.substr(nLast, nCur - nLast);
93: 		if (!sSub.empty())
94: 		{
95: 			vec.push_back(sSub);
96: 		}
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/modules/const_data/ConstDataBeastDungeon.cpp" line="110" id="suspicious" subid="unConditionalBreakinLoop" severity="Warning" msg="An unconditional &apos;break/return/goto&apos; within a loop.It may be a mistake." web_identify="{&quot;identify&quot;:&quot;;&quot;}" func_info="void ConstDataBeastDungeion::InitCache ( )" content="100:         for (auto&amp; cfg : g_ConstData.get_m_surve_constant())
101:         {
102:             const_data_cache.m_32BeastMiddleItemID = cfg.second-&gt;survey_middle_dungeon_cost_item();
103:             const_data_cache.m_32BeastMiddleMaxCount = cfg.second-&gt;survey_middle_dungeon_num();
104:             for (auto cost : cfg.second-&gt;survey_middle_dungeon_num_cost())
105:             {
106:                 const_data_cache.m_beast_middle_price_cfg.push_back(cost);
107:             }
108: 
109:             const_data_cache.m_32BeastJuniorLimitTime = cfg.second-&gt;survey_junior_auto_unlock();
110:             break;
111:         }
112: 
113:         for (auto&amp; cfg : g_ConstData.get_m_survey_senior_dungeon())
114:         {
115:             const_data_cache.m_dungeon_id_2_survey_senior_dungeon[cfg.second-&gt;dungeon_id()] = cfg.second;
116:         }
117: 
118:         for (auto&amp; cfg : g_ConstData.get_m_survey_senior_set())
119:         {
120:             for (auto &amp;v : cfg.second-&gt;open_cycle())
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/modules/const_data/ConstDataHelper.cpp" line="9653" id="suspicious" subid="unConditionalBreakinLoop" severity="Warning" msg="An unconditional &apos;break/return/goto&apos; within a loop.It may be a mistake." web_identify="{&quot;identify&quot;:&quot;;&quot;}" func_info="void GreedIsland::InitCache ( )" content="9643:                     g_cache.m_greed_island_scene.insert(one.second-&gt;id());
9644:                 }
9645:             }
9646:             for (auto&amp; one : g_ConstData.get_m_mmo_x_Task()) {
9647:                 if (one.second-&gt;type() == 13 || one.second-&gt;type() == 14) {
9648:                     g_cache.m_greed_island_task.push_back(one.second-&gt;id());
9649:                 }
9650:             }
9651:             for (auto&amp; one : g_ConstData.get_m_GreedyIsland_config()) {
9652:                 g_cache.m_greed_island_config = one.second;
9653:                 break;
9654:             }
9655:             for (auto&amp; one : g_ConstData.get_m_GreedyIsland_item()) {
9656:                 g_cache.m_greed_island_card_item[one.second-&gt;item_id()] = one.second;
9657:                 if (one.second-&gt;card_outeffect_size() &gt;= 2) {
9658:                     g_cache.m_greed_island_card_item_2_skill[one.second-&gt;item_id()] = one.second-&gt;card_outeffect(1);
9659:                 }
9660:             }
9661:         }
9662: 
9663:         void GetGreedIslandEventByOccur(int32_t type, int32_t season, std::vector&lt;const protos::GreedyIsland_event* &gt;&amp; events)
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/modules/const_data/ConstXmlData.cpp" line="89" id="logic" subid="STLFindError" severity="Warning" msg="Using int as return type of string::find is dangerous, it should use size_t instead." web_identify="{&quot;identify&quot;:&quot;.&quot;}" func_info="bool ConstXmlData::LoadDungeon ( std::string path )" content="79:     for (auto&amp; one : all_files) {
80:         int32_t pos = static_cast&lt;int32_t&gt;(one.find(&quot;swp&quot;));
81:         if (pos &gt; 0) {
82:             LDEBUG(&quot;ingore .*.swp file!, &quot; &lt;&lt; one &lt;&lt; &quot;, pos &quot; &lt;&lt; pos);
83:             continue;
84:         }
85: 		
86:         int32_t dungeon_id = 0;
87: 
88: 		//合法格式 副本id_dungeon.xml
89:         int spos = one.find(&quot;xml/dungeon/&quot;);
90:         if (spos == std::string::npos)
91:         {
92:             dungeon_id = Tools::StringAsInt(one.c_str());
93:         }
94:         else
95:         {
96:             int32_t slen = strlen(&quot;xml/dungeon/&quot;);
97:             if (spos + slen &lt; one.size())
98:             {
99:                 std::string file_name = one.substr(spos + slen);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/modules/logic/logic_base.cpp" line="1790" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [pOp] to null at line 1768 implies that [pOp ] might be null.Dereferencing null pointer [pOp]." web_identify="{&quot;identify&quot;:&quot;pOp&quot;}" func_info="void LogicBase::_onMessageFromServer ( SMessage * smsg , CNetPeer * netPeer , int server_type )" content="1780:         {
1781:             if (!smsg-&gt;SuitForReq())
1782:             {
1783:                 LERROR(&quot;msg(&quot; &lt;&lt; msgid &lt;&lt; &quot;) is not suit for req&quot;);
1784:                 return;
1785:             }
1786:         }
1787: 
1788:         try
1789:         {            
1790:             result = pOp-&gt;show(smsg, netPeer);
1791:         }
1792:         catch (const std::runtime_error&amp; e)
1793:         {
1794:             LERROR(&quot;Runtime_error while pOp show. what(): &quot; &lt;&lt; e.what() &lt;&lt; &quot; msgid &quot; &lt;&lt; msgid);
1795:             check_launch_mode_and_abort();
1796:         }
1797:         catch (const std::exception&amp; e)
1798:         {
1799:             LERROR(&quot;Exception while pOp show. what(): &quot; &lt;&lt; e.what() &lt;&lt; &quot; msgid &quot; &lt;&lt; msgid);
1800:             check_launch_mode_and_abort();
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/modules/rank/SkipList.cpp" line="144" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [new_node.level_] to null at line 118 implies that [new_node.level_ ] might be null.Dereferencing null pointer [new_node.level_]." web_identify="{&quot;identify&quot;:&quot;new_node.level_&quot;}" func_info="void SkipList::Insert ( SkipListNode * new_node )" content="134:                 node = next_node;
135:                 node_num_[i] += node-&gt;level_[i].node_num_;
136:                 next_node = node-&gt;level_[i].next_node_;
137:             } else {
138:                 break;
139:             }
140:         }
141: 
142:         node_num_[i] += node_num_[i + 1];
143:         node-&gt;level_[i].next_node_ = new_node;
144:         new_node-&gt;level_[i].next_node_ = next_node;
145: 
146:         if (i == 0) {
147:             new_node-&gt;pre_node_ = node;
148:             next_node-&gt;pre_node_ = new_node;
149:         }
150:     }
151: 
152:     // 更新高层的结点
153:     if (level &lt; cur_level_) { // 不插在目前最高层，在更新level以上的结点
154:         node = head_;
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_global_server/scene_global_server.cpp" line="96" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [pOp] to null at line 65 implies that [pOp ] might be null.Dereferencing null pointer [pOp]." web_identify="{&quot;identify&quot;:&quot;pOp&quot;}" func_info="void SceneGlobalServer::onMessage ( BMessage * msg , CNetPeer * netPeer )" content="86: 
87:                 if ((CFrameOperate::OPER_RES_ERROR == result) || (CFrameOperate::OPER_RES_DONNOT_RETURN == result))
88:                 {
89:                     break;
90:                 }
91: 
92:                 //回发
93:                 SMessage ssmsg;
94:                 ssmsg.SetHead(smsg-&gt;GetMsgType(), msgtype, g_ServerConfig.cur_servertype, smsg-&gt;GetCsid(),
95:                               smsg-&gt;GetSsid());
96:                 ssmsg.SetContent((uint8_t*)pOp-&gt;content.c_str(), pOp-&gt;content.length());
97: 
98:                 if (netPeer)
99:                 {
100:                     NetPeerApi::sendMsgToXX(netPeer, smsg-&gt;GetServerType(), &amp;ssmsg);
101:                 }
102:                 else if (smsg-&gt;GetConnection() != NULL)
103:                 {
104:                     SessionApi::sendToSession(smsg-&gt;GetConnection(), &amp;ssmsg);
105:                 }
106:             }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/behaviac_gencode/types/internal/BehaviacGlobalData.cpp" line="95" id="nullpointer" subid="funcRetNullStatistic" severity="Serious" msg="return value of function [CastCreature] [creature] isn&apos;t checked-null, however [146] times checked-null elsewhere." web_identify="CastCreature|creature" func_info="Creature* CastCreature(Object*)" content="85: }
86: 
87: int BehaviacGlobalData::getBuffPlies(int obj_sid, int buffId)
88: {
89: ///&lt;&lt;&lt; BEGIN WRITING YOUR CODE getBuffPlies
90: 	int count = 0;
91: 	auto obj = g_ScGlobalData.get_obj(obj_sid);
92: 	if (obj)
93: 	{
94: 		auto creature = ObjCaster::CastCreature(obj);
95: 		auto m_buffs = creature-&gt;GetBuffs();
96: 		creature-&gt;LoopAllBuff([buffId, &amp;count](buff_info&amp; bi) -&gt;bool
97: 			{
98: 				if (bi.buff_id == buffId)
99: 				{
100: 					count += bi.buff_time.size();
101: 				}
102: 
103: 				return true;
104: 			});
105: 	}
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/Ai.cpp" line="3383" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [m_owner] to null at line 3366 implies that [m_owner ] might be null.Dereferencing null pointer [m_owner]." web_identify="{&quot;identify&quot;:&quot;m_owner&quot;}" func_info="void AiMonster_Assist::ChooseEnemy ( )" content="3373:                 if (geometry::inCircleRange(m_owner-&gt;getCurPos().p2d, 0, it-&gt;second-&gt;getCurPos().p2d, 7000))
3374:                 {
3375:                     m_closest_enemy = it-&gt;second-&gt;m_sid;
3376:                     break;
3377:                 }
3378:             }
3379:         }
3380:     }
3381:     if (m_closest_enemy &gt; 0 &amp;&amp; m_in_battle != EIB_2_IN_BATTLE)
3382:     {
3383:         m_owner-&gt;bt_intoWarnState();
3384:         m_in_battle = EIB_2_IN_BATTLE;
3385:     }
3386:     else if (m_closest_enemy &gt; 0)
3387:         m_in_battle = EIB_2_IN_BATTLE;
3388:     else if (m_closest_enemy == 0)
3389:         m_in_battle = EIB_0;
3390: 
3391:     // 判断与主人的距离
3392:     if (m_owner-&gt;m_scene &amp;&amp; m_in_battle == EIB_2_IN_BATTLE)
3393:     {
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/ArenaRoom.cpp" line="494" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [m_scene] to null at line 435 implies that [m_scene ] might be null.Dereferencing null pointer [m_scene]." web_identify="{&quot;identify&quot;:&quot;m_scene&quot;}" func_info="void ArenaRoom::start ( )" content="484:             //     SPlayer::push_change_skill_cd(player, v, v1);
485:             // }
486:             ChangeTriggerSkillCD(player);
487:         }
488:         else
489:         {
490:             LERROR(&quot;not found splayer in arena, roleid:&quot; &lt;&lt; it-&gt;second.roleid);
491:         }
492:     }
493:     //移除空气墙
494:     for (auto&amp; pair : m_scene-&gt;m_air_wall)
495:     {
496:         pair.second-&gt;set_to_be_removed();
497:         LDEBUG(&quot;remove air wall,sid(&quot; &lt;&lt; pair.first &lt;&lt; &quot;)&quot;);
498:     }
499:     if (m_mode_logic)
500:     {
501:         m_mode_logic-&gt;Start();
502:     }
503: 
504:     if (m_scene)
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/ArenaSkyHigh/ArenaSkyHighRoom.cpp" line="595" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [m_scene] to null at line 423 implies that [m_scene ] might be null.Dereferencing null pointer [m_scene]." web_identify="{&quot;identify&quot;:&quot;m_scene&quot;}" func_info="void ArenaSkyHighRoom::end ( )" content="585:             m_funcCallBackOnAllPlayerHasTransformCards = [this, bAtkWin]() {
586: 
587:                 // 延后到这里推送 一局结束，以便客户端在这之后发送confirm
588:                 if(m_roundGroupNum &gt; 1) {           // 只有一场，不需要推这个
589:                     RESPOND(E_S2C_PUSH_ARENA_SKY_HIGH_3V3_ROUND_END) push2;
590:                     push2.set_round(m_round);
591:                     push2.set_is_win(bAtkWin);
592:                     for(auto &amp;subResult:m_vecSubResult) {
593:                         push2.add_round_result(0 == subResult?E_ASYNC_RESULT_FAILED:subResult);
594:                     }
595:                     m_scene-&gt;push_scene_faction_msg(E_S2C_PUSH_ARENA_SKY_HIGH_3V3_ROUND_END, push2, E_FACTION_ATTACK);
596:                 }
597: 
598:                 // 继续下一局
599:                 m_status = E_ASYNC_ROOM_READY;
600:                 m_start_time = 0;
601:                 auto cp= GetCPlayer();
602:                 if(cp) {
603:                     // cp-&gt;add_battle_state(E_B_STATE_HIDE);  //倒计时结束前不能移动
604:                     // cp-&gt;add_battle_state(E_B_STATE_STONE); 
605:                     InitPos(cp, true);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/ArenaSkyHigh/sc_arena_sky_high_module.cpp" line="47" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_ARENA_SKY_HIGH_3V3_READY_CONFIRM::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_ARENA_SKY_HIGH_3V3_READY_CONFIRM::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_ARENA_SKY_HIGH_3V3_READY_CONFIRM" content="37: //SCENE_MSG_HANDLE_HOOK(E_C2S_ARENA_SKY_READY_CONFIRM, SCArenaSkyHighModule::OnMsgArenaSkyReady)
38: 
39: 
40: void SCArenaSkyHighModule::Init()
41: {
42:     // REGISTER_HOOK(creature_enter_weak_status, OnEnterWeakStatus, 0);
43:     // REGISTER_HOOK(creature_out_weak_status, OnOutWeakStatus, 0);
44: }
45: 
46: // E_C2S_ARENA_SKY_HIGH_3V3_READY_CONFIRM      = 4117,     // 客户端场景加载完后战斗确认
47: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_ARENA_SKY_HIGH_3V3_READY_CONFIRM)
48: {
49:     if (p-&gt;m_scene &amp;&amp; p-&gt;m_scene-&gt;m_async_room)
50:     {
51:         p-&gt;m_scene-&gt;m_async_room-&gt;Confirm(p);
52:         return SetIsokAndReturn(E_CORRECT);
53:     }
54:     LINFO(&quot;p:&quot; &lt;&lt; p-&gt;m_roleid &lt;&lt; &quot; not in m_async_room&quot;);
55:     return SetIsokAndReturn(E_CORRECT);
56: }
57: 
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/Barrel.cpp" line="78" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [cfg_ptr] suggests that it may be null, but it has already been dereferenced at line 77." web_identify="{&quot;identify&quot;:&quot;cfg_ptr&quot;}" func_info="void Barrel::GenMonster ( )" content="68: void Barrel::DeadHandle()
69: {
70: 
71: }
72: 
73: // 刷怪
74: void Barrel::GenMonster()
75: {
76:     Location bPos = getCurPos();
77:     auto&amp;&amp; param = cfg_ptr-&gt;getBaseMonsterDropParam();
78:     if (cfg_ptr &amp;&amp; param.size() &gt; 0 &amp;&amp; m_scene)
79:     {
80:         for (int32_t i = 0; i &lt; param.size(); ++i)
81:         {
82:             int32_t monster_id = param.at(i);
83:             g_ScGlobalData.genMonster(m_scene, monster_id, E_FACTION_MONSTER, bPos);
84:             LDEBUG(&quot;Barrel::GenMonster(), monster_id:&quot; &lt;&lt; monster_id);
85:         }
86:     }
87: }
88: 
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/BaseDataModule.cpp" line="27" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_S2S_MODIFY_PLAYER_DATA_TOSCENE::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_S2S_MODIFY_PLAYER_DATA_TOSCENE::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_S2S_MODIFY_PLAYER_DATA_TOSCENE" content="17: #include &quot;modules/CoreData/CoreUpdateModule.h&quot;                  // for Updat...
18: #include &quot;modules/common/CallbackFrame.h&quot;                       // for REGIS...
19: #include &quot;proto_macro.h&quot;                                        // for REQUEST
20: #include &quot;protocol_define.h&quot;                                    // for E_PRO...
21: #include &quot;s2s_mmo3d.pb.h&quot;                                       // for req_E...
22: 
23: class IVarList;
24: 
25: // 注册消息协议
26: //SCENE_MSG_HANDLE_HOOK(E_S2S_PUSH_PLAYER_DATA_TOSCENE, BaseDataModule::OnMsgSyncData);
27: SCENE_MSG_HANDLE_HOOK(E_S2S_MODIFY_PLAYER_DATA_TOSCENE, BaseDataModule::OnMsgModifyCMD);
28: SCENE_MSG_HANDLE_HOOK(E_GS2SC_MSG_, BaseDataModule::OnMsgFromGS);
29: 
30: BaseDataModule::BaseDataModule():IBaseModule()
31: {
32: 
33: }
34: 
35: BaseDataModule::~BaseDataModule()
36: {
37: 
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/BaseDataModule.cpp" line="28" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_GS2SC_MSG_::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_GS2SC_MSG_::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_GS2SC_MSG_" content="18: #include &quot;modules/common/CallbackFrame.h&quot;                       // for REGIS...
19: #include &quot;proto_macro.h&quot;                                        // for REQUEST
20: #include &quot;protocol_define.h&quot;                                    // for E_PRO...
21: #include &quot;s2s_mmo3d.pb.h&quot;                                       // for req_E...
22: 
23: class IVarList;
24: 
25: // 注册消息协议
26: //SCENE_MSG_HANDLE_HOOK(E_S2S_PUSH_PLAYER_DATA_TOSCENE, BaseDataModule::OnMsgSyncData);
27: SCENE_MSG_HANDLE_HOOK(E_S2S_MODIFY_PLAYER_DATA_TOSCENE, BaseDataModule::OnMsgModifyCMD);
28: SCENE_MSG_HANDLE_HOOK(E_GS2SC_MSG_, BaseDataModule::OnMsgFromGS);
29: 
30: BaseDataModule::BaseDataModule():IBaseModule()
31: {
32: 
33: }
34: 
35: BaseDataModule::~BaseDataModule()
36: {
37: 
38: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/BaseMonster.cpp" line="1033" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [m_scene] to null at line 980 implies that [m_scene ] might be null.Dereferencing null pointer [m_scene]." web_identify="{&quot;identify&quot;:&quot;m_scene&quot;}" func_info="void BaseMonster::bt_randMove ( )" content="1023:         // int r = Tools::getRandomNum(8);
1024:         // pendPos.p2d.x = curPos.p2d.x + dic[r][0] * step;
1025:         // pendPos.p2d.y = curPos.p2d.y + dic[r][1] * step;
1026:         MathUtility::muVec2 posVec(curPos.p2d);
1027:         MathUtility::muVec2 dirVec(Tools::getRandomNum(1000) - 500, Tools::getRandomNum(1000) - 500);
1028:         dirVec.normalize();
1029:         posVec = posVec + dirVec * step;
1030:         pendPos.layer = m_pos.layer;
1031:         pendPos.p2d = geometry::convertMUVec2toPOS2D(posVec);
1032:     }
1033:     if (m_scene-&gt;movable(pendPos))
1034:     {
1035:         findPathToPos(pendPos);
1036:         // int id = m_sid;
1037:         // LDEBUG( &quot;&quot;  &lt;&lt; id &lt;&lt;&quot; move to (&quot; &lt;&lt; pendPos.p2d.x  &lt;&lt; &quot;,&quot; &lt;&lt;
1038:         // pendPos.p2d.y &lt;&lt; &quot;)&quot;); LDEBUG(&quot;last_pos_time3&quot; &lt;&lt; m_last_pos_time);
1039:     }
1040: }
1041: 
1042: void BaseMonster::bt_stopMove() 
1043: {
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/BaseMonster.cpp" line="2929" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [m_scene.m_dungeon] to null at line 2913 implies that [m_scene.m_dungeon ] might be null.Dereferencing null pointer [m_scene.m_dungeon]." web_identify="{&quot;identify&quot;:&quot;m_scene.m_dungeon&quot;}" func_info="void BaseMonster::KillTaskCount ( )" content="2919:             SPlayer* p = it-&gt;second;
2920:             p-&gt;AddTaskSchedule(E_TASK_TARGET_KILL_MONSTER, m_excel_group_id, 1);
2921:             p-&gt;AddTaskSchedule(E_TASK_TARGET_KILL_MONSTER_2, 0, 1);
2922:             p-&gt;AddTaskSchedule(E_TASK_TARGET_KING, m_monster_id, 1);
2923:             p-&gt;HandleKillMonsterCollect(this, E_KILL_COLLECT_FIRST_KILL);
2924:         }
2925:         return;
2926:     }
2927:     else if (/*m_private_obj_info &amp;&amp; */ m_task_owner_info.role_id &gt; 0)
2928:     {
2929:         LDEBUG(&quot;KillTaskCount 3 &quot; &lt;&lt; m_scene-&gt;m_dungeon-&gt;GetDungeonId() &lt;&lt; &quot; &quot; &lt;&lt; m_task_owner_info.role_id);
2930:         // 不知道为啥m_private_obj_info为空，创建的时候是不为空的,有空的时候要跟一下，用m_task_owner_info针对任务也是一样的效果
2931:         SPlayer* p = g_ScGlobalData.get_player_byid(m_task_owner_info.role_id);
2932:         if (p) {
2933:             p-&gt;AddTaskSchedule(E_TASK_TARGET_KILL_MONSTER, m_excel_group_id, 1);
2934:             p-&gt;AddTaskSchedule(E_TASK_TARGET_KILL_MONSTER_2, 0, 1);
2935:             p-&gt;AddTaskSchedule(E_TASK_TARGET_KING, m_monster_id, 1);
2936:             p-&gt;HandleKillMonsterCollect(this, E_KILL_COLLECT_FIRST_KILL);
2937:             return;  // 个人怪计数任务特殊处理
2938: 		} else {
2939: 			LDEBUG(&quot;not find splayer, &quot; &lt;&lt; m_task_owner_info.role_id);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/BaseMonster.cpp" line="3999" id="logic" subid="assignIf" severity="Warning" msg="Expression is always false because &apos;else if&apos; condition matches previous condition at line 3997." web_identify="{&quot;identify&quot;:&quot;(&quot;}" func_info="int BaseMonster::bt_getTalkState ( )" content="3989:     //    }
3990:     //}
3991:     return sum;
3992: }
3993: 
3994: int32_t BaseMonster::bt_getTalkState()
3995: {
3996:     auto&amp;&amp; state = m_act_data.act_state;
3997:     if (state == E_OBJ_ACT_NONE)
3998:         return 0;
3999:     else if (state == E_OBJ_ACT_NONE)
4000:         return 1;
4001:     return 0;
4002: }
4003: 
4004: int32_t BaseMonster::bt_DoAction(int32_t action_no) { return DoAction(action_no); }
4005: 
4006: void BaseMonster::bt_closeTalkUI() { EndTalk(); }
4007: 
4008: int32_t BaseMonster::bt_DoTimeLine(int32_t timeLineId) {
4009:     // 广播给附近玩家
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/BuffEffect.cpp" line="10308" id="logic" subid="selfAssignment" severity="Warning" msg="Redundant assignment of &apos;raceType1&apos; to itself." web_identify="{&quot;identify&quot;:&quot;raceType1&quot;}" func_info="void BuffEffectModule::OnAfterTransform ( const IVarList &amp; input_var , void * object )" content="10298: 				参数7：额外队友加成，百分比；生效时，计组队队伍总玩家数为N
10299: 
10300: 				参数8：参数7生效的副本类型（Dungeon表关卡类型，type字段）
10301: 
10302: 				计算规则修正为：
10303: 
10304: 				修正后属性 = 携带该buff角色的参数0属性数值 × （1 + 参数1 × Min(参数6, 参数3数量 * (1 + (N - 1) * 参数7 / 100)) ) + 参数2 × Min(参数6, 参数3数量 * (1 + (N - 1) * 参数7 / 100))*/
10305: 
10306: 			int raceCount = 0;
10307: 			int raceType = effect.params[3];
10308: 			int raceType1 = raceType1 = effect.params[4];
10309: 			int raceType2 = effect.params[5];
10310: 			int cardCount = self-&gt;m_scene-&gt;m_players.size();
10311: 
10312: 			/*if (attacker-&gt;m_scene &amp;&amp; attacker-&gt;m_scene-&gt;m_scInfo.copy_type == E_COPY_TYPE_TMP_TEAM_DUNGEON)
10313: 			{
10314: 				for (auto iter = pAttacker-&gt;m_scene-&gt;m_players.begin(); iter != pAttacker-&gt;m_scene-&gt;m_players.end(); ++iter)
10315: 				{
10316: 					if (!iter-&gt;second || iter-&gt;second-&gt;IsDelete())
10317: 					{
10318: 						continue;
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/BuffEffect.cpp" line="10826" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [obj_] suggests that it may be null, but it has already been dereferenced at line 10752." web_identify="{&quot;identify&quot;:&quot;obj_&quot;}" func_info="bool BuffEffectModule::check_condition_ok ( const act_effect_data &amp; _eff_data , Creature * obj , Creature * p_attacker_creature_or_null , bool isCB )" content="10816:                 (int64_t)obj_-&gt;m_hp * 10000 / obj_-&gt;m_maxhp &gt;= _eff_data.cond_param[1])  //万分比
10817:                 return true;
10818:         }
10819:         else
10820:             LERROR(&quot;excel error, param size error(&quot; &lt;&lt; _eff_data.cond_param.size() &lt;&lt; &quot;)&quot;);
10821:         return false;
10822:     };
10823: 
10824:     // buff 类型
10825:     auto exist_buff_class = [&amp;_eff_data](Creature* obj_) -&gt; bool {
10826:         if (!obj_)
10827:             return false;
10828: 
10829:         if (_eff_data.cond_param.empty())
10830:         {
10831:             return false;
10832:         }
10833:         bool has_buff_class = false;
10834:         for (auto&amp;&amp; buff_type : _eff_data.cond_param)
10835:         {
10836:             if (obj_-&gt;check_has_buff_class(buff_type))
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/BuffEffect.cpp" line="1552" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [attacker] suggests that it may be null, but it has already been dereferenced at line 1550." web_identify="{&quot;identify&quot;:&quot;attacker&quot;}" func_info="void Gelie::OnAdd ( Creature * self , Creature * attacker , Creature * buffCast , buff_info &amp; bi , buff_effect &amp; effect )" content="1542:     }
1543: 
1544: 	// 产生伤害
1545: 	double coeff = (double)effect.params[2] * ((10000 + ((double)effect.params[4]) * layerNum) / 10000);
1546: 
1547: 	LDEBUG(&quot;gelie shanghai: coeff: &quot; &lt;&lt; coeff &lt;&lt; &quot; , base_coeff : &quot; &lt;&lt; effect.params[2] &lt;&lt; &quot; , add_coeff : &quot; &lt;&lt; effect.params[4]);
1548: 
1549: 	int dmg = attacker-&gt;ComputeAddDmg(effect.params[1], coeff);
1550: 	dmg = CloneSpellModule::CorrectionDamage(attacker, bi.skill_param.src_skill_id, dmg);
1551: 
1552: 	if (attacker)
1553: 	{
1554: 		// PVP 战力压制系数修正
1555: 		dmg = attacker-&gt;PvpDamageModify(dmg, self);
1556: 	}
1557: 	LDEBUG(&quot;gelie shanghai: dmg: &quot; &lt;&lt; dmg);
1558: 
1559: 	if (!self-&gt;LockHp())
1560: 	{
1561: 		ChangeHpParam param(bi.skill_param.src_skill_id);
1562: 		ChangeHpGet get_param;
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/BuffEffect.cpp" line="1652" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [attacker] suggests that it may be null, but it has already been dereferenced at line 1650." web_identify="{&quot;identify&quot;:&quot;attacker&quot;}" func_info="void Fangdian::OnAdd ( Creature * self , Creature * attacker , Creature * buffCast , buff_info &amp; bi , buff_effect &amp; effect )" content="1642: 	if (layerNum &gt; effect.params[0])
1643: 	{
1644: 		layerNum = effect.params[0];
1645: 	}
1646: 
1647: 	// 产生伤害
1648: 	double coeff = (int64_t)effect.params[2] * ((10000 + effect.params[4] * layerNum) / 10000);
1649: 	int dmg = self-&gt;ComputeAddDmg(effect.params[1], coeff);
1650: 	dmg = CloneSpellModule::CorrectionDamage(attacker, bi.skill_param.src_skill_id, dmg);
1651: 
1652: 	if (attacker)
1653: 	{
1654: 		// PVP 战力压制系数修正
1655: 		dmg = attacker-&gt;PvpDamageModify(dmg, self);
1656: 	}
1657: 
1658: 	LDEBUG(&quot;fangdian shanghai: coeff: &quot; &lt;&lt; coeff &lt;&lt; &quot; , base_coeff : &quot; &lt;&lt; effect.params[2] &lt;&lt; &quot; , add_coeff : &quot; &lt;&lt; effect.params[4]
1659: 	&lt;&lt; &quot; ,dmg: &quot; &lt;&lt; dmg);
1660: 
1661: 	// 扣除伤害
1662: 	if (!self-&gt;LockHp())
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/BuffEffect.cpp" line="391" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [attacker] to null at line 364 implies that [attacker ] might be null.Dereferencing null pointer [attacker]." web_identify="{&quot;identify&quot;:&quot;attacker&quot;}" func_info="void DamageSpecBuff::Run ( Creature * self , Creature * attacker , Creature * buffCast , long &amp; dmg , buff_info &amp; bi , buff_effect &amp; effect )" content="381: 	// 护盾修正
382: 	self-&gt;get_shield_manager().calc_shield_damage(tmp_dmg);
383: 
384: 	// 元素盾吸收
385: 	StampModule::CostElementShieldValue(self, tmp_dmg, bi.dmgType);
386: 
387: 	// 扣除伤害
388: 	if (!self-&gt;LockHp())
389: 	{
390: 		// 反伤
391: 		self-&gt;ReboundDamage(tmp_dmg, bi.dmgType, attacker, bi.attack_card_id);
392: 
393: 		// PVP buff 伤害平均分担
394: 		tmp_dmg = self-&gt;PvpBuffDamageShare(attacker, tmp_dmg, self-&gt;m_cur_card_sid, bi.buff_id, bi.attack_card_id, effect);
395: 
396: 		// 护盾吸收伤害
397: 		int64_t absorb = 0;
398: 		int64_t tmp_dmg11 = tmp_dmg;
399: 		tmp_dmg = self-&gt;Shield.OnDamage(tmp_dmg, enChangeHpType_Buff, bi.buff_id, self-&gt;m_cur_card_sid);
400: 		absorb = tmp_dmg11 - tmp_dmg;
401: 
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/BuffEffect.cpp" line="4264" id="logic" subid="selfAssignment" severity="Warning" msg="Redundant assignment of &apos;raceType1&apos; to itself." web_identify="{&quot;identify&quot;:&quot;raceType1&quot;}" func_info="void AddFactionPropBuff::OnAdd ( Creature * self , Creature * attacker , Creature * buffCast , buff_info &amp; bi , buff_effect &amp; effect )" content="4254: 		参数7：额外队友加成，百分比；生效时，计组队队伍总玩家数为N
4255: 
4256: 		参数8：参数7生效的副本类型（Dungeon表关卡类型，type字段）
4257: 
4258: 		计算规则修正为：
4259: 
4260: 		修正后属性 = 携带该buff角色的参数0属性数值 × （1 + 参数1 × Min(参数6, 参数3数量 * (1 + (N - 1) * 参数7 / 100)) ) + 参数2 × Min(参数6, 参数3数量 * (1 + (N - 1) * 参数7 / 100))*/
4261: 
4262: 	int raceCount = 0;
4263: 	int raceType = effect.params[3];
4264: 	int raceType1 = raceType1 = effect.params[4];
4265: 	int raceType2 = effect.params[5];
4266: 	int cardCount = self-&gt;m_scene-&gt;m_players.size();
4267: 
4268: 	/*if (attacker-&gt;m_scene &amp;&amp; attacker-&gt;m_scene-&gt;m_scInfo.copy_type == E_COPY_TYPE_TMP_TEAM_DUNGEON)
4269: 	{
4270: 		for (auto iter = pAttacker-&gt;m_scene-&gt;m_players.begin(); iter != pAttacker-&gt;m_scene-&gt;m_players.end(); ++iter)
4271: 		{
4272: 			if (!iter-&gt;second || iter-&gt;second-&gt;IsDelete())
4273: 			{
4274: 				continue;
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/CardChainSkill.cpp" line="198" id="nullpointer" subid="funcRetNullStatistic" severity="Serious" msg="return value of function [getConstantCache] [const_cache] isn&apos;t checked-null, however [23] times checked-null elsewhere." web_identify="getConstantCache|const_cache" func_info="constCache* getConstantCache()" content="188: 		{
189: 			continue;
190: 		}
191: 
192: 		skill.dmgType = findCard-&gt;second-&gt;chain_type();
193: 
194: 		g_mapCardUnLockLinkSkill.insert(std::make_pair(iter-&gt;second-&gt;card_id(), skill));
195: 	}
196: 
197: 	const auto const_cache = ConstDataHelper::Constant::getConstantCache();
198: 	g_progress_ratio = const_cache-&gt;constant_setting-&gt;chainskill_progress_add_param();
199: 
200: 	g_dmg_ratio.resize(3, 10000);
201: 	for (int i = 0; i &lt; const_cache-&gt;constant_setting-&gt;chainskill_damage_param_size() &amp;&amp; i &lt; 3; ++i)
202: 	{
203: 		g_dmg_ratio[i] = const_cache-&gt;constant_setting-&gt;chainskill_damage_param(i);
204: 	}
205: 
206: 	g_buff.resize(3);
207: 	for (int i = 0; i &lt; const_cache-&gt;constant_setting-&gt;chainskill_buff_size() &amp;&amp; i &lt; 3; ++i)
208: 	{
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/CardHelpSkillConfig.h" line="10" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CardHelpSkillData::triggerType,cd,OverCondition,&apos; is not initialized in the constructor." web_identify="{&quot;identify&quot;:&quot;CardHelpSkillData::triggerType,cd,OverCondition,&quot;}" func_info="CardHelpSkillData" content="1: #ifndef CardHelpSkillConfig_h__
2: #define CardHelpSkillConfig_h__
3: 
4: #include&lt;map&gt;
5: #include &lt;vector&gt;
6: 
7: // 协力技能数据
8: struct CardHelpSkillData
9: {
10: 	CardHelpSkillData():skillID(0), cardID(0){}
11: 	CardHelpSkillData(const CardHelpSkillData&amp; cpy) :skillID(cpy.skillID), 
12: 		triggerType(cpy.triggerType), cd(cpy.cd), cardID(cpy.cardID),
13: 		triggerCondition(cpy.triggerCondition), OverCondition(cpy.OverCondition) {}
14: 
15: 	int skillID;			// 技能ID
16: 	int triggerType;		// 触发类型
17: 	int cd;					// CD
18: 	int cardID;				// 卡牌ID
19: 
20: 	std::vector&lt;int&gt; triggerCondition; // 触发条件
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/CardHelpSkillConfig.h" line="43" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;LinkSkillConfig::NextDelayMs,&apos; is not initialized in the constructor." web_identify="{&quot;identify&quot;:&quot;LinkSkillConfig::NextDelayMs,&quot;}" func_info="LinkSkillConfig" content="33: 
34: // 触发条件
35: enum enCardHelpSkillType
36: {
37: 	QiWeak = 1,		// 攻击目标进入气竭状态
38: };
39: 
40: // 连锁技能配置
41: struct LinkSkillConfig
42: {
43: 	LinkSkillConfig():skillId(0), dmgType(0), nextType(0), triggerType(0), addType(0){}
44: 	LinkSkillConfig(const LinkSkillConfig&amp; cpy):skillId(cpy.skillId), dmgType(cpy.dmgType),
45: 		nextType(cpy.nextType), triggerType(cpy.triggerType), addType(cpy.addType),
46: 		 NextDelayMs(cpy.NextDelayMs),fullLinkEffect(cpy.fullLinkEffect)
47: 	{
48: 	}
49: 
50: 	int skillId;
51: 	int dmgType;	// 添加进度类型
52: 	int nextType;	// 下一个状态 
53: 	int triggerType;
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/Carrier.cpp" line="45" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;Carrier::m_build_info,m_assist_time,&apos; is not initialized in the constructor." web_identify="{&quot;identify&quot;:&quot;Carrier::m_build_info,m_assist_time,&quot;}" func_info="global" content="35: // #include &quot;mmo3d.pb.h&quot;
36: #include &quot;protocol_define.h&quot;                            // for E_ERROR_TYPE:...
37: #include &quot;sc_global_data.h&quot;                             // for ScGlobalData
38: 
39: struct HpChangeParam;
40: 
41: //需要判断重伤模式的几个巨魔id
42: #define FIGHT_OGRE 10005  //战斗巨魔
43: #define SIEGE_OGRE 10009  //攻城巨魔
44: 
45: Carrier::Carrier() :Creature(carrier_),
46:     m_carrier_id(0), m_been_op(false), m_need_rotate(false), m_build_id(0), m_rotation_x(0), m_rotation_y(0),
47:     m_rotation_z(0), m_been_pre_op(0), m_geton_time(0), m_mode(0), m_injured(false)
48: {
49:     m_type = E_OBJ_TYPE_CARRIER;
50:     add_inherit_type(m_type);
51:     m_can_hit_mov = false;
52:     m_property.resize(3);
53: 
54:     set_is_global_viewed(true);
55: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/CheckCondition.cpp" line="523" id="logic" subid="STLFindError" severity="Warning" msg="Using int as return type of string::find is dangerous, it should use size_t instead." web_identify="{&quot;identify&quot;:&quot;.&quot;}" func_info="bool GeneralCond::ParseField ( const std::string &amp; s , CondNode * root )" content="513: // 解析原始字段
514: bool GeneralCond::ParseField(const std::string&amp; s, CondNode* root)
515: {
516: 	if (!root || s.length() == 0)
517: 	{
518: 		return false;
519: 	}
520: 
521: 	std::string firString;
522: 
523: 	int findOffset = s.find(&quot;:&quot;);
524: 	if (findOffset != std::string::npos)
525: 	{
526: 		firString = s.substr(0, findOffset);
527: 		root-&gt;value = atoi(s.substr(findOffset + 1).c_str());
528: 	}
529: 	else
530: 	{
531: 		firString = s;
532: 	}
533: 
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/Creature.cpp" line="159" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;buff_effect::index,&apos; is not initialized in the constructor." web_identify="{&quot;identify&quot;:&quot;buff_effect::index,&quot;}" func_info="global" content="149: //     {
150: //         return Creature::BuffDelayBusiness::DEL_DISPEL;
151: //     }
152: //     else if (type == Creature::E_DEL_TIME_OUT)
153: //     {
154: //         return Creature::BuffDelayBusiness::DEL_TIMEOUT;
155: //     }
156: //     return Creature::BuffDelayBusiness::DEL;
157: // }
158: 
159: buff_effect::buff_effect()
160: {
161:     b_class = attr_type = object_type = attr_trigger = trigger_param = base_value = 0;
162:     attr_value_type = BUF_ATTR_CHANGE_TYPE_NUMBER;
163: }
164: 
165: std::set&lt;int&gt; Creature::passiveBuffList;
166: 
167: void Creature::push_halo_skill_msg(int32_t skillid, int32_t sid)
168: {
169:     auto it_scene = m_scene-&gt;m_objs.find(sid);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/Creature.cpp" line="5296" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;buff_info::EffectEx,&apos; is not initialized in the constructor." web_identify="{&quot;identify&quot;:&quot;buff_info::EffectEx,&quot;}" func_info="global" content="5286:             auto obj = m_owner-&gt;m_scene-&gt;find_obj(sid);
5287:             auto host = ObjCaster::CastCreature(obj);
5288:             if (host)
5289:             {
5290:                 host-&gt;check_buff_take_effect_interface_trigger(trigger_type);
5291:             }
5292:         }
5293:     }
5294: }
5295: 
5296: buff_info::buff_info(const buff_info&amp; cpy) :
5297:     idx(cpy.idx),
5298:     buff_id(cpy.buff_id),
5299:     count(cpy.count),
5300:     attacker_sid(cpy.attacker_sid),
5301:     carrier_oper_sid(cpy.carrier_oper_sid),
5302:     special_value(cpy.special_value),
5303:     atk(cpy.atk),
5304:     staus(cpy.staus),
5305:     max_num(cpy.max_num),
5306:     effect(cpy.effect),
" inconclusive="true"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/Creature.cpp" line="585" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [m_scene] suggests that it may be null, but it has already been dereferenced at line 582." web_identify="{&quot;identify&quot;:&quot;m_scene&quot;}" func_info="void Creature::on_set_remove ( )" content="575:     }
576: 
577:     m_hate_list-&gt;reset_hated_players_list();
578: 
579:     if (this-&gt;m_is_in_cell)
580:     {
581:         this-&gt;m_is_in_cell = false;
582:         m_scene-&gt;m_ai_cell_pos.DelAiCell(m_ai_cell_layer, m_ai_cell_w, m_ai_cell_l);
583:     }
584: 
585:     if (m_scene)
586:     {
587:         for (auto&amp;&amp; sid : m_trap_sid)
588:         {
589:             auto obj = m_scene-&gt;find_obj(sid);
590:             if (obj)
591:             {
592:                 obj-&gt;set_to_be_removed();
593:             }
594:         }
595:     }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/Creature.h" line="354" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;buff_effect::typeNode,&apos; is not initialized in the constructor." web_identify="{&quot;identify&quot;:&quot;buff_effect::typeNode,&quot;}" func_info="global" content="344: 
345:     // 移除生效标记
346:     void RemoveValidCard(int cardID);
347: };
348: 
349: class buff_info;
350: 
351: struct buff_effect
352: {
353:     buff_effect();
354:     buff_effect(const buff_effect&amp; cpy):b_class(cpy.b_class), attr_type(cpy.attr_type),
355:         attr_value_type(cpy.attr_value_type), params(cpy.params),
356:         object_type(cpy.object_type), attr_trigger(cpy.attr_trigger), trigger_param(cpy.trigger_param),
357:         base_value(cpy.base_value), is_buff_effecive(cpy.is_buff_effecive), cycle_next_time(cpy.cycle_next_time),
358:         dmg_type (cpy.dmg_type), index(cpy.index),triggerDelay(cpy.triggerDelay),prop(cpy.prop),father(cpy.father)
359:     {
360:     }
361:     buff_effect&amp; operator=(const buff_effect&amp; cpy)
362:     {
363: 		b_class = cpy.b_class;
364:         attr_type = cpy.attr_type;
" inconclusive="true"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/Creature.h" line="511" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;buff_info::param_effect,hate_param,control_lv,&apos; is not initialized in the constructor." web_identify="{&quot;identify&quot;:&quot;buff_info::param_effect,hate_param,control_lv,&quot;}" func_info="global" content="501:     BuffMarkShield                  = 0x10000000,		    // 是否有护盾
502:     BuffRemoveFightOut              = 0x20000000,		 // 战斗结束后移除
503:     BuffRemoveDead                  = 0x40000000,		 // buff添加者死亡后移除
504:     BuffRemoveDead1                  = 0x80000000,		 // buff添加者死亡后一帧后移除
505: };
506: 
507: 
508: class buff_info
509: {
510: public:
511:     buff_info()
512:     {
513:         idx = buff_id = 0;
514:         count = attacker_sid = atk = staus = 0;
515:         // dead_clear = true;
516:         max_num = 0;
517:     }
518: 
519:     ~buff_info();
520: 
521:     buff_info(const buff_info&amp; cpy);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/Creature.h" line="670" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;passive_effect::effect_target,passive_id,&apos; is not initialized in the constructor." web_identify="{&quot;identify&quot;:&quot;passive_effect::effect_target,passive_id,&quot;}" func_info="passive_effect" content="660:     int control_lv;					    // 控制与霸体类型等级
661:     int64_t buffMark = 0;               // buff 标记
662:     int targer = -1;                    // 生效对象标记 -- 被动技能添加的buff
663:     Creature* self = NULL;
664:     E_FACTION_GROUP faction_group = 0;
665:     int m_nParamEx = 0;                     // 扩展参数
666: };
667: 
668: struct passive_effect
669: {
670:     passive_effect()
671:     {
672:         effect_type = effect_param = effect_num = effect_cond =
673:             effect_time  = 0; 
674: 	}
675: 
676: 	passive_effect(const passive_effect&amp; cpy) : effect_index(cpy.effect_index), effect_type(cpy.effect_type), effect_param(cpy.effect_param) ,
677:         effect_paramEx(cpy.effect_paramEx),
678:         effect_num(cpy.effect_num) , effect_target(cpy.effect_target) , effect_cond(cpy.effect_cond) , 
679:         effect_cond_excel(cpy.effect_cond_excel), effect_cond_param(cpy.effect_cond_param) ,
680:         effect_cond_num(cpy.effect_cond_num) , effect_time(cpy.effect_time), effect_chance(cpy.effect_chance),
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/Creature.h" line="930" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;affixSkill::trigger_cond,&apos; is not initialized in the constructor." web_identify="{&quot;identify&quot;:&quot;affixSkill::trigger_cond,&quot;}" func_info="global" content="920:     int32_t m_taunt_sid = 0;                  //使用嘲讽技能的  sid  保存最后使用嘲讽技能的 sid
921:     // int32_t m_next_att_sid = 0;	//下一次需要攻击的 sid (策划自己处理)
922:     time_t m_hatred_fresh_time = 0;  //仇恨值刷新时间  有攻击或者治疗才刷新
923:                                      //仇恨相关 data end
924: 
925:     int32_t m_temp_hate_distance = 0;
926: };
927: 
928: struct affixSkill
929: {  //词缀技能信息
930:     affixSkill()
931:     {
932:         type = id = chance = lv = buff_time = 0;
933:         cond = target = affix_id = -1;
934:     }
935:     int32_t type;          //类型1 概率释放技能  2概率添加BUFF  3等级加成
936:     int32_t id;            //类型对应的ID
937:     int32_t lv;            //技能等级
938:     int32_t cond;          //释放条件
939:     int32_t target;        //目标 [作用对象(0.自己1焦点目标2.伤害来源目标),
940:     int32_t trigger_cond;  //触发类型 (0.普攻时1.受击前2.死亡后)
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/CreatureBuff.cpp" line="1128" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [attacker] to null at line 1120 implies that [attacker ] might be null.Dereferencing null pointer [attacker]." web_identify="{&quot;identify&quot;:&quot;attacker&quot;}" func_info="void Creature::BeDamage ( long value , int sourceType , int sourceValue , int damageType , int cardID , Creature * attacker , int attackerCard , int subEffectType , bool bCrit , HpChangeParam &amp; vars )" content="1118: 	}
1119: 	
1120: 	if (attackerCard == 0 &amp;&amp; attacker)
1121: 	{
1122: 		attackerCard = attacker-&gt;m_cur_card_sid;
1123: 	}
1124: 
1125: 	if (sourceType == enChangeHpType_Skill)
1126: 	{
1127: 		// 镜像技能比例
1128: 		value = CloneSpellModule::CorrectionDamage(attacker, sourceValue, value);
1129: 	}
1130: 
1131: 	// PVP 战力压制系数修正
1132: 	if (attacker)
1133: 	{
1134: 		value = attacker-&gt;PvpDamageModify(value, this);
1135: 	}
1136: 
1137: 	int64_t total_hate = value * 0.1f;  //本次技能的仇恨
1138: 	this-&gt;add_hatred(attacker, 0, total_hate);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/CreatureBuff.cpp" line="5301" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [pdx] suggests that it may be null, but it has already been dereferenced at line 4224." web_identify="{&quot;identify&quot;:&quot;pdx&quot;}" func_info="void Creature::SetBuffValidForCard ( buff_info &amp; bi , int cardID )" content="5291: 				break;
5292: 			}
5293: 		}
5294: 
5295: 		if (!bExistSelf)
5296: 		{
5297: 			bi.validCard.push_back(bi.attack_card_id);
5298: 		}
5299: 	}
5300: 
5301:     if (!pdx || pdx-&gt;add_chance_size() &lt; 3 || pdx-&gt;add_chance(0) != 1)
5302:     {
5303:         return;
5304:     }
5305: 
5306:     // 死亡卡片能否生效规则
5307: 	if (SPlayer* self = ObjCaster::CastSPlayer(this))
5308: 	{
5309: 		if (pdx-&gt;dead_effectuate() == 0)
5310: 		{
5311: 			// 死亡角色不能生效
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/CreatureBuff.cpp" line="828" id="nullpointer" subid="funcRetNullStatistic" severity="Serious" msg="return value of function [getConstantCache] [const_cache] isn&apos;t checked-null, however [23] times checked-null elsewhere." web_identify="getConstantCache|const_cache" func_info="constCache* getConstantCache()" content="818: 				
819: 			default:
820: 				break;
821: 			}
822: 		}
823: 
824: 		g_mapBuffConfig.insert(std::make_pair(buff.buffID, buff));
825: 	}
826: 
827: 	const auto const_cache = ConstDataHelper::Constant::getConstantCache();
828: 	g_buffCorrectionTime = const_cache-&gt;constant_setting-&gt;control_diminishing_time();
829: }
830: 
831: //// buff 归属结构
832: //struct BuffGuishu
833: //{
834: //	int cardID = 0;                         // 卡牌ID
835: //	std::vector&lt;int&gt; buffIndex;         // 生效buff 索引
836: //	std::vector&lt;int&gt; passiveBuffIndex;  // 被动buff 索引
837: //};
838: 
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/CreatureCastPassiveSpell.cpp" line="361" id="nullpointer" subid="dereferenceIfNull" severity="Critical" msg="[pMsg] is null dereferenced here, as codes at line 359 make it a null pointer." web_identify="{&quot;identify&quot;:&quot;pMsg&quot;}" func_info="CFrameOperate::OperRes CastPassiveSpellModule::OnMsgReqCastSkill1 ( SPlayer * pPlayer , CFrameOperate * pMsgInfo )" content="351: 	// 被动卡牌技能 执行
352: 	PassiveCardCastSpellRun(player, spellGroupID, cardInfo, passiveID, 1, targetID);
353: }
354: 
355: // 客户端请求释放大招
356: CFrameOperate::OperRes CastPassiveSpellModule::OnMsgReqCastSkill1(SPlayer* pPlayer, CFrameOperate* pMsgInfo)
357: {
358: 	auto pMsg = GET_MSG_HANDLE_PTR(E_C2S_CAST_SKILL_1, pMsgInfo);
359: 	if (!pMsg)
360: 	{
361: 		pMsg-&gt;SetIsokAndReturn(E_CORRECT);
362: 	}
363: 
364: 	auto&amp; req = pMsg-&gt;GetRequest();
365: 	int card_id = req.card_id();
366: 	int passive_id = req.passive_id();
367: 	int skill_group = req.skill_group();
368: 	int targetid = req.targetid();
369: 	LDEBUG(&quot;passive trigger client cast skill &quot; &lt;&lt; skill_group &lt;&lt; &quot;, passive id &quot;
370: 		&lt;&lt; passive_id &lt;&lt; &quot; target &quot; &lt;&lt; targetid &lt;&lt; &quot;, sid &quot; &lt;&lt; pPlayer-&gt;m_sid);
371: 	if (!pPlayer-&gt;ExistLocalAttr(auto_fightstatus, card_id))
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/CreatureCastPassiveSpell.cpp" line="42" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_PASSIVE_CARD_SKILL_OPT::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_PASSIVE_CARD_SKILL_OPT::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_PASSIVE_CARD_SKILL_OPT" content="32: #include &quot;protocol_define.h&quot;               // for E_PROTOCOL::E_S2C_CAN_CAST...
33: 
34: // 暴击标记位
35: #define CRIT_BEGIG_FLAG 1
36: #define CRIT_MAX_FLAG 10
37: 
38: // 击杀标记位
39: #define KILL_BEGIG_FLAG 11
40: #define KILL_MAX_FLAG 20
41: 
42: SCENE_MSG_HANDLE_HOOK(E_C2S_PASSIVE_CARD_SKILL_OPT, CastPassiveSpellModule::OnMsgCardSkillOpt);
43: SCENE_MSG_HANDLE_HOOK(E_C2S_CAST_SKILL_1, CastPassiveSpellModule::OnMsgReqCastSkill1);
44: SCENE_MSG_HANDLE_HOOK(E_C2S_AUTO_STATUS, CastPassiveSpellModule::OnMsgReqFightStatus);
45: SCENE_MSG_HANDLE_HOOK(E_C2S_AUTO_CAST_SKILL, CastPassiveSpellModule::OnMsgReqAutoCastSkill);
46: SCENE_MSG_HANDLE_HOOK(E_C2S_AUTO_CAST_SKILL_FLAG, CastPassiveSpellModule::OnMsgReqAutoCastSkillFlag);
47: 
48: enum CardPassiveCont
49: {
50: 	CardPassiveContBreak = 0,			// 条件不满足，停止
51: 	CardPassiveContContinue = 1,		// 条件不满足 继续
52: 	CardPassiveContExec = 2,			// 始终运行
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/CreatureCastPassiveSpell.cpp" line="43" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_CAST_SKILL_1::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_CAST_SKILL_1::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_CAST_SKILL_1" content="33: 
34: // 暴击标记位
35: #define CRIT_BEGIG_FLAG 1
36: #define CRIT_MAX_FLAG 10
37: 
38: // 击杀标记位
39: #define KILL_BEGIG_FLAG 11
40: #define KILL_MAX_FLAG 20
41: 
42: SCENE_MSG_HANDLE_HOOK(E_C2S_PASSIVE_CARD_SKILL_OPT, CastPassiveSpellModule::OnMsgCardSkillOpt);
43: SCENE_MSG_HANDLE_HOOK(E_C2S_CAST_SKILL_1, CastPassiveSpellModule::OnMsgReqCastSkill1);
44: SCENE_MSG_HANDLE_HOOK(E_C2S_AUTO_STATUS, CastPassiveSpellModule::OnMsgReqFightStatus);
45: SCENE_MSG_HANDLE_HOOK(E_C2S_AUTO_CAST_SKILL, CastPassiveSpellModule::OnMsgReqAutoCastSkill);
46: SCENE_MSG_HANDLE_HOOK(E_C2S_AUTO_CAST_SKILL_FLAG, CastPassiveSpellModule::OnMsgReqAutoCastSkillFlag);
47: 
48: enum CardPassiveCont
49: {
50: 	CardPassiveContBreak = 0,			// 条件不满足，停止
51: 	CardPassiveContContinue = 1,		// 条件不满足 继续
52: 	CardPassiveContExec = 2,			// 始终运行
53: };
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/CreatureCastPassiveSpell.cpp" line="44" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_AUTO_STATUS::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_AUTO_STATUS::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_AUTO_STATUS" content="34: // 暴击标记位
35: #define CRIT_BEGIG_FLAG 1
36: #define CRIT_MAX_FLAG 10
37: 
38: // 击杀标记位
39: #define KILL_BEGIG_FLAG 11
40: #define KILL_MAX_FLAG 20
41: 
42: SCENE_MSG_HANDLE_HOOK(E_C2S_PASSIVE_CARD_SKILL_OPT, CastPassiveSpellModule::OnMsgCardSkillOpt);
43: SCENE_MSG_HANDLE_HOOK(E_C2S_CAST_SKILL_1, CastPassiveSpellModule::OnMsgReqCastSkill1);
44: SCENE_MSG_HANDLE_HOOK(E_C2S_AUTO_STATUS, CastPassiveSpellModule::OnMsgReqFightStatus);
45: SCENE_MSG_HANDLE_HOOK(E_C2S_AUTO_CAST_SKILL, CastPassiveSpellModule::OnMsgReqAutoCastSkill);
46: SCENE_MSG_HANDLE_HOOK(E_C2S_AUTO_CAST_SKILL_FLAG, CastPassiveSpellModule::OnMsgReqAutoCastSkillFlag);
47: 
48: enum CardPassiveCont
49: {
50: 	CardPassiveContBreak = 0,			// 条件不满足，停止
51: 	CardPassiveContContinue = 1,		// 条件不满足 继续
52: 	CardPassiveContExec = 2,			// 始终运行
53: };
54: 
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/CreatureCastPassiveSpell.cpp" line="45" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_AUTO_CAST_SKILL::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_AUTO_CAST_SKILL::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_AUTO_CAST_SKILL" content="35: #define CRIT_BEGIG_FLAG 1
36: #define CRIT_MAX_FLAG 10
37: 
38: // 击杀标记位
39: #define KILL_BEGIG_FLAG 11
40: #define KILL_MAX_FLAG 20
41: 
42: SCENE_MSG_HANDLE_HOOK(E_C2S_PASSIVE_CARD_SKILL_OPT, CastPassiveSpellModule::OnMsgCardSkillOpt);
43: SCENE_MSG_HANDLE_HOOK(E_C2S_CAST_SKILL_1, CastPassiveSpellModule::OnMsgReqCastSkill1);
44: SCENE_MSG_HANDLE_HOOK(E_C2S_AUTO_STATUS, CastPassiveSpellModule::OnMsgReqFightStatus);
45: SCENE_MSG_HANDLE_HOOK(E_C2S_AUTO_CAST_SKILL, CastPassiveSpellModule::OnMsgReqAutoCastSkill);
46: SCENE_MSG_HANDLE_HOOK(E_C2S_AUTO_CAST_SKILL_FLAG, CastPassiveSpellModule::OnMsgReqAutoCastSkillFlag);
47: 
48: enum CardPassiveCont
49: {
50: 	CardPassiveContBreak = 0,			// 条件不满足，停止
51: 	CardPassiveContContinue = 1,		// 条件不满足 继续
52: 	CardPassiveContExec = 2,			// 始终运行
53: };
54: 
55: PassiveSpellInfo::PassiveSpellInfo()
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/CreatureCastPassiveSpell.cpp" line="46" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_AUTO_CAST_SKILL_FLAG::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_AUTO_CAST_SKILL_FLAG::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_AUTO_CAST_SKILL_FLAG" content="36: #define CRIT_MAX_FLAG 10
37: 
38: // 击杀标记位
39: #define KILL_BEGIG_FLAG 11
40: #define KILL_MAX_FLAG 20
41: 
42: SCENE_MSG_HANDLE_HOOK(E_C2S_PASSIVE_CARD_SKILL_OPT, CastPassiveSpellModule::OnMsgCardSkillOpt);
43: SCENE_MSG_HANDLE_HOOK(E_C2S_CAST_SKILL_1, CastPassiveSpellModule::OnMsgReqCastSkill1);
44: SCENE_MSG_HANDLE_HOOK(E_C2S_AUTO_STATUS, CastPassiveSpellModule::OnMsgReqFightStatus);
45: SCENE_MSG_HANDLE_HOOK(E_C2S_AUTO_CAST_SKILL, CastPassiveSpellModule::OnMsgReqAutoCastSkill);
46: SCENE_MSG_HANDLE_HOOK(E_C2S_AUTO_CAST_SKILL_FLAG, CastPassiveSpellModule::OnMsgReqAutoCastSkillFlag);
47: 
48: enum CardPassiveCont
49: {
50: 	CardPassiveContBreak = 0,			// 条件不满足，停止
51: 	CardPassiveContContinue = 1,		// 条件不满足 继续
52: 	CardPassiveContExec = 2,			// 始终运行
53: };
54: 
55: PassiveSpellInfo::PassiveSpellInfo()
56: {
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/CreatureFindPathCatmulRom.cpp" line="184" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [pos] suggests that it may be null, but it has already been dereferenced at line 168." web_identify="{&quot;identify&quot;:&quot;pos&quot;}" func_info="bool SplineHelper::MoveToNextPoint ( float lostTimes , Position * pos , Position * ori )" content="174: 		lastIndexCoeff = 0;
175: 	}
176: 
177: 	lastIndexCoeff += (len / vecLen[lastCompIndex]);
178: 	if (lastIndexCoeff &gt; 1.0f)
179: 	{
180: 		lastIndexCoeff = 1.0f;
181: 	}
182: 
183: 	// 计算位置
184: 	if (pos)
185: 	{
186: 		ComputePointByIndex(lastCompIndex, lastIndexCoeff, *pos);
187: 	}
188: 
189: 	// 是否需要计算朝向
190: 	if (ori)
191: 	{
192: 		ComputeOrientationByIndex(lastCompIndex, lastIndexCoeff, *ori);
193: 	}
194: 
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/CreatureFindPathCatmulRom.cpp" line="248" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [pos] suggests that it may be null, but it has already been dereferenced at line 232." web_identify="{&quot;identify&quot;:&quot;pos&quot;}" func_info="bool SplineHelper::ComputeNextPoint ( float lostTimes , Position * pos , Position * ori )" content="238: 		curRatio = 0;
239: 	}
240: 
241: 	curRatio += (len / vecLen[curIndex]);
242: 	if (curRatio &gt; 1.0f)
243: 	{
244: 		curRatio = 1.0f;
245: 	}
246: 
247: 	// 计算位置
248: 	if (pos)
249: 	{
250: 		ComputePointByIndex(curIndex, curRatio, *pos);
251: 	}
252: 
253: 	// 是否需要计算朝向
254: 	if (ori)
255: 	{
256: 		ComputeOrientationByIndex(curIndex, curRatio, *ori);
257: 	}
258: 
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/CreatureMoveInfo.cpp" line="26" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;UnitMoveInfo::m_orientation,m_nPolyCount,m_nMoveIndex,&apos; is not initialized in the constructor." web_identify="{&quot;identify&quot;:&quot;UnitMoveInfo::m_orientation,m_nPolyCount,m_nMoveIndex,&quot;}" func_info="global" content="16: #include &quot;data/map_tile_manager.h&quot;            // for MapTileDetourData, Samp...
17: #include &quot;frame_log.h&quot;                        // for LDEBUG, Log
18: #include &quot;log4cplus/loggingmacros.h&quot;          // for LOG4CPLUS_MACRO_DEBUG_L...
19: #include &quot;mmo3d.pb.h&quot;                         // for MOVE_PACKET_NEW, rep_E_...
20: #include &quot;mmo3d_common_struct_location.pb.h&quot;  // for location
21: #include &quot;modules/common/Tools.h&quot;             // for Tools
22: #include &quot;monster_define.h&quot;                   // for E_OBJECT_TYPES::E_OBJ_T...
23: #include &quot;proto_macro.h&quot;                      // for RESPOND
24: #include &quot;protocol_define.h&quot;                  // for E_PROTOCOL::E_S2C_PUSH_...
25: 
26: UnitMoveInfo::UnitMoveInfo()
27: {
28: 	m_nFlag = 0;
29: 	m_pSelf = NULL;
30: 	m_fSpeed = 0;
31: 	m_nTargetID = 0;
32: 	m_lastLostTime = 0;	
33: 	m_skillSpeed = 0;		
34: 	m_followRange = 1.0f;
35: 	m_againChangePathTime = 0;
36: 	AddFlag(enMoveFlagStopMove);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/CreaturePassiveSkill.cpp" line="399" id="suspicious" subid="unConditionalBreakinLoop" severity="Warning" msg="An unconditional &apos;break/return/goto&apos; within a loop.It may be a mistake." web_identify="{&quot;identify&quot;:&quot;;&quot;}" func_info="static std::vector &lt; int &gt; passive_switch_helper ( int passive_id , int new_passive_cond_type , std::vector &lt; int &gt; &amp; cond_param )" content="389:             case 15://指定action命中时触发，命中多个目标也只结算一次 action);
390:                 ret = PASSIVESKILL_COND_AFTER_HIT_BY_ACTION;
391:                 break;
392: 			case 16:// 自身奥义暴击时
393: 				ret = PASSIVESKILL_CRIT_1;
394: 				break;
395:             default: LWARN(&quot;unknow type:&quot; &lt;&lt; passive_id &lt;&lt; &quot;,&quot; &lt;&lt; action); break;
396:             }
397:             if (ret &gt;= 0)
398:                 vec.push_back(ret);
399:             break;//取第一个参数即可
400:         }
401:     }
402:     break;
403:     case NEW_PASSIVESKILL_COND_BE_ACTION:
404:     {
405:         for (const auto&amp; action : cond_param)
406:         {
407:             switch (action)
408:             {
409:             case 1:  //受到攻击
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/CreaturePassiveSkill.cpp" line="905" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [pPassive] to null at line 842 implies that [pPassive ] might be null.Dereferencing null pointer [pPassive]." web_identify="{&quot;identify&quot;:&quot;pPassive&quot;}" func_info="bool Creature::check_touch_passive_skill ( PASSIVESKILL_EFFECT_COND type , Creature * other , double param , int cardID )" content="895: 				tmpMax += tmppe.effect_chance[0];
896: 				if (num &gt;= tmpMax)
897: 				{
898: 					continue;
899: 				}
900: 				
901: 				// 符合条件
902: 				if (PASSIVESKILL_COND_CHANGE_HP == type &amp;&amp; pe.effect_type == E_PASSIVE_SKILL_ADD_BUFF)
903: 				{
904: 					// 特殊处理
905: 					TriggerModule::ChangeBuffLayerOnChangeHp(this, other, pe, pe.passive_id, pPassive-&gt;cardID);
906: 					add_passive_trigger_time(pe.passive_id, cardID, iter-&gt;second[i].EffectIndex);
907: 					continue;
908: 				}
909: 				else if ((PASSIVESKILL_COND_HP_LOOP == type || PASSIVESKILL_HP_LOOP1 == type) &amp;&amp; other)
910: 				{
911: 					param = other-&gt;m_sid;
912: 				}
913: 
914: 				// 检查通过
915: 				bool bOk = run_passive_effect(pE-&gt;vecEffect[z], type, other, param, cardID);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/Faction.cpp" line="15" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;Faction::m_cur_p_num,m_max_p_num,m_ai_need_del_num,&apos; is not initialized in the constructor." web_identify="{&quot;identify&quot;:&quot;Faction::m_cur_p_num,m_max_p_num,m_ai_need_del_num,&quot;}" func_info="global" content="5: #include &lt;stddef.h&gt;                   // for NULL
6: #include &lt;ostream&gt;                    // for basic_ostream::operator&lt;&lt;, oper...
7: #include &lt;utility&gt;                    // for pair
8: 
9: #include &quot;../common/interface.h&quot;      // for E_FACTION_TYPE
10: #include &quot;Team.h&quot;                     // for Team
11: #include &quot;data/SPlayer.h&quot;             // for SPlayer
12: #include &quot;frame_log.h&quot;                // for Log, LDEBUG, LWARN
13: #include &quot;log4cplus/loggingmacros.h&quot;  // for LOG4CPLUS_MACRO_DEBUG_LOG_LEVEL
14: 
15: Faction::Faction(E_FACTION_TYPE _type /*, NationWar *_parent*/, int32_t war_type) :
16:     m_type(_type)
17: {
18: }
19: 
20: Faction::~Faction()
21: {
22:     LDEBUG(&quot;~Faction()1&quot;);
23:     for (map&lt;int32_t, Team*&gt;::iterator it = m_teams.begin(); it != m_teams.end();)
24:     {
25:         if (it-&gt;second)
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/FightLog.cpp" line="39" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_S2C_FIGHT_LOG::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_S2C_FIGHT_LOG::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_S2C_FIGHT_LOG" content="29: #include &quot;log4cplus/loggingmacros.h&quot;       // for LOG4CPLUS_MACRO_DEBUG_LOG_...
30: #include &quot;mmo3d_constant.pb.h&quot;             // for Constant
31: #include &quot;mmo3d_func_skill.pb.h&quot;           // for card_fight_log, rep_E_S2C_...
32: #include &quot;mmo3d_skillinfo_2.pb.h&quot;          // for SkillInfo_2
33: #include &quot;modules/common/CallbackFrame.h&quot;  // for REGISTER_HOOK
34: #include &quot;proto_macro.h&quot;                   // for RESPOND
35: #include &quot;protocol_define.h&quot;               // for E_PROTOCOL::E_S2C_FIGHT_LOG
36: #include &quot;sc_global_data.h&quot;                // for ScGlobalData, g_ScGlobalData
37: 
38: // 注册消息协议
39: SCENE_MSG_HANDLE_HOOK(E_S2C_FIGHT_LOG, FightLogModule::OnRequestFightLog);
40: 
41: 
42: static bool g_bDebug = false;
43: 
44: // 获取新的ID
45: StoreID RequestNewID(SPlayer* self, unsigned short type)
46: {
47: 	StoreID ID;
48: 	if (!self)
49: 	{
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/Formula.cpp" line="1446" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [atk] suggests that it may be null, but it has already been dereferenced at line 1429." web_identify="{&quot;identify&quot;:&quot;atk&quot;}" func_info="double Formula::CalculateBattle ( BattleNode * pRoot , Creature * atk , Creature * target , SkillParam &amp; param , act_effect_data &amp; eff , std::map &lt; int , double &gt; &amp; tmpCache )" content="1436: 		{
1437: 			return param.attr[param_is_block];
1438: 		}
1439:         
1440: 		case atk_race: { return atk ? atk-&gt;GetRace(param.attr[param_cast_card_id]) : 0;
1441: 		}
1442: 		case tar_race: { return target ? target-&gt;GetRace(param.attr[param_bedamage_card_id]) : 0;
1443: 		}
1444: 		case atk_occupation: 
1445:         {
1446:             if (!atk || atk-&gt;m_type != 0)
1447:             {
1448:                 return 0;
1449:             }
1450: 
1451:             if (SPlayer* pl = ObjCaster::CastSPlayer(atk))
1452:             {
1453:                 int occ = 0;
1454:                 pl-&gt;LoopCardInfo([&amp;occ, &amp;param](TransformCardInfo&amp; card, bool&amp; bCon)
1455:                 {
1456:                     if (card.cardID == param.attr[param_cast_card_id])
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/Formula.cpp" line="1470" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [target] suggests that it may be null, but it has already been dereferenced at line 1433." web_identify="{&quot;identify&quot;:&quot;target&quot;}" func_info="double Formula::CalculateBattle ( BattleNode * pRoot , Creature * atk , Creature * target , SkillParam &amp; param , act_effect_data &amp; eff , std::map &lt; int , double &gt; &amp; tmpCache )" content="1460:                     }
1461:                 });
1462: 
1463:                 return occ;
1464:             }
1465: 
1466:             return 0;
1467: 		}
1468: 		case tar_occupation: 
1469:         {
1470: 			if (!target || target-&gt;m_type != 0)
1471: 			{
1472: 				return 0;
1473: 			}
1474: 
1475: 			if (SPlayer* pl = ObjCaster::CastSPlayer(target))
1476: 			{
1477: 				int occ = 0;
1478: 				pl-&gt;LoopCardInfo([&amp;occ, &amp;param](TransformCardInfo&amp; card, bool&amp; bCon)
1479: 				{
1480: 					if (card.cardID == param.attr[param_bedamage_card_id])
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/Formula.cpp" line="1893" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [atk] to null at line 1881 implies that [atk ] might be null.Dereferencing null pointer [atk]." web_identify="{&quot;identify&quot;:&quot;atk&quot;}" func_info="double Formula::ModifyDmg ( BattleNode * pRoot , Creature * atk , Creature * target , int dmg , std::vector &lt; int &gt; &amp; buffParam , int cardID , std::map &lt; int , double &gt; &amp; tmpCache , int targetCardID )" content="1883: 							&lt;&lt; &quot;] value[&quot; &lt;&lt; v &lt;&lt; &quot;] desc :[ &quot; &lt;&lt; pRoot-&gt;desc &lt;&lt; &quot;]&quot;);
1884:             return v;
1885:         }
1886:         case Target:
1887:         {
1888:             double v = (target ? target-&gt;GetAttr(E_ATTR_TYPE(pRoot-&gt;AttrType), targetCardID) : .0);
1889:             if (v == 0)
1890:             {
1891:             }
1892: 
1893:             if (atk-&gt;m_type == 0)
1894: 			LDEBUG(&quot;revive buff formula&quot; &lt;&lt; &quot;target attr id[&quot; &lt;&lt; pRoot-&gt;AttrType
1895: 				&lt;&lt; &quot;] value[&quot; &lt;&lt; v &lt;&lt; &quot;] desc :[ &quot; &lt;&lt; pRoot-&gt;desc &lt;&lt; &quot;]&quot;);
1896: 
1897:             return v;
1898:         }
1899:         case Val: { return pRoot-&gt;value;
1900:         }
1901:         case Rand: { return Random(pRoot-&gt;value);
1902:         }
1903:         case _Formula:
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/Formula.cpp" line="279" id="logic" subid="STLFindError" severity="Warning" msg="Using int as return type of string::find is dangerous, it should use size_t instead." web_identify="{&quot;identify&quot;:&quot;.&quot;}" func_info="bool ParseField ( const std::string &amp; s , BattleNode * root )" content="269:         return false;
270:     }
271: 
272:     if (s == &quot;dmg&quot;)
273:     {
274:         root-&gt;ObjectType = _dmg;
275:         root-&gt;AttrType = 0;
276:         return true;
277:     }
278: 
279:     int findOffset = s.find(&quot;atk.&quot;);
280:     if (findOffset == 0)
281:     {
282:         root-&gt;ObjectType = Attack;
283:         root-&gt;AttrType = atoi(s.substr(findOffset + strlen(&quot;atk.&quot;)).c_str());
284:         return true;
285:     }
286: 
287:     findOffset = s.find(&quot;tar.&quot;);
288:     if (findOffset == 0)
289:     {
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/Formula.cpp" line="287" id="logic" subid="STLFindError" severity="Warning" msg="Using int as return type of string::find is dangerous, it should use size_t instead." web_identify="{&quot;identify&quot;:&quot;.&quot;}" func_info="bool ParseField ( const std::string &amp; s , BattleNode * root )" content="277:     }
278: 
279:     int findOffset = s.find(&quot;atk.&quot;);
280:     if (findOffset == 0)
281:     {
282:         root-&gt;ObjectType = Attack;
283:         root-&gt;AttrType = atoi(s.substr(findOffset + strlen(&quot;atk.&quot;)).c_str());
284:         return true;
285:     }
286: 
287:     findOffset = s.find(&quot;tar.&quot;);
288:     if (findOffset == 0)
289:     {
290:         root-&gt;ObjectType = Target;
291:         root-&gt;AttrType = atoi(s.substr(findOffset + strlen(&quot;tar.&quot;)).c_str());
292:         return true;
293:     }
294: 
295:     findOffset = s.find(&quot;skill.&quot;);
296:     if (findOffset == 0)
297:     {
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/Formula.cpp" line="295" id="logic" subid="STLFindError" severity="Warning" msg="Using int as return type of string::find is dangerous, it should use size_t instead." web_identify="{&quot;identify&quot;:&quot;.&quot;}" func_info="bool ParseField ( const std::string &amp; s , BattleNode * root )" content="285:     }
286: 
287:     findOffset = s.find(&quot;tar.&quot;);
288:     if (findOffset == 0)
289:     {
290:         root-&gt;ObjectType = Target;
291:         root-&gt;AttrType = atoi(s.substr(findOffset + strlen(&quot;tar.&quot;)).c_str());
292:         return true;
293:     }
294: 
295:     findOffset = s.find(&quot;skill.&quot;);
296:     if (findOffset == 0)
297:     {
298:         root-&gt;ObjectType = Skill;
299:         root-&gt;AttrType = atoi(s.substr(findOffset + strlen(&quot;skill.&quot;)).c_str());
300:         return true;
301:     }
302: 
303:     findOffset = s.find(&quot;val.&quot;);
304:     if (findOffset == 0)
305:     {
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/Formula.cpp" line="303" id="logic" subid="STLFindError" severity="Warning" msg="Using int as return type of string::find is dangerous, it should use size_t instead." web_identify="{&quot;identify&quot;:&quot;.&quot;}" func_info="bool ParseField ( const std::string &amp; s , BattleNode * root )" content="293:     }
294: 
295:     findOffset = s.find(&quot;skill.&quot;);
296:     if (findOffset == 0)
297:     {
298:         root-&gt;ObjectType = Skill;
299:         root-&gt;AttrType = atoi(s.substr(findOffset + strlen(&quot;skill.&quot;)).c_str());
300:         return true;
301:     }
302: 
303:     findOffset = s.find(&quot;val.&quot;);
304:     if (findOffset == 0)
305:     {
306:         root-&gt;ObjectType = Val;
307:         root-&gt;value = (double)atof(s.substr(findOffset + strlen(&quot;val.&quot;)).c_str());
308:         return true;
309:     }
310: 
311:     findOffset = s.find(&quot;rand.&quot;);
312:     if (findOffset == 0)
313:     {
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/Formula.cpp" line="311" id="logic" subid="STLFindError" severity="Warning" msg="Using int as return type of string::find is dangerous, it should use size_t instead." web_identify="{&quot;identify&quot;:&quot;.&quot;}" func_info="bool ParseField ( const std::string &amp; s , BattleNode * root )" content="301:     }
302: 
303:     findOffset = s.find(&quot;val.&quot;);
304:     if (findOffset == 0)
305:     {
306:         root-&gt;ObjectType = Val;
307:         root-&gt;value = (double)atof(s.substr(findOffset + strlen(&quot;val.&quot;)).c_str());
308:         return true;
309:     }
310: 
311:     findOffset = s.find(&quot;rand.&quot;);
312:     if (findOffset == 0)
313:     {
314:         root-&gt;ObjectType = Rand;
315:         root-&gt;value = (double)atof(s.substr(findOffset + strlen(&quot;val.&quot;)).c_str());
316:         return true;
317:     }
318: 
319:     findOffset = s.find(&quot;formula.&quot;);
320:     if (findOffset == 0)
321:     {
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/Formula.cpp" line="319" id="logic" subid="STLFindError" severity="Warning" msg="Using int as return type of string::find is dangerous, it should use size_t instead." web_identify="{&quot;identify&quot;:&quot;.&quot;}" func_info="bool ParseField ( const std::string &amp; s , BattleNode * root )" content="309:     }
310: 
311:     findOffset = s.find(&quot;rand.&quot;);
312:     if (findOffset == 0)
313:     {
314:         root-&gt;ObjectType = Rand;
315:         root-&gt;value = (double)atof(s.substr(findOffset + strlen(&quot;val.&quot;)).c_str());
316:         return true;
317:     }
318: 
319:     findOffset = s.find(&quot;formula.&quot;);
320:     if (findOffset == 0)
321:     {
322:         root-&gt;ObjectType = _Formula;
323:         root-&gt;value = (double)atof(s.substr(findOffset + strlen(&quot;formula.&quot;)).c_str());
324:         return true;
325:     }
326: 
327:     findOffset = s.find(&quot;f.&quot;);
328:     if (findOffset == 0)
329:     {
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/Formula.cpp" line="327" id="logic" subid="STLFindError" severity="Warning" msg="Using int as return type of string::find is dangerous, it should use size_t instead." web_identify="{&quot;identify&quot;:&quot;.&quot;}" func_info="bool ParseField ( const std::string &amp; s , BattleNode * root )" content="317:     }
318: 
319:     findOffset = s.find(&quot;formula.&quot;);
320:     if (findOffset == 0)
321:     {
322:         root-&gt;ObjectType = _Formula;
323:         root-&gt;value = (double)atof(s.substr(findOffset + strlen(&quot;formula.&quot;)).c_str());
324:         return true;
325:     }
326: 
327:     findOffset = s.find(&quot;f.&quot;);
328:     if (findOffset == 0)
329:     {
330:         root-&gt;ObjectType = _Formula;
331:         root-&gt;value = (double)atof(s.substr(findOffset + strlen(&quot;f.&quot;)).c_str());
332:         return true;
333:     }
334: 
335:     findOffset = s.find(&quot;dyn.&quot;);
336:     if (findOffset == 0)
337:     {
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/Formula.cpp" line="335" id="logic" subid="STLFindError" severity="Warning" msg="Using int as return type of string::find is dangerous, it should use size_t instead." web_identify="{&quot;identify&quot;:&quot;.&quot;}" func_info="bool ParseField ( const std::string &amp; s , BattleNode * root )" content="325:     }
326: 
327:     findOffset = s.find(&quot;f.&quot;);
328:     if (findOffset == 0)
329:     {
330:         root-&gt;ObjectType = _Formula;
331:         root-&gt;value = (double)atof(s.substr(findOffset + strlen(&quot;f.&quot;)).c_str());
332:         return true;
333:     }
334: 
335:     findOffset = s.find(&quot;dyn.&quot;);
336:     if (findOffset == 0)
337:     {
338:         root-&gt;ObjectType = _Dyn;
339:         root-&gt;value = (double)atof(s.substr(findOffset + strlen(&quot;dyn.&quot;)).c_str());
340:         return true;
341:     }
342: 
343:     findOffset = s.find(&quot;efftype&quot;);
344:     if (findOffset == 0)
345:     {
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/Formula.cpp" line="343" id="logic" subid="STLFindError" severity="Warning" msg="Using int as return type of string::find is dangerous, it should use size_t instead." web_identify="{&quot;identify&quot;:&quot;.&quot;}" func_info="bool ParseField ( const std::string &amp; s , BattleNode * root )" content="333:     }
334: 
335:     findOffset = s.find(&quot;dyn.&quot;);
336:     if (findOffset == 0)
337:     {
338:         root-&gt;ObjectType = _Dyn;
339:         root-&gt;value = (double)atof(s.substr(findOffset + strlen(&quot;dyn.&quot;)).c_str());
340:         return true;
341:     }
342: 
343:     findOffset = s.find(&quot;efftype&quot;);
344:     if (findOffset == 0)
345:     {
346:         root-&gt;ObjectType = _efftype;
347:         /*root-&gt;value = (double)atof(s.substr(findOffset + strlen(&quot;efftype&quot;)).c_str());*/
348:         return true;
349:     }
350: 
351:     findOffset = s.find(&quot;effparam.&quot;);
352:     if (findOffset == 0)
353:     {
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/Formula.cpp" line="351" id="logic" subid="STLFindError" severity="Warning" msg="Using int as return type of string::find is dangerous, it should use size_t instead." web_identify="{&quot;identify&quot;:&quot;.&quot;}" func_info="bool ParseField ( const std::string &amp; s , BattleNode * root )" content="341:     }
342: 
343:     findOffset = s.find(&quot;efftype&quot;);
344:     if (findOffset == 0)
345:     {
346:         root-&gt;ObjectType = _efftype;
347:         /*root-&gt;value = (double)atof(s.substr(findOffset + strlen(&quot;efftype&quot;)).c_str());*/
348:         return true;
349:     }
350: 
351:     findOffset = s.find(&quot;effparam.&quot;);
352:     if (findOffset == 0)
353:     {
354:         root-&gt;ObjectType = _effparam;
355:         root-&gt;value = (double)atof(s.substr(findOffset + strlen(&quot;effparam.&quot;)).c_str());
356:         return true;
357:     }
358: 
359:     findOffset = s.find(&quot;con.&quot;);
360:     if (findOffset == 0)
361:     {
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/Formula.cpp" line="359" id="logic" subid="STLFindError" severity="Warning" msg="Using int as return type of string::find is dangerous, it should use size_t instead." web_identify="{&quot;identify&quot;:&quot;.&quot;}" func_info="bool ParseField ( const std::string &amp; s , BattleNode * root )" content="349:     }
350: 
351:     findOffset = s.find(&quot;effparam.&quot;);
352:     if (findOffset == 0)
353:     {
354:         root-&gt;ObjectType = _effparam;
355:         root-&gt;value = (double)atof(s.substr(findOffset + strlen(&quot;effparam.&quot;)).c_str());
356:         return true;
357:     }
358: 
359:     findOffset = s.find(&quot;con.&quot;);
360:     if (findOffset == 0)
361:     {
362:         root-&gt;ObjectType = _con;
363:         root-&gt;fieldName = s.substr(findOffset + strlen(&quot;con.&quot;));
364:         return true;
365:     }
366: 
367:     findOffset = s.find(&quot;buffparam.&quot;);
368:     if (findOffset == 0)
369:     {
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/Formula.cpp" line="367" id="logic" subid="STLFindError" severity="Warning" msg="Using int as return type of string::find is dangerous, it should use size_t instead." web_identify="{&quot;identify&quot;:&quot;.&quot;}" func_info="bool ParseField ( const std::string &amp; s , BattleNode * root )" content="357:     }
358: 
359:     findOffset = s.find(&quot;con.&quot;);
360:     if (findOffset == 0)
361:     {
362:         root-&gt;ObjectType = _con;
363:         root-&gt;fieldName = s.substr(findOffset + strlen(&quot;con.&quot;));
364:         return true;
365:     }
366: 
367:     findOffset = s.find(&quot;buffparam.&quot;);
368:     if (findOffset == 0)
369:     {
370:         root-&gt;ObjectType = _buffparam;
371:         root-&gt;value = (double)atof(s.substr(findOffset + strlen(&quot;buffparam.&quot;)).c_str());
372:         root-&gt;fieldName = s.substr(findOffset + strlen(&quot;buffparam.&quot;));
373:         return true;
374:     }
375: 
376:     findOffset = s.find(&quot;atk_dep&quot;);
377:     if (findOffset == 0)
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/Formula.cpp" line="376" id="logic" subid="STLFindError" severity="Warning" msg="Using int as return type of string::find is dangerous, it should use size_t instead." web_identify="{&quot;identify&quot;:&quot;.&quot;}" func_info="bool ParseField ( const std::string &amp; s , BattleNode * root )" content="366: 
367:     findOffset = s.find(&quot;buffparam.&quot;);
368:     if (findOffset == 0)
369:     {
370:         root-&gt;ObjectType = _buffparam;
371:         root-&gt;value = (double)atof(s.substr(findOffset + strlen(&quot;buffparam.&quot;)).c_str());
372:         root-&gt;fieldName = s.substr(findOffset + strlen(&quot;buffparam.&quot;));
373:         return true;
374:     }
375: 
376:     findOffset = s.find(&quot;atk_dep&quot;);
377:     if (findOffset == 0)
378:     {
379:         root-&gt;ObjectType = atkdep;
380:         //root-&gt;value = (double)atof(s.substr(findOffset + strlen(&quot;atk.dep&quot;)).c_str());
381:         //root-&gt;fieldName = s.substr(findOffset + strlen(&quot;atk.dep&quot;));
382:         return true;
383:     }
384: 
385:     findOffset = s.find(&quot;tar_dep&quot;);
386:     if (findOffset == 0)
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/Formula.cpp" line="385" id="logic" subid="STLFindError" severity="Warning" msg="Using int as return type of string::find is dangerous, it should use size_t instead." web_identify="{&quot;identify&quot;:&quot;.&quot;}" func_info="bool ParseField ( const std::string &amp; s , BattleNode * root )" content="375: 
376:     findOffset = s.find(&quot;atk_dep&quot;);
377:     if (findOffset == 0)
378:     {
379:         root-&gt;ObjectType = atkdep;
380:         //root-&gt;value = (double)atof(s.substr(findOffset + strlen(&quot;atk.dep&quot;)).c_str());
381:         //root-&gt;fieldName = s.substr(findOffset + strlen(&quot;atk.dep&quot;));
382:         return true;
383:     }
384: 
385:     findOffset = s.find(&quot;tar_dep&quot;);
386:     if (findOffset == 0)
387:     {
388:         root-&gt;ObjectType = tardep;
389:         //root-&gt;value = (double)atof(s.substr(findOffset + strlen(&quot;atk.dep&quot;)).c_str());
390:         //root-&gt;fieldName = s.substr(findOffset + strlen(&quot;atk.dep&quot;));
391:         return true;
392:     }
393: 
394: 	findOffset = s.find(&quot;atk_race&quot;);
395: 	if (findOffset == 0)
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/Formula.cpp" line="394" id="logic" subid="STLFindError" severity="Warning" msg="Using int as return type of string::find is dangerous, it should use size_t instead." web_identify="{&quot;identify&quot;:&quot;.&quot;}" func_info="bool ParseField ( const std::string &amp; s , BattleNode * root )" content="384: 
385:     findOffset = s.find(&quot;tar_dep&quot;);
386:     if (findOffset == 0)
387:     {
388:         root-&gt;ObjectType = tardep;
389:         //root-&gt;value = (double)atof(s.substr(findOffset + strlen(&quot;atk.dep&quot;)).c_str());
390:         //root-&gt;fieldName = s.substr(findOffset + strlen(&quot;atk.dep&quot;));
391:         return true;
392:     }
393: 
394: 	findOffset = s.find(&quot;atk_race&quot;);
395: 	if (findOffset == 0)
396: 	{
397: 		root-&gt;ObjectType = atk_race;
398: 		//root-&gt;value = (double)atof(s.substr(findOffset + strlen(&quot;atk.dep&quot;)).c_str());
399: 		//root-&gt;fieldName = s.substr(findOffset + strlen(&quot;atk.dep&quot;));
400: 		return true;
401: 	}
402: 
403: 	findOffset = s.find(&quot;tar_race&quot;);
404: 	if (findOffset == 0)
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/Formula.cpp" line="403" id="logic" subid="STLFindError" severity="Warning" msg="Using int as return type of string::find is dangerous, it should use size_t instead." web_identify="{&quot;identify&quot;:&quot;.&quot;}" func_info="bool ParseField ( const std::string &amp; s , BattleNode * root )" content="393: 
394: 	findOffset = s.find(&quot;atk_race&quot;);
395: 	if (findOffset == 0)
396: 	{
397: 		root-&gt;ObjectType = atk_race;
398: 		//root-&gt;value = (double)atof(s.substr(findOffset + strlen(&quot;atk.dep&quot;)).c_str());
399: 		//root-&gt;fieldName = s.substr(findOffset + strlen(&quot;atk.dep&quot;));
400: 		return true;
401: 	}
402: 
403: 	findOffset = s.find(&quot;tar_race&quot;);
404: 	if (findOffset == 0)
405: 	{
406: 		root-&gt;ObjectType = tar_race;
407: 		//root-&gt;value = (double)atof(s.substr(findOffset + strlen(&quot;atk.dep&quot;)).c_str());
408: 		//root-&gt;fieldName = s.substr(findOffset + strlen(&quot;atk.dep&quot;));
409: 		return true;
410: 	}
411: 
412: 
413: 	findOffset = s.find(&quot;atk_occupation&quot;);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/Formula.cpp" line="413" id="logic" subid="STLFindError" severity="Warning" msg="Using int as return type of string::find is dangerous, it should use size_t instead." web_identify="{&quot;identify&quot;:&quot;.&quot;}" func_info="bool ParseField ( const std::string &amp; s , BattleNode * root )" content="403: 	findOffset = s.find(&quot;tar_race&quot;);
404: 	if (findOffset == 0)
405: 	{
406: 		root-&gt;ObjectType = tar_race;
407: 		//root-&gt;value = (double)atof(s.substr(findOffset + strlen(&quot;atk.dep&quot;)).c_str());
408: 		//root-&gt;fieldName = s.substr(findOffset + strlen(&quot;atk.dep&quot;));
409: 		return true;
410: 	}
411: 
412: 
413: 	findOffset = s.find(&quot;atk_occupation&quot;);
414: 	if (findOffset == 0)
415: 	{
416: 		root-&gt;ObjectType = atk_occupation;
417: 		//root-&gt;value = (double)atof(s.substr(findOffset + strlen(&quot;atk.dep&quot;)).c_str());
418: 		//root-&gt;fieldName = s.substr(findOffset + strlen(&quot;atk.dep&quot;));
419: 		return true;
420: 	}
421: 	findOffset = s.find(&quot;tar_occupation&quot;);
422: 	if (findOffset == 0)
423: 	{
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/Formula.cpp" line="421" id="logic" subid="STLFindError" severity="Warning" msg="Using int as return type of string::find is dangerous, it should use size_t instead." web_identify="{&quot;identify&quot;:&quot;.&quot;}" func_info="bool ParseField ( const std::string &amp; s , BattleNode * root )" content="411: 
412: 
413: 	findOffset = s.find(&quot;atk_occupation&quot;);
414: 	if (findOffset == 0)
415: 	{
416: 		root-&gt;ObjectType = atk_occupation;
417: 		//root-&gt;value = (double)atof(s.substr(findOffset + strlen(&quot;atk.dep&quot;)).c_str());
418: 		//root-&gt;fieldName = s.substr(findOffset + strlen(&quot;atk.dep&quot;));
419: 		return true;
420: 	}
421: 	findOffset = s.find(&quot;tar_occupation&quot;);
422: 	if (findOffset == 0)
423: 	{
424: 		root-&gt;ObjectType = tar_occupation;
425: 		//root-&gt;value = (double)atof(s.substr(findOffset + strlen(&quot;atk.dep&quot;)).c_str());
426: 		//root-&gt;fieldName = s.substr(findOffset + strlen(&quot;atk.dep&quot;));
427: 		return true;
428: 	}
429: 
430:     // findOffset = s.find(&quot;atk_qit&quot;);
431:     // if (findOffset == 0)
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/Formula.cpp" line="481" id="logic" subid="STLFindError" severity="Warning" msg="Using int as return type of string::find is dangerous, it should use size_t instead." web_identify="{&quot;identify&quot;:&quot;.&quot;}" func_info="bool ParseField ( const std::string &amp; s , BattleNode * root )" content="471:     // }
472:     // findOffset = s.find(&quot;tar_qidep&quot;);
473:     // if (findOffset == 0)
474:     // {
475:     // 	root-&gt;ObjectType = tarairdep;
476:     // 	//root-&gt;value = (double)atof(s.substr(findOffset + strlen(&quot;atk.dep&quot;)).c_str());
477:     // 	//root-&gt;fieldName = s.substr(findOffset + strlen(&quot;atk.dep&quot;));
478:     // 	return true;
479:     // }
480: 
481:     findOffset = s.find(&quot;atk_nian_dep&quot;);
482:     if (findOffset == 0)
483:     {
484:         root-&gt;ObjectType = atk_nian_dep;
485:         //root-&gt;value = (double)atof(s.substr(findOffset + strlen(&quot;atk.dep&quot;)).c_str());
486:         //root-&gt;fieldName = s.substr(findOffset + strlen(&quot;atk.dep&quot;));
487:         return true;
488:     }
489:     findOffset = s.find(&quot;def_nian_dep&quot;);
490:     if (findOffset == 0)
491:     {
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/Formula.cpp" line="489" id="logic" subid="STLFindError" severity="Warning" msg="Using int as return type of string::find is dangerous, it should use size_t instead." web_identify="{&quot;identify&quot;:&quot;.&quot;}" func_info="bool ParseField ( const std::string &amp; s , BattleNode * root )" content="479:     // }
480: 
481:     findOffset = s.find(&quot;atk_nian_dep&quot;);
482:     if (findOffset == 0)
483:     {
484:         root-&gt;ObjectType = atk_nian_dep;
485:         //root-&gt;value = (double)atof(s.substr(findOffset + strlen(&quot;atk.dep&quot;)).c_str());
486:         //root-&gt;fieldName = s.substr(findOffset + strlen(&quot;atk.dep&quot;));
487:         return true;
488:     }
489:     findOffset = s.find(&quot;def_nian_dep&quot;);
490:     if (findOffset == 0)
491:     {
492:         root-&gt;ObjectType = def_nian_dep;
493:         //root-&gt;value = (double)atof(s.substr(findOffset + strlen(&quot;atk.dep&quot;)).c_str());
494:         //root-&gt;fieldName = s.substr(findOffset + strlen(&quot;atk.dep&quot;));
495:         return true;
496:     }
497: 
498:     // findOffset = s.find(&quot;atk_qi&quot;);
499:     // if (findOffset == 0)
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/Formula.cpp" line="515" id="logic" subid="STLFindError" severity="Warning" msg="Using int as return type of string::find is dangerous, it should use size_t instead." web_identify="{&quot;identify&quot;:&quot;.&quot;}" func_info="bool ParseField ( const std::string &amp; s , BattleNode * root )" content="505:     // }
506:     // findOffset = s.find(&quot;tar_qi&quot;);
507:     // if (findOffset == 0)
508:     // {
509:     // 	root-&gt;ObjectType = tarqi;
510:     // 	//root-&gt;value = (double)atof(s.substr(findOffset + strlen(&quot;atk.dep&quot;)).c_str());
511:     // 	//root-&gt;fieldName = s.substr(findOffset + strlen(&quot;atk.dep&quot;));
512:     // 	return true;
513:     // }
514: 
515:     findOffset = s.find(&quot;atk_lv&quot;);
516:     if (findOffset == 0)
517:     {
518:         root-&gt;ObjectType = atk_lv;
519:         //root-&gt;value = (double)atof(s.substr(findOffset + strlen(&quot;atk.dep&quot;)).c_str());
520:         //root-&gt;fieldName = s.substr(findOffset + strlen(&quot;atk.dep&quot;));
521:         return true;
522:     }
523: 
524:     findOffset = s.find(&quot;tar_lv&quot;);
525:     if (findOffset == 0)
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/Formula.cpp" line="524" id="logic" subid="STLFindError" severity="Warning" msg="Using int as return type of string::find is dangerous, it should use size_t instead." web_identify="{&quot;identify&quot;:&quot;.&quot;}" func_info="bool ParseField ( const std::string &amp; s , BattleNode * root )" content="514: 
515:     findOffset = s.find(&quot;atk_lv&quot;);
516:     if (findOffset == 0)
517:     {
518:         root-&gt;ObjectType = atk_lv;
519:         //root-&gt;value = (double)atof(s.substr(findOffset + strlen(&quot;atk.dep&quot;)).c_str());
520:         //root-&gt;fieldName = s.substr(findOffset + strlen(&quot;atk.dep&quot;));
521:         return true;
522:     }
523: 
524:     findOffset = s.find(&quot;tar_lv&quot;);
525:     if (findOffset == 0)
526:     {
527:         root-&gt;ObjectType = tar_lv;
528:         //root-&gt;value = (double)atof(s.substr(findOffset + strlen(&quot;atk.dep&quot;)).c_str());
529:         //root-&gt;fieldName = s.substr(findOffset + strlen(&quot;atk.dep&quot;));
530:         return true;
531:     }
532: 
533:     findOffset = s.find(&quot;atk_faction&quot;);
534:     if (findOffset == 0)
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/Formula.cpp" line="533" id="logic" subid="STLFindError" severity="Warning" msg="Using int as return type of string::find is dangerous, it should use size_t instead." web_identify="{&quot;identify&quot;:&quot;.&quot;}" func_info="bool ParseField ( const std::string &amp; s , BattleNode * root )" content="523: 
524:     findOffset = s.find(&quot;tar_lv&quot;);
525:     if (findOffset == 0)
526:     {
527:         root-&gt;ObjectType = tar_lv;
528:         //root-&gt;value = (double)atof(s.substr(findOffset + strlen(&quot;atk.dep&quot;)).c_str());
529:         //root-&gt;fieldName = s.substr(findOffset + strlen(&quot;atk.dep&quot;));
530:         return true;
531:     }
532: 
533:     findOffset = s.find(&quot;atk_faction&quot;);
534:     if (findOffset == 0)
535:     {
536:         root-&gt;ObjectType = atkfaction;
537:         return true;
538:     }
539: 
540:     findOffset = s.find(&quot;tar_faction&quot;);
541:     if (findOffset == 0)
542:     {
543:         root-&gt;ObjectType = tarfaction;
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/Formula.cpp" line="540" id="logic" subid="STLFindError" severity="Warning" msg="Using int as return type of string::find is dangerous, it should use size_t instead." web_identify="{&quot;identify&quot;:&quot;.&quot;}" func_info="bool ParseField ( const std::string &amp; s , BattleNode * root )" content="530:         return true;
531:     }
532: 
533:     findOffset = s.find(&quot;atk_faction&quot;);
534:     if (findOffset == 0)
535:     {
536:         root-&gt;ObjectType = atkfaction;
537:         return true;
538:     }
539: 
540:     findOffset = s.find(&quot;tar_faction&quot;);
541:     if (findOffset == 0)
542:     {
543:         root-&gt;ObjectType = tarfaction;
544:         return true;
545:     }
546: 
547:     if (s == &quot;imp_lvpara&quot;)
548:     {
549:         root-&gt;ObjectType = card_lv_para;
550:         return true;
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/Formula.cpp" line="559" id="logic" subid="STLFindError" severity="Warning" msg="Using int as return type of string::find is dangerous, it should use size_t instead." web_identify="{&quot;identify&quot;:&quot;.&quot;}" func_info="bool ParseField ( const std::string &amp; s , BattleNode * root )" content="549:         root-&gt;ObjectType = card_lv_para;
550:         return true;
551:     }
552: 
553: 	if (s == &quot;imp_lvpara_2&quot;)
554: 	{
555: 		root-&gt;ObjectType = card_lv_para2;
556: 		return true;
557: 	}
558: 
559: 	findOffset = s.find(&quot;element_cost&quot;);
560: 	if (findOffset == 0)
561: 	{
562: 		root-&gt;ObjectType = element_cost;
563: 		return true;
564: 	}
565:     
566: 	findOffset = s.find(&quot;all_atk.&quot;);
567: 	if (findOffset == 0)
568: 	{
569: 		root-&gt;ObjectType = all_atk;
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/Formula.cpp" line="566" id="logic" subid="STLFindError" severity="Warning" msg="Using int as return type of string::find is dangerous, it should use size_t instead." web_identify="{&quot;identify&quot;:&quot;.&quot;}" func_info="bool ParseField ( const std::string &amp; s , BattleNode * root )" content="556: 		return true;
557: 	}
558: 
559: 	findOffset = s.find(&quot;element_cost&quot;);
560: 	if (findOffset == 0)
561: 	{
562: 		root-&gt;ObjectType = element_cost;
563: 		return true;
564: 	}
565:     
566: 	findOffset = s.find(&quot;all_atk.&quot;);
567: 	if (findOffset == 0)
568: 	{
569: 		root-&gt;ObjectType = all_atk;
570: 		root-&gt;AttrType = atoi(s.substr(findOffset + strlen(&quot;all_atk.&quot;)).c_str());
571: 		return true;
572: 	}
573: 
574: 	findOffset = s.find(&quot;all_def.&quot;);
575: 	if (findOffset == 0)
576: 	{
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/Formula.cpp" line="574" id="logic" subid="STLFindError" severity="Warning" msg="Using int as return type of string::find is dangerous, it should use size_t instead." web_identify="{&quot;identify&quot;:&quot;.&quot;}" func_info="bool ParseField ( const std::string &amp; s , BattleNode * root )" content="564: 	}
565:     
566: 	findOffset = s.find(&quot;all_atk.&quot;);
567: 	if (findOffset == 0)
568: 	{
569: 		root-&gt;ObjectType = all_atk;
570: 		root-&gt;AttrType = atoi(s.substr(findOffset + strlen(&quot;all_atk.&quot;)).c_str());
571: 		return true;
572: 	}
573: 
574: 	findOffset = s.find(&quot;all_def.&quot;);
575: 	if (findOffset == 0)
576: 	{
577: 		root-&gt;ObjectType = all_def;
578: 		root-&gt;AttrType = atoi(s.substr(findOffset + strlen(&quot;all_def.&quot;)).c_str());
579: 		return true;
580: 	}
581: 
582: 	findOffset = s.find(&quot;block&quot;);
583: 	if (findOffset == 0)
584: 	{
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/Formula.cpp" line="582" id="logic" subid="STLFindError" severity="Warning" msg="Using int as return type of string::find is dangerous, it should use size_t instead." web_identify="{&quot;identify&quot;:&quot;.&quot;}" func_info="bool ParseField ( const std::string &amp; s , BattleNode * root )" content="572: 	}
573: 
574: 	findOffset = s.find(&quot;all_def.&quot;);
575: 	if (findOffset == 0)
576: 	{
577: 		root-&gt;ObjectType = all_def;
578: 		root-&gt;AttrType = atoi(s.substr(findOffset + strlen(&quot;all_def.&quot;)).c_str());
579: 		return true;
580: 	}
581: 
582: 	findOffset = s.find(&quot;block&quot;);
583: 	if (findOffset == 0)
584: 	{
585: 		root-&gt;ObjectType = tar_block;
586:         root-&gt;AttrType = 0;
587: 		return true;
588: 	}
589: 
590:     // 最后查看是否是数值
591:     bool isvalue = true;
592:     for (int i = 0; i &lt; s.length(); ++i)
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/GuildRankRoom.h" line="22" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;GuildRankRoom::m_scene,&apos; is not initialized in the constructor." web_identify="{&quot;identify&quot;:&quot;GuildRankRoom::m_scene,&quot;}" func_info="GuildRankRoom" content="12: #include &quot;SPlayer.h&quot;
13: #include &quot;Scene.h&quot;
14: #include &quot;interface.h&quot;
15: 
16: class Scene;
17: 
18: //工会匹配房间
19: class GuildRankRoom
20: {
21: public:
22:     GuildRankRoom(int32_t guild_id):m_guild_id(guild_id)
23:     {
24: 
25:     }
26: 
27: public:
28:     Scene* m_scene;
29:     int32_t m_guild_id = 0; //工会id
30: };
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/Ladder.cpp" line="27" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;Ladder::m_build_id,m_build_info,&apos; is not initialized in the constructor." web_identify="{&quot;identify&quot;:&quot;Ladder::m_build_id,m_build_info,&quot;}" func_info="global" content="17: // #include &quot;mmo3d.pb.h&quot;
18: #include &quot;mmo3d_func_skill_battle.pb.h&quot;       // for rep_E_S2C_PUSH_LADDER_C...
19: #include &quot;monster_define.h&quot;                   // for E_OBJECT_TYPES::E_OBJ_T...
20: #include &quot;net_peer_mgr.h&quot;                     // for CNetPeerMgr, g_NetPeerMgr
21: #include &quot;proto_macro.h&quot;                      // for RESPOND
22: #include &quot;protocol_define.h&quot;                  // for E_ERROR_TYPE::E_CORRECT
23: #include &quot;server_config.h&quot;                    // for g_ServerConfig, server_...
24: 
25: class CNetPeer;
26: 
27: Ladder::Ladder(const Location&amp; down_pos, const Location&amp; up_pos, int32_t stepnum, int32_t hp, size_t _excel_pos_index)
28: {
29:     m_type = E_OBJ_TYPE_LADDER;
30:     add_inherit_type(m_type);
31:     m_is_main = true;
32:     m_main_ladder = NULL;
33:     m_sub_ladder = NULL;
34:     initPos(down_pos, false);
35:     trans_pos = up_pos;
36: 
37:     m_steps.resize(stepnum, 0);  //用0 初始化
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/Ladder.cpp" line="46" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;Ladder::m_build_id,m_build_info,&apos; is not initialized in the constructor." web_identify="{&quot;identify&quot;:&quot;Ladder::m_build_id,m_build_info,&quot;}" func_info="global" content="36: 
37:     m_steps.resize(stepnum, 0);  //用0 初始化
38: 
39:     m_hp = hp;
40:     m_maxhp = hp;
41:     //m_faction =E_FACTION_ATTACK;
42:     m_can_hit_mov = false;
43:     excel_pos_index = _excel_pos_index;
44: }
45: 
46: Ladder::Ladder(Ladder* _main, const Location&amp; up_pos, size_t _excel_pos_index)
47: {
48:     m_type = E_OBJ_TYPE_LADDER;
49:     add_inherit_type(m_type);
50:     m_is_main = false;
51:     m_main_ladder = _main;
52:     m_hp = _main-&gt;m_maxhp;
53:     m_maxhp = _main-&gt;m_maxhp;
54:     m_sub_ladder = NULL;
55:     _main-&gt;m_sub_ladder = this;
56:     initPos(up_pos, false);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/LightVehicle.cpp" line="33" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;LightVehicle::m_build_info,&apos; is not initialized in the constructor." web_identify="{&quot;identify&quot;:&quot;LightVehicle::m_build_info,&quot;}" func_info="global" content="23: #include &quot;mmo3d_constant.pb.h&quot;               // for Constant
24: #include &quot;mmo3d_func_skill_battle.pb.h&quot;      // for rep_E_S2C_PUSH_ATTR_CHANGE
25: #include &quot;mmo3d_lightvehicle.pb.h&quot;           // for LightVehicle
26: #include &quot;monster_define.h&quot;                  // for E_OBJECT_TYPES::E_OBJ_TY...
27: #include &quot;proto_macro.h&quot;                     // for RESPOND
28: // #include &quot;mmo3d.pb.h&quot;
29: #include &quot;protocol_define.h&quot;                 // for E_ERROR_TYPE::E_CORRECT
30: // #include &quot;s2s_mmo3d.pb.h&quot;
31: #include &quot;sc_global_data.h&quot;                  // for ScGlobalData, g_ScGlobal...
32: 
33: LightVehicle::LightVehicle() : m_excel_id(0), m_owner(NULL), m_atk(0), m_crit(0), m_hit(0), m_deparry(0)
34: {
35:     m_type = E_OBJ_TYPE_LIGHT_VEHICLE;
36:     add_inherit_type(m_type);
37: }
38: 
39: void LightVehicle::Init(int32_t excel_id)
40: {
41:     m_excel_id = excel_id;
42:     auto it = g_ConstData.get_m_LightVehicle().find(excel_id);
43:     if (it != g_ConstData.get_m_LightVehicle().end())
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/MapBlockMgr.cpp" line="1177" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;MapBlock::mBlockCaculator,&apos; is not initialized in the constructor." web_identify="{&quot;identify&quot;:&quot;MapBlock::mBlockCaculator,&quot;}" func_info="global" content="1167: {
1168:     auto&amp;&amp; id = element-&gt;GetId();
1169:     if (!GetContainer(pos).insert(std::make_pair(id, element), partion).second) {
1170:         // ZLOG_ERROR(&quot;id(%d) already at block(%d, %d)!&quot;, id, pos.block_x, pos.block_y);
1171:         LERROR(&quot;id(&quot; &lt;&lt; id &lt;&lt; &quot;) already at block(&quot; &lt;&lt; pos.block_x &lt;&lt; &quot;, &quot; &lt;&lt; pos.block_y &lt;&lt; &quot;)!&quot;);
1172:     }
1173: 
1174:     //LDEBUG(&quot;AddElement id &quot; &lt;&lt; id);
1175: }
1176: 
1177: MapBlock::MapBlock()
1178: {
1179:     mScene = -1;
1180:     mMapIndex = -1;
1181: }
1182: //
1183: //MapBlock::MapBlock( int32_t scene, int32_t map_index )
1184: //{
1185: //	Init(scene, map_index);
1186: //}
1187: 
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/MapBlockMgr.cpp" line="425" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;ViewPoint::obj_id,has_entity,scene_id,&apos; is not initialized in the constructor." web_identify="{&quot;identify&quot;:&quot;ViewPoint::obj_id,has_entity,scene_id,&quot;}" func_info="global" content="415:     }
416: #endif
417: }
418: };  // namespace MapBlockWrapper
419: 
420: bool MapBlockWrapper::IsClientPlayer(ViewPointFastPtr view_point)
421: {
422:     return view_point-&gt;GetClientRoleId() &gt; 0;
423: }
424: 
425: ViewPoint::ViewPoint()
426: {
427:     static int32_t id_seed = 0;
428:     this-&gt;id = id_seed++;
429: 
430:     x = 0;
431:     y = 0;
432: }
433: 
434: void ViewPoint::BindObj(obj_id_t obj_id, bool has_entity, scene_copy_id_t scene_id, int64_t role_id)
435: {
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/Missile.cpp" line="284" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [m_skill] suggests that it may be null, but it has already been dereferenced at line 265." web_identify="{&quot;identify&quot;:&quot;m_skill&quot;}" func_info="void Missile::run_action_walker ( int64_t now )" content="274:         bool is_stop = SkillControl::deal_action(this, m_skill_action, 0, m_target_pos, now,
275:             m_owner_id, true, m_skill);
276:         //		++atk_count;
277:         if (is_stop)
278:         {
279:             m_skill_action.next_eff_time = 0;
280:         }
281:     }
282:     if (m_end_time &lt; now)
283:     {
284:         if (m_skill)
285:         {
286:             //把missile 从 skilleffect里移除
287:             m_skill-&gt;m_missiles.erase(m_sid);
288:         }
289:         LDEBUG(&quot;calc_action_targets set_to_be_removed:&quot;);
290:         set_to_be_removed();
291:     }
292: }
293: 
294: void Missile::calc_action_targets(Object* p_attacker, int32_t target_id)
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/ObjectSyncHelper.cpp" line="44" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_MOVE_NEW::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_MOVE_NEW::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_MOVE_NEW" content="34: #include &quot;modules/common/Tools.h&quot;                                // for Tools
35: #include &quot;modules/common/geometry.h&quot;                             // for inDi...
36: #include &quot;modules/common/geometry2.h&quot;                            // for gene...
37: #include &quot;monster_define.h&quot;                                      // for E_OB...
38: #include &quot;proto_macro.h&quot;                                         // for RESPOND
39: #include &quot;protocol_define.h&quot;                                     // for E_ER...
40: // #include &quot;s2s_mmo3d.pb.h&quot;
41: 
42: #define MAX_DIS_CHECK_PLAYER 60000
43: 
44: SCENE_MSG_HANDLE_HOOK(E_C2S_MOVE_NEW, ObjectSyncHelperModule::OnMsgUnitMove);
45: SCENE_MSG_HANDLE_HOOK(E_C2S_SYNC_OBJECT_PROP, ObjectSyncHelperModule::OnMsgSyncObjInfo);
46: 
47: ObjectSyncHelperModule::ObjectSyncHelperModule()
48: {
49: 
50: }
51: 
52: ObjectSyncHelperModule::~ObjectSyncHelperModule()
53: {
54: 
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/ObjectSyncHelper.cpp" line="45" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_SYNC_OBJECT_PROP::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_SYNC_OBJECT_PROP::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_SYNC_OBJECT_PROP" content="35: #include &quot;modules/common/geometry.h&quot;                             // for inDi...
36: #include &quot;modules/common/geometry2.h&quot;                            // for gene...
37: #include &quot;monster_define.h&quot;                                      // for E_OB...
38: #include &quot;proto_macro.h&quot;                                         // for RESPOND
39: #include &quot;protocol_define.h&quot;                                     // for E_ER...
40: // #include &quot;s2s_mmo3d.pb.h&quot;
41: 
42: #define MAX_DIS_CHECK_PLAYER 60000
43: 
44: SCENE_MSG_HANDLE_HOOK(E_C2S_MOVE_NEW, ObjectSyncHelperModule::OnMsgUnitMove);
45: SCENE_MSG_HANDLE_HOOK(E_C2S_SYNC_OBJECT_PROP, ObjectSyncHelperModule::OnMsgSyncObjInfo);
46: 
47: ObjectSyncHelperModule::ObjectSyncHelperModule()
48: {
49: 
50: }
51: 
52: ObjectSyncHelperModule::~ObjectSyncHelperModule()
53: {
54: 
55: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/PosInfo.cpp" line="23" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;PosInfo::m_lastUpdatePosTimeStamp,m_moveStatus,&apos; is not initialized in the constructor." web_identify="{&quot;identify&quot;:&quot;PosInfo::m_lastUpdatePosTimeStamp,m_moveStatus,&quot;}" func_info="global" content="13: #include &quot;data/Creature.h&quot;            // for Creature
14: #include &quot;data/Object.h&quot;              // for Object
15: #include &quot;data/SkillControl.h&quot;        // for Casting, SkillControl, CastingI...
16: #include &quot;frame_log.h&quot;                // for Log, LERROR, LWARN
17: #include &quot;geometry.h&quot;                 // for convertMUVec2toPOS2D
18: #include &quot;geometry2.h&quot;                // for vectorToFace
19: #include &quot;log4cplus/loggingmacros.h&quot;  // for LOG4CPLUS_MACRO_ERROR_LOG_LEVEL
20: #include &quot;mmo3d_constant.pb.h&quot;        // for Constant
21: #include &quot;sc_global_data.h&quot;           // for ScGlobalData, g_ScGlobalData
22: 
23: PosInfo::PosInfo() :
24:     m_sid(0), m_speed(0), m_last_pos_time(0), m_scene(NULL), m_back_speed(0), m_left_speed(0), m_move_dir(0),
25:     m_last_move_time(g_Clock.get_usec_time()), m_face(0)
26: {
27:     set_speed(6000);
28: }
29: 
30: PosInfo::~PosInfo() {}
31: 
32: void PosInfo::initPos(const Location&amp; pos, bool flash_client)
33: {
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/PveMonster2Robot.h" line="73" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;RobotCardConfig::attr,skill_list,passive_skill,skill_up,&apos; is not initialized in the constructor." web_identify="{&quot;identify&quot;:&quot;RobotCardConfig::attr,skill_list,passive_skill,skill_up,&quot;}" func_info="RobotCardConfig" content="63: 		card_core(cpy.card_core),
64: 		proper_roleid(cpy.proper_roleid),
65: 		soul_suit_id(cpy.soul_suit_id),
66: 		skill_lv(cpy.skill_lv),
67: 		attr(cpy.attr),	
68: 		skill_list(cpy.skill_list),
69: 		passive_skill(cpy.passive_skill),
70: 		skill_up(cpy.skill_up) {
71: 	}
72: 
73: 	RobotCardConfig(RobotCardConfig&amp;&amp; cpy) {
74: 		swap(cpy);
75: 	}
76: 
77: 	RobotCardConfig&amp; operator=(const RobotCardConfig&amp; cpy) {
78: 		clear();
79: 
80: 		RobotCardConfig tmp(cpy);
81: 		swap(tmp);
82: 		return *this;
83: 	}
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/SCAssociationTaskDungeon.cpp" line="162" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [p] suggests that it may be null, but it has already been dereferenced at line 158." web_identify="{&quot;identify&quot;:&quot;p&quot;}" func_info="bool SCAssociationTaskDungeon::AllocateRevivePoint ( SPlayer * p )" content="152:     auto* it = ConstDataHelper::AssociationTask::GetBossDungeonRevive(dungeon_id);
153:     if (it != nullptr) {
154:         if (it-&gt;revive_pos_size() &gt;= 3) {
155:             p-&gt;m_face = it-&gt;revive_pos(2);
156: 
157:             Location bpos(0, it-&gt;revive_pos(0), it-&gt;revive_pos(1));
158:             p-&gt;initPos(bpos, false);
159:             return true;
160:         }
161:     }
162:     if (p &amp;&amp; GetConfigPtr() &amp;&amp; GetConfigPtr()-&gt;birth_pos_size() &gt; 1) {
163:         Location bpos(0, GetConfigPtr()-&gt;birth_pos(0) * SCENE_POS_RATIO,
164:             GetConfigPtr()-&gt;birth_pos(1) * SCENE_POS_RATIO);
165: 
166:         p-&gt;initPos(bpos, false);
167:         return true;
168:     }
169:     return false;
170: }
171: 
172: void SCAssociationTaskDungeon::CalcAdjustFighting()
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/SCDungeon.cpp" line="145" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [cfg] suggests that it may be null, but it has already been dereferenced at line 136." web_identify="{&quot;identify&quot;:&quot;cfg&quot;}" func_info="SCDungeon::SCDungeon ( Scene * scene , const protos::Dungeon * cfg ) : m_imp ( new Imp ( ) )" content="135:     dungeon_step_ = E_DUNGEON_STEP_IDLE;
136:     dungeon_id_ = cfg-&gt;id();
137:     // cfg_ptr_ = cfg;
138:     start_time_ = Tools::game_now();
139:     dungeon_type_ = E_DUNGEON_TYPE_NORMAL;
140:     monster_wave_id_ = -1;
141:     monster_wave_ = 0;
142:     dungeon_through_state_ = E_DUNGEON_THROUGH_FAIL;
143:     
144:     // 初始化场景触发器
145:     if (cfg &amp;&amp; scene_) {
146:         LDEBUG(&quot;cfg-&gt;scene_trigger_size() &quot; &lt;&lt; cfg-&gt;scene_trigger_size());
147:         // ConstXmlData::doAfterDungeonLoad() 中修改了 cfg-&gt;scene_trigger
148:         // cfg-&gt;scene_trigger 与 excel里数据没关系
149:         for (int32_t i = 0; i &lt; cfg-&gt;scene_trigger_size(); ++i) {            
150:             LDEBUG(&quot;SCDungeon add[&quot; &lt;&lt; i &lt;&lt; &quot;] trigger &quot; &lt;&lt; cfg-&gt;scene_trigger(i));
151:             scene_-&gt;m_trigger_runner.AddTrigger(cfg-&gt;scene_trigger(i));
152:         }
153:         dungeon_type_ = static_cast&lt;EDungeonType&gt;(cfg-&gt;type());
154: 
155:         // 进入副本时不准计时
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/SCDungeon.cpp" line="188" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [scene_] to null at line 145 implies that [scene_ ] might be null.Dereferencing null pointer [scene_]." web_identify="{&quot;identify&quot;:&quot;scene_&quot;}" func_info="SCDungeon::SCDungeon ( Scene * scene , const protos::Dungeon * cfg ) : m_imp ( new Imp ( ) )" content="178:     {
179:         flag_bit_[i] = 0;
180:     }
181:     if (scene)
182:         scene-&gt;m_scInfo.copy_type = E_COPY_WATER_RIPPLE;
183:     create_time_ = Tools::game_now();  
184: 
185:     m_imp-&gt;Init(this);
186:     LDEBUG(&quot;SCDungeon Constructor&quot;);
187: 
188:     if (scene_-&gt;m_trigger_runner.IsHasCondition(E_SCTRG_CONDITION_OBJ_DISTANCE) == true) {
189:         LDEBUG(&quot;IsHasCondition E_SCTRG_CONDITION_OBJ_DISTANCE&quot;);
190:         m_imp-&gt;dungeon_trigger.OpenCondtion41();
191:     }
192: }
193: 
194: SCDungeon::~SCDungeon() { LINFO(&quot;~SCDungeon(),dungeon_id:&quot; &lt;&lt; dungeon_id_); }
195: 
196: void SCDungeon::BeforePlayerEnterBroadcast(SPlayer* p)
197: {
198:     if (p)
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/SCDungeon.cpp" line="884" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [scene_] suggests that it may be null, but it has already been dereferenced at line 863." web_identify="{&quot;identify&quot;:&quot;scene_&quot;}" func_info="void SCDungeon::UpdateClearStep ( time_t cur_time )" content="874:             {
875:                 it-&gt;second-&gt;set_to_be_removed();
876:             }
877:         }
878:     }
879: 
880:     LDEBUG(&quot;SCDungeon::UpdateClearStep, scene_-&gt;set_to_be_removed(), dungeon_id:&quot; &lt;&lt; dungeon_id_);
881: 
882:     if (cur_time - end_time_ &gt; 1800)
883:     {
884:         if(scene_)
885:         {
886:             Json::Value jv;
887:             scene_-&gt;DataSizeInfo().swap(jv);
888:             LERROR(&quot;SCDungeonUpdateClearStep:&quot;  &lt;&lt; scene_-&gt;debug_info()  &lt;&lt; &quot;,obj:&quot; &lt;&lt; jv.toStyledString() );
889:             scene_-&gt;set_to_be_removed();
890:         }
891:     }
892: 
893:     if (scene_-&gt;m_objs.empty())
894:     {
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/SCDungeonTrigger.cpp" line="233" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [dungeon_] suggests that it may be null, but it has already been dereferenced at line 219." web_identify="{&quot;identify&quot;:&quot;dungeon_&quot;}" func_info="void DungeonTrigger::GenerateMonsterEX0 ( DungeonTriggerData &amp; trigger_data )" content="223:                 gen_objparams.faction =
224:                     static_cast&lt;E_FACTION_TYPE&gt;(dungeon_-&gt;GetCreateParam().faction());
225:             }
226: 
227:             GenObjectGetResult result;
228:             result.genBaseMonsters = &amp;vec_gen_monsters;
229:             gen_objparams.baseMonsterParam = &amp;gen_mon_params;
230:             result.wave_id = xml_dungeon_mon_wave.wave_id;
231: 
232:             // 怪物id替换
233:             if (dungeon_ != nullptr) {
234:                 int32_t old_id = monster_id;
235:                 monster_id = ConstDataHelper::Dungeon::GetMonsterIdReplace(dungeon_-&gt;dungeon_id_, monster_id);
236:                 LDEBUG(&quot;monster_id[&quot; &lt;&lt; old_id &lt;&lt; &quot;] -&gt; new_id[&quot; &lt;&lt; monster_id &lt;&lt; &quot;]&quot;);
237:             }
238: 
239:             g_ScGlobalData.genMonsterFromExcel(dungeon_-&gt;scene_, monster_id, &amp;gen_objparams, &amp;result);
240:             for (auto v : vec_gen_monsters) {
241:                 v-&gt;m_dungeon_wave_id = monster_wave_id_;
242:             }
243:         }        
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/SCGuildContest.cpp" line="1322" id="nullpointer" subid="funcRetNullStatistic" severity="Serious" msg="return value of function [getPlayerRankByID] [assist_player_rank] isn&apos;t checked-null, however [19] times checked-null elsewhere." web_identify="getPlayerRankByID|assist_player_rank" func_info="rank_data* getPlayerRankByID(long)" content="1312:         }
1313:         // 击杀分自己不加助攻分
1314:         if (attacker_player-&gt;m_roleid == one.first)
1315:         {
1316:             continue;
1317:         }
1318: 
1319:         auto assist_player_rank = getPlayerRankByID(one.first);
1320:         auto assist_guild_rank = getGuildRankByID(one.second.guild_id);
1321: 
1322:         assist_player_rank-&gt;assist_honor += const_lua-&gt;content_assist_core();
1323:         assist_player_rank-&gt;assist_num += 1;
1324:         assist_player_rank-&gt;calc_score(true,this);
1325: 
1326:         auto assist_p = g_ScGlobalData.get_player_byid(one.first);
1327:         if (assist_p)
1328:         {
1329:             // 个人信息推送
1330:             RESPOND(E_C2S_GUILD_GVG_CONTEST_SELF_INFO) self_push;
1331:             MakeContestSelfInfo(self_push, one.first);
1332:             assist_p-&gt;player_push_msg(E_C2S_GUILD_GVG_CONTEST_SELF_INFO, self_push, SERVER_GG);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/SCGuildContest.cpp" line="1336" id="nullpointer" subid="funcRetNullStatistic" severity="Serious" msg="return value of function [getGuildRankByID] [assist_guild_rank] isn&apos;t checked-null, however [7] times checked-null elsewhere." web_identify="getGuildRankByID|assist_guild_rank" func_info="rank_data* getGuildRankByID(int)" content="1326:         auto assist_p = g_ScGlobalData.get_player_byid(one.first);
1327:         if (assist_p)
1328:         {
1329:             // 个人信息推送
1330:             RESPOND(E_C2S_GUILD_GVG_CONTEST_SELF_INFO) self_push;
1331:             MakeContestSelfInfo(self_push, one.first);
1332:             assist_p-&gt;player_push_msg(E_C2S_GUILD_GVG_CONTEST_SELF_INFO, self_push, SERVER_GG);
1333:             LDEBUG(&quot;E_C2S_GUILD_GVG_CONTEST_SELF_INFO &quot; &lt;&lt; self_push.ShortDebugString());
1334:         }
1335: 
1336:         assist_guild_rank-&gt;assist_honor += const_lua-&gt;content_assist_core();
1337:         assist_guild_rank-&gt;calc_score(false,this);
1338: 
1339:         //  数据埋点 助攻
1340:         REQUEST(E_S2S_GVG_DMP) dmp_push;
1341:         dmp_push.set_role_id(one.first);
1342:         dmp_push.set_guild_id(one.second.guild_id);
1343:         dmp_push.set_gvg_id(m_season_id);
1344:         dmp_push.set_gvg_type(2);
1345:         dmp_push.set_action_type(7);
1346:         dmp_push.set_color_id(Guild2Color(one.second.guild_id));
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/SCGuildContest.cpp" line="1422" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [m_scene] suggests that it may be null, but it has already been dereferenced at line 1286." web_identify="{&quot;identify&quot;:&quot;m_scene&quot;}" func_info="void SCGuildContest::OnPlayerDead ( SPlayer * player , Object * attacker )" content="1412:     push.mutable_challenger_data()-&gt;set_color_id(Guild2Color(attacker_player-&gt;m_guild_id));
1413:     attacker_player-&gt;ToHeadPortrait(push.mutable_challenger_data()-&gt;mutable_heads());
1414:     push.mutable_defender_data()-&gt;set_guild_id(player-&gt;m_guild_id);
1415:     push.mutable_defender_data()-&gt;set_name(player-&gt;Name());
1416:     push.mutable_defender_data()-&gt;set_role_id(player-&gt;m_roleid);
1417:     push.mutable_defender_data()-&gt;set_color_id(Guild2Color(player-&gt;m_guild_id));
1418:     player-&gt;ToHeadPortrait(push.mutable_defender_data()-&gt;mutable_heads());
1419: 
1420:     attacker_player-&gt;player_push_msg(E_S2C_GUILD_GVG_CONTEST_KILL, push, SERVER_GG);
1421: 
1422:     if (m_scene)
1423:     {
1424:         // 死亡标记推送
1425:         const Location&amp; player_pos = player-&gt;getCurPos();
1426:         RESPOND(E_S2C_GUILD_GVG_CONTEST_DEATH_MARK) death_push;
1427:         death_push.set_isok(E_CORRECT);
1428:         death_push.set_role_id(player-&gt;m_roleid);
1429:         death_push.set_end_time(Tools::game_now() + const_lua-&gt;diemark_time());
1430:         death_push.mutable_death_location()-&gt;set_x(player_pos.p2d.x);
1431:         death_push.mutable_death_location()-&gt;set_y(player_pos.p2d.y);
1432:         m_scene-&gt;push_msg2Allplayer(E_S2C_GUILD_GVG_CONTEST_DEATH_MARK, death_push);   
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/SCGuildGvgModule.cpp" line="100" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_GUILD_GVG_CONTEST_REPORT::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_GUILD_GVG_CONTEST_REPORT::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_GUILD_GVG_CONTEST_REPORT" content="90: // E_CS2SC_GUILD_GVG_ROLE_CHANGE = 2901,                   // 争夺战 玩家退出或加入公会
91: CROSS_MSG_HANDLE_HOOK(E_CS2SC_GUILD_GVG_ROLE_CHANGE, SCGuildGvgModule::OnMsgSCGVGRoleChange)
92: 
93: // E_CS2SC_GUILD_GVG_STRONG_ROLE_CHANGE = 2870,            // 猎人团GVG据点战 玩家退出
94: CROSS_MSG_HANDLE_HOOK(E_CS2SC_GUILD_GVG_STRONG_ROLE_CHANGE, SCGuildGvgModule::OnMsgSCGVGStrongRoleChange)
95: 
96: // E_C2S_GUILD_GVG_REMOVE_CARRY = 2937,                    // 猎人团GVG争夺战 卸下搬运物
97: SCENE_MSG_HANDLE_HOOK(E_C2S_GUILD_GVG_REMOVE_CARRY, SCGuildGvgModule::OnMsgRemoveCarry);
98: 
99: // E_C2S_GUILD_GVG_CONTEST_REPORT = 2938,                  // 猎人团GVG争夺战 事件报告
100: SCENE_MSG_HANDLE_HOOK(E_C2S_GUILD_GVG_CONTEST_REPORT, SCGuildGvgModule::OnMsgContestReport);
101: 
102: // E_C2S_GUILD_GVG_CONTEST_PERSONAL_RANK = 2941,            // 猎人团GVG争夺战 个人排名
103: SCENE_MSG_HANDLE_HOOK(E_C2S_GUILD_GVG_CONTEST_PERSONAL_RANK, SCGuildGvgModule::OnMsgContestPersonalRank);
104: 
105: // E_C2S_GUILD_GVG_CONTEST_SELF_INFO = 2942,               // 猎人团GVG争夺战 个人信息
106: SCENE_MSG_HANDLE_HOOK(E_C2S_GUILD_GVG_CONTEST_SELF_INFO, SCGuildGvgModule::OnMsgContestSelfInfo);
107: 
108: // E_GS2CC_GUILD_GVG_CONTEST_TASK_REWARD = 2955,             // 猎人团GVG争夺战 任务领奖
109: CROSS_MSG_HANDLE_HOOK(E_CC2SC_GUILD_GVG_CONTEST_TASK_REWARD, SCGuildGvgModule::OnMsgContestTaskReward)
110: 
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/SCGuildGvgModule.cpp" line="103" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_GUILD_GVG_CONTEST_PERSONAL_RANK::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_GUILD_GVG_CONTEST_PERSONAL_RANK::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_GUILD_GVG_CONTEST_PERSONAL_RANK" content="93: // E_CS2SC_GUILD_GVG_STRONG_ROLE_CHANGE = 2870,            // 猎人团GVG据点战 玩家退出
94: CROSS_MSG_HANDLE_HOOK(E_CS2SC_GUILD_GVG_STRONG_ROLE_CHANGE, SCGuildGvgModule::OnMsgSCGVGStrongRoleChange)
95: 
96: // E_C2S_GUILD_GVG_REMOVE_CARRY = 2937,                    // 猎人团GVG争夺战 卸下搬运物
97: SCENE_MSG_HANDLE_HOOK(E_C2S_GUILD_GVG_REMOVE_CARRY, SCGuildGvgModule::OnMsgRemoveCarry);
98: 
99: // E_C2S_GUILD_GVG_CONTEST_REPORT = 2938,                  // 猎人团GVG争夺战 事件报告
100: SCENE_MSG_HANDLE_HOOK(E_C2S_GUILD_GVG_CONTEST_REPORT, SCGuildGvgModule::OnMsgContestReport);
101: 
102: // E_C2S_GUILD_GVG_CONTEST_PERSONAL_RANK = 2941,            // 猎人团GVG争夺战 个人排名
103: SCENE_MSG_HANDLE_HOOK(E_C2S_GUILD_GVG_CONTEST_PERSONAL_RANK, SCGuildGvgModule::OnMsgContestPersonalRank);
104: 
105: // E_C2S_GUILD_GVG_CONTEST_SELF_INFO = 2942,               // 猎人团GVG争夺战 个人信息
106: SCENE_MSG_HANDLE_HOOK(E_C2S_GUILD_GVG_CONTEST_SELF_INFO, SCGuildGvgModule::OnMsgContestSelfInfo);
107: 
108: // E_GS2CC_GUILD_GVG_CONTEST_TASK_REWARD = 2955,             // 猎人团GVG争夺战 任务领奖
109: CROSS_MSG_HANDLE_HOOK(E_CC2SC_GUILD_GVG_CONTEST_TASK_REWARD, SCGuildGvgModule::OnMsgContestTaskReward)
110: 
111: // E_S2S_GUILD_GVG_CONTEST_SYN_STRONGHOLD_HONOR = 2956,    // 猎人团GVG争夺战 同步据点战荣誉点
112: CROSS_MSG_HANDLE_HOOK(E_S2S_GUILD_GVG_CONTEST_SYN_STRONGHOLD_HONOR, SCGuildGvgModule::OnMsgSynStrongholdHonor)
113: 
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/SCGuildGvgModule.cpp" line="106" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_GUILD_GVG_CONTEST_SELF_INFO::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_GUILD_GVG_CONTEST_SELF_INFO::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_GUILD_GVG_CONTEST_SELF_INFO" content="96: // E_C2S_GUILD_GVG_REMOVE_CARRY = 2937,                    // 猎人团GVG争夺战 卸下搬运物
97: SCENE_MSG_HANDLE_HOOK(E_C2S_GUILD_GVG_REMOVE_CARRY, SCGuildGvgModule::OnMsgRemoveCarry);
98: 
99: // E_C2S_GUILD_GVG_CONTEST_REPORT = 2938,                  // 猎人团GVG争夺战 事件报告
100: SCENE_MSG_HANDLE_HOOK(E_C2S_GUILD_GVG_CONTEST_REPORT, SCGuildGvgModule::OnMsgContestReport);
101: 
102: // E_C2S_GUILD_GVG_CONTEST_PERSONAL_RANK = 2941,            // 猎人团GVG争夺战 个人排名
103: SCENE_MSG_HANDLE_HOOK(E_C2S_GUILD_GVG_CONTEST_PERSONAL_RANK, SCGuildGvgModule::OnMsgContestPersonalRank);
104: 
105: // E_C2S_GUILD_GVG_CONTEST_SELF_INFO = 2942,               // 猎人团GVG争夺战 个人信息
106: SCENE_MSG_HANDLE_HOOK(E_C2S_GUILD_GVG_CONTEST_SELF_INFO, SCGuildGvgModule::OnMsgContestSelfInfo);
107: 
108: // E_GS2CC_GUILD_GVG_CONTEST_TASK_REWARD = 2955,             // 猎人团GVG争夺战 任务领奖
109: CROSS_MSG_HANDLE_HOOK(E_CC2SC_GUILD_GVG_CONTEST_TASK_REWARD, SCGuildGvgModule::OnMsgContestTaskReward)
110: 
111: // E_S2S_GUILD_GVG_CONTEST_SYN_STRONGHOLD_HONOR = 2956,    // 猎人团GVG争夺战 同步据点战荣誉点
112: CROSS_MSG_HANDLE_HOOK(E_S2S_GUILD_GVG_CONTEST_SYN_STRONGHOLD_HONOR, SCGuildGvgModule::OnMsgSynStrongholdHonor)
113: 
114: 
115: SCGuildGvgModule::SCGuildGvgModule() : IBaseModule()
116: {
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/SCGuildGvgModule.cpp" line="551" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_GVG_ASYNC_PVP_READY_CONFIRM::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_GVG_ASYNC_PVP_READY_CONFIRM::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_GVG_ASYNC_PVP_READY_CONFIRM" content="541: //     //     },
542: //     //     AsyncRequestHandlerNs::SendMessageEnv());
543: //     // auto battle_zone_id = g_ServerConfig.jsconfig[&quot;server_config&quot;][&quot;battle_field_zone&quot;][0].asInt();
544: //     // CommonFunctions::ForwardMessageCross(sc_req, E_S2S_GUILD_GVG_GET_AVERAGE_LEVEL, req_no, battle_zone_id,SERVER_CC, 0);
545: //     return average_level;
546: // }
547: 
548: 
549: 
550: //E_C2S_GVG_ASYNC_PVP_READY_CONFIRM = 2851,               //客户端战斗确认
551: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_GVG_ASYNC_PVP_READY_CONFIRM)
552: {
553:     if (p-&gt;m_scene &amp;&amp; p-&gt;m_scene-&gt;m_async_room)
554:     {
555:         p-&gt;m_scene-&gt;m_async_room-&gt;Confirm(p);
556:         return SetIsokAndReturn(E_CORRECT);
557:     }
558:     return SetIsokAndReturn(E_CORRECT);
559: }
560: 
561: //E_S2S_UPDATE_INFO_TO_SCENE = 2849,                      // 更新场景 信息 
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/SCGuildGvgModule.cpp" line="71" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_GVG_CONTEST_BATTLE_INFO::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_GVG_CONTEST_BATTLE_INFO::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_GVG_CONTEST_BATTLE_INFO" content="61: #include &quot;s2s_mmo3d_func_guild_gvg.pb.h&quot;                // for req_E_S2S_UPD...
62: #include &quot;sc_global_data.h&quot;                             // for ScGlobalData
63: #include &quot;scene_dungeon_define.h&quot;                       // for COPY_TYPE::E_...
64: #include &quot;task_define.h&quot;                                // for EnumTaskStatu...
65: 
66: 
67: //SCENE_MSG_HANDLE_HOOK(E_S2S_TALK_NOTIFY, SPlayerTrigger::OnMsgTalk);
68: //E_S2S_CROSS_SEASON_END = 2990,                          //赛季结束通知
69: CROSS_MSG_HANDLE_HOOK(E_S2S_CROSS_SEASON_END, SCGuildGvgModule::OnCrossSeasonEnd)
70: 
71: SCENE_MSG_HANDLE_HOOK(E_C2S_GVG_CONTEST_BATTLE_INFO, SCGuildGvgModule::ConstBattleInfo);
72: 
73: //E_C2S_USE_GVG_CONTEST_SKILL= 2885,                     // 猎人团GVG争夺战 发动技能 
74: SCENE_MSG_HANDLE_HOOK(E_C2S_USE_GVG_CONTEST_SKILL, SCGuildGvgModule::OnMsgUseContestGuildSkill);
75: 
76: //E_C2S_GVG_CONTEST_SKILL_INFO = 2893,                     // 战术技能信息 
77: SCENE_MSG_HANDLE_HOOK(E_C2S_GVG_CONTEST_SKILL_INFO, SCGuildGvgModule::OnMsgGetContestGuildSkillInfo);
78: 
79: CROSS_MSG_HANDLE_HOOK(E_S2S_RECYCLE_SCENE, SCGuildGvgModule::OnRecycleScene)
80: 
81: // // E_CS2SC_GUILD_GVG_SYN_OCCUPY = 2864,                    // 猎人团GVG 占领后通知中转场景玩家（配合2846）(CS到SC)
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/SCGuildGvgModule.cpp" line="74" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_USE_GVG_CONTEST_SKILL::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_USE_GVG_CONTEST_SKILL::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_USE_GVG_CONTEST_SKILL" content="64: #include &quot;task_define.h&quot;                                // for EnumTaskStatu...
65: 
66: 
67: //SCENE_MSG_HANDLE_HOOK(E_S2S_TALK_NOTIFY, SPlayerTrigger::OnMsgTalk);
68: //E_S2S_CROSS_SEASON_END = 2990,                          //赛季结束通知
69: CROSS_MSG_HANDLE_HOOK(E_S2S_CROSS_SEASON_END, SCGuildGvgModule::OnCrossSeasonEnd)
70: 
71: SCENE_MSG_HANDLE_HOOK(E_C2S_GVG_CONTEST_BATTLE_INFO, SCGuildGvgModule::ConstBattleInfo);
72: 
73: //E_C2S_USE_GVG_CONTEST_SKILL= 2885,                     // 猎人团GVG争夺战 发动技能 
74: SCENE_MSG_HANDLE_HOOK(E_C2S_USE_GVG_CONTEST_SKILL, SCGuildGvgModule::OnMsgUseContestGuildSkill);
75: 
76: //E_C2S_GVG_CONTEST_SKILL_INFO = 2893,                     // 战术技能信息 
77: SCENE_MSG_HANDLE_HOOK(E_C2S_GVG_CONTEST_SKILL_INFO, SCGuildGvgModule::OnMsgGetContestGuildSkillInfo);
78: 
79: CROSS_MSG_HANDLE_HOOK(E_S2S_RECYCLE_SCENE, SCGuildGvgModule::OnRecycleScene)
80: 
81: // // E_CS2SC_GUILD_GVG_SYN_OCCUPY = 2864,                    // 猎人团GVG 占领后通知中转场景玩家（配合2846）(CS到SC)
82: // CROSS_MSG_HANDLE_HOOK(E_CS2SC_GUILD_GVG_SYN_OCCUPY, SCGuildGvgModule::OnMsgSynOccupy)
83: 
84: // E_CS2SC_GVG_STRONGHOLD_TEAM_STATUS_CHANGE = 2866,       // 猎人团GVG 推送据点队伍状态变更(CS到SC)
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/SCGuildGvgModule.cpp" line="77" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_GVG_CONTEST_SKILL_INFO::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_GVG_CONTEST_SKILL_INFO::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_GVG_CONTEST_SKILL_INFO" content="67: //SCENE_MSG_HANDLE_HOOK(E_S2S_TALK_NOTIFY, SPlayerTrigger::OnMsgTalk);
68: //E_S2S_CROSS_SEASON_END = 2990,                          //赛季结束通知
69: CROSS_MSG_HANDLE_HOOK(E_S2S_CROSS_SEASON_END, SCGuildGvgModule::OnCrossSeasonEnd)
70: 
71: SCENE_MSG_HANDLE_HOOK(E_C2S_GVG_CONTEST_BATTLE_INFO, SCGuildGvgModule::ConstBattleInfo);
72: 
73: //E_C2S_USE_GVG_CONTEST_SKILL= 2885,                     // 猎人团GVG争夺战 发动技能 
74: SCENE_MSG_HANDLE_HOOK(E_C2S_USE_GVG_CONTEST_SKILL, SCGuildGvgModule::OnMsgUseContestGuildSkill);
75: 
76: //E_C2S_GVG_CONTEST_SKILL_INFO = 2893,                     // 战术技能信息 
77: SCENE_MSG_HANDLE_HOOK(E_C2S_GVG_CONTEST_SKILL_INFO, SCGuildGvgModule::OnMsgGetContestGuildSkillInfo);
78: 
79: CROSS_MSG_HANDLE_HOOK(E_S2S_RECYCLE_SCENE, SCGuildGvgModule::OnRecycleScene)
80: 
81: // // E_CS2SC_GUILD_GVG_SYN_OCCUPY = 2864,                    // 猎人团GVG 占领后通知中转场景玩家（配合2846）(CS到SC)
82: // CROSS_MSG_HANDLE_HOOK(E_CS2SC_GUILD_GVG_SYN_OCCUPY, SCGuildGvgModule::OnMsgSynOccupy)
83: 
84: // E_CS2SC_GVG_STRONGHOLD_TEAM_STATUS_CHANGE = 2866,       // 猎人团GVG 推送据点队伍状态变更(CS到SC)
85: CROSS_MSG_HANDLE_HOOK(E_CS2SC_GVG_STRONGHOLD_TEAM_STATUS_CHANGE, SCGuildGvgModule::OnMsgSCStrongholdTeamStatusChange)
86: 
87: // E_CS2SC_GVG_INFO_SYN = 2869,                            // 猎人团GVG 推送玩家2800(CS到SC)
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/SCGuildGvgModule.cpp" line="97" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_GUILD_GVG_REMOVE_CARRY::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_GUILD_GVG_REMOVE_CARRY::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_GUILD_GVG_REMOVE_CARRY" content="87: // E_CS2SC_GVG_INFO_SYN = 2869,                            // 猎人团GVG 推送玩家2800(CS到SC)
88: CROSS_MSG_HANDLE_HOOK(E_CS2SC_GVG_INFO_SYN, SCGuildGvgModule::OnMsgSCGVGInfoSyn)
89: 
90: // E_CS2SC_GUILD_GVG_ROLE_CHANGE = 2901,                   // 争夺战 玩家退出或加入公会
91: CROSS_MSG_HANDLE_HOOK(E_CS2SC_GUILD_GVG_ROLE_CHANGE, SCGuildGvgModule::OnMsgSCGVGRoleChange)
92: 
93: // E_CS2SC_GUILD_GVG_STRONG_ROLE_CHANGE = 2870,            // 猎人团GVG据点战 玩家退出
94: CROSS_MSG_HANDLE_HOOK(E_CS2SC_GUILD_GVG_STRONG_ROLE_CHANGE, SCGuildGvgModule::OnMsgSCGVGStrongRoleChange)
95: 
96: // E_C2S_GUILD_GVG_REMOVE_CARRY = 2937,                    // 猎人团GVG争夺战 卸下搬运物
97: SCENE_MSG_HANDLE_HOOK(E_C2S_GUILD_GVG_REMOVE_CARRY, SCGuildGvgModule::OnMsgRemoveCarry);
98: 
99: // E_C2S_GUILD_GVG_CONTEST_REPORT = 2938,                  // 猎人团GVG争夺战 事件报告
100: SCENE_MSG_HANDLE_HOOK(E_C2S_GUILD_GVG_CONTEST_REPORT, SCGuildGvgModule::OnMsgContestReport);
101: 
102: // E_C2S_GUILD_GVG_CONTEST_PERSONAL_RANK = 2941,            // 猎人团GVG争夺战 个人排名
103: SCENE_MSG_HANDLE_HOOK(E_C2S_GUILD_GVG_CONTEST_PERSONAL_RANK, SCGuildGvgModule::OnMsgContestPersonalRank);
104: 
105: // E_C2S_GUILD_GVG_CONTEST_SELF_INFO = 2942,               // 猎人团GVG争夺战 个人信息
106: SCENE_MSG_HANDLE_HOOK(E_C2S_GUILD_GVG_CONTEST_SELF_INFO, SCGuildGvgModule::OnMsgContestSelfInfo);
107: 
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/SCMultiDungeon.cpp" line="55" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;SCMultiDungeon::last_push_rank_time_,&apos; is not initialized in the constructor." web_identify="{&quot;identify&quot;:&quot;SCMultiDungeon::last_push_rank_time_,&quot;}" func_info="global" content="45: #include &quot;protocol_define.h&quot;                 // for E_PROTOCOL::E_S2C_PUSH_M...
46: #include &quot;s2s_mmo3d_func_dungeon.pb.h&quot;       // for req_E_S2GS_ERASE_ROLE_TM...
47: #include &quot;s2s_mmo3d_func_multi_dgn.pb.h&quot;     // for req_E_SC2GS_PUSH_MULTI_D...
48: #include &quot;sc_global_data.h&quot;                  // for ScGlobalData, g_ScGlobal...
49: #include &quot;sc_player_log.h&quot;                   // for sc_player_log
50: #include &quot;scene_dungeon_define.h&quot;            // for COPY_TYPE::E_COPY_DUNGEO...
51: 
52: class Object;
53: 
54: 
55: SCMultiDungeon::SCMultiDungeon(Scene* scene, const protos::Dungeon* cfg, int32_t multi_id) :
56:     SCDungeon(scene, cfg), multi_id_(multi_id)
57: {
58:     if (scene)
59:         scene-&gt;m_scInfo.copy_type = E_COPY_DUNGEON_MULTI_PLAYER;
60: }
61: 
62: SCMultiDungeon::~SCMultiDungeon() {}
63: void SCMultiDungeon::Init()
64: {
65:     SCDungeon::Init();
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/SCTrgAction.cpp" line="1958" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [pair.second] suggests that it may be null, but it has already been dereferenced at line 1956." web_identify="{&quot;identify&quot;:&quot;pair.second&quot;}" func_info="bool SCTrgAddBuff::DoAction ( SCTrgActionParam &amp; param )" content="1948:                 {
1949:                     continue;
1950:                 }
1951:                 m.second-&gt;add_buff(buff_id_, buff_ms_, 0, m.second, true, 3);
1952:                 LDEBUG(&quot;SCTrgAddBuff, DoAction: player_id &quot; &lt;&lt; m.second-&gt;m_sid &lt;&lt; &quot;buff_id&quot; &lt;&lt; buff_id_ &lt;&lt; &quot;,buff_ms_:&quot; &lt;&lt; buff_ms_);
1953:             }  
1954:         } else {
1955:             for (auto &amp;pair : param.scene-&gt;m_base_monsters) {
1956:                 if (pair.second-&gt;m_xml_index == buff_index_)
1957:                 {
1958:                     if (!pair.second)
1959:                     {
1960:                         continue;
1961:                     }
1962: 
1963:                     LDEBUG(&quot; SCTrgAddBuff::DoAction &quot; &lt;&lt; pair.second-&gt;m_xml_index);
1964:                     // 判断一下是不是映射机器人的怪物
1965:                     auto robot_itr = g_ConstData.get_m_mon_to_robot().find(pair.second-&gt;m_monster_id);
1966:                     if (robot_itr != g_ConstData.get_m_mon_to_robot().end())
1967:                     {
1968:                         for (auto player_itr = param.scene-&gt;m_players.begin(); player_itr != param.scene-&gt;m_players.end(); ++player_itr)
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/SCTrgAction.cpp" line="214" id="suspicious" subid="unConditionalBreakinLoop" severity="Warning" msg="An unconditional &apos;break/return/goto&apos; within a loop.It may be a mistake." web_identify="{&quot;identify&quot;:&quot;;&quot;}" func_info="bool SCTrgGenTypeUnitAct::DoAction ( SCTrgActionParam &amp; param )" content="204:     // 根据单位类型生成对应单位
205:     if (param.scene)
206:     {
207:         E_FACTION_TYPE faction = faction_;
208:         if (faction_ == E_FACTION_COUNTRY_END)
209:         {
210:             // 用场景里面玩家的阵营
211:             for (auto it = param.scene-&gt;m_players.begin(); it != param.scene-&gt;m_players.end(); ++it)
212:             {
213:                 faction = it-&gt;second-&gt;GetSceneFaction();
214:                 break;
215:             }
216:         }
217:         switch (unit_type_)
218:         {
219:         case E_SCTRG_TYPE_UNIT_MONSTER:
220:         {
221:             g_ScGlobalData.genMonster(param.scene, unit_id_, faction, pos_, nullptr, face_dir_);
222:             break;
223:         }
224:         case E_SCTRG_TYPE_UNIT_NPC:
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/SCTrgAction.cpp" line="405" id="suspicious" subid="unConditionalBreakinLoop" severity="Warning" msg="An unconditional &apos;break/return/goto&apos; within a loop.It may be a mistake." web_identify="{&quot;identify&quot;:&quot;;&quot;}" func_info="bool SCTrgRemoveTypeUnitAct::DoAction ( SCTrgActionParam &amp; param )" content="395: {
396:     if (param.scene)
397:     {
398:         E_FACTION_TYPE faction = faction_;
399:         if (faction_ == E_FACTION_COUNTRY_END)
400:         {
401:             // 用场景里面玩家的阵营
402:             for (auto it = param.scene-&gt;m_players.begin(); it != param.scene-&gt;m_players.end(); ++it)
403:             {
404:                 faction = it-&gt;second-&gt;GetSceneFaction();
405:                 break;
406:             }
407:         }
408:         switch (unit_type_)
409:         {
410:         case E_SCTRG_TYPE_UNIT_MONSTER:
411:         {
412:             Scene* scene = param.scene;
413:             for (auto it = scene-&gt;m_monster2s.begin(); it != scene-&gt;m_monster2s.end(); ++it)
414:             {
415:                 if (it-&gt;second-&gt;m_monster_id == unit_id_ &amp;&amp; it-&gt;second-&gt;GetSceneFaction() == faction)
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/SCTrgEvent.h" line="64" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;SCTrgEvent::conditon_param_,&apos; is not initialized in the constructor." web_identify="{&quot;identify&quot;:&quot;SCTrgEvent::conditon_param_,&quot;}" func_info="SCTrgEvent" content="54:     E_SCTRG_EVENT_LOGIC_AND_OR_CHECK = 33,              // 条件与或非检查
55:     E_SCTRG_EVENT_MAX
56: };
57: 
58: class SPlayer;
59: class Scene;
60: 
61: class SCTrgEvent
62: {
63: public:
64:     SCTrgEvent(ESCTrgEventType e) { event_type_ = e; }
65:     virtual ~SCTrgEvent() {}
66:     virtual void Trigger(Scene* scene);
67:     virtual void Trigger(SPlayer* player);
68: 
69:     // 尝试触发，用于判断是否有对应的触发器会执行
70:     virtual bool TryTrigger(Scene* scene);
71: 
72: public:
73:     ESCTrgEventType event_type_;
74:     SCTrgConditionParam conditon_param_;
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/SCTrigger.cpp" line="99" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [xml_cfg_ptr_] suggests that it may be null, but it has already been dereferenced at line 85." web_identify="{&quot;identify&quot;:&quot;xml_cfg_ptr_&quot;}" func_info="bool SCTrigger::DoTrigger ( SCTrgConditionParam &amp; run_param , bool only_check )" content="89:             SCTrgActDelayEnv delay_env;
90:             delay_env.trigger_id = xml_cfg_ptr_-&gt;id;
91:             delay_env.do_time = xml_cfg_ptr_-&gt;delay_time / 1000 + Tools::game_now();
92:             delay_env.run_param = act_run_param;
93:             run_param.scene-&gt;m_trigger_runner.AddDelayRunTrigger(xml_cfg_ptr_-&gt;id, delay_env);
94: 
95:             LDEBUG(&quot;SCTrigger deday action &quot; &lt;&lt; xml_cfg_ptr_-&gt;id &lt;&lt; &quot; &quot; &lt;&lt; delay_env.run_param.role_id);
96:         }
97: 
98:         // 副本进度加
99:         if (xml_cfg_ptr_ &amp;&amp; run_param.scene &amp;&amp; run_param.scene-&gt;m_dungeon) {
100:             if (xml_cfg_ptr_-&gt;progress_add &gt; 0)
101:                 run_param.scene-&gt;m_dungeon-&gt;AddProgress(xml_cfg_ptr_-&gt;progress_add);
102:         }
103:     }
104: 
105:     return result;
106: }
107: 
108: /*
109: // 初始化条件数据
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/SPlayer.cpp" line="3471" id="logic" subid="incorrectLogicOperator" severity="Warning" msg="Logical conjunction always evaluates to false: skill_id == 10002001 &amp;&amp; skill_id == 10003001." web_identify="{&quot;identify&quot;:&quot;skill_id == 10002001 &amp;&amp; skill_id == 10003001&quot;}" func_info="bool SPlayer::bt_skillExist ( int skill_id )" content="3461: 	{
3462: 		if (m_skills[i].skill_id == skill_id)
3463: 		{
3464: 			skill_exist = true;
3465: 			break;
3466: 		}
3467: 	}
3468: 	//@TODO:普攻技能 要做个另外形式判断
3469: 	if (E_CAREER_SOLDIER == m_career)
3470: 	{
3471: 		if (10002001 == skill_id &amp;&amp; 10003001 == skill_id)
3472: 		{
3473: 			skill_exist = true;
3474: 		}
3475: 	}
3476: 	else if (E_CAREER_ARCHER == m_career)
3477: 	{
3478: 		if (20002001 == skill_id &amp;&amp; 20003001 == skill_id)
3479: 		{
3480: 			skill_exist = true;
3481: 		}
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/SPlayer.cpp" line="3478" id="logic" subid="incorrectLogicOperator" severity="Warning" msg="Logical conjunction always evaluates to false: skill_id == 20002001 &amp;&amp; skill_id == 20003001." web_identify="{&quot;identify&quot;:&quot;skill_id == 20002001 &amp;&amp; skill_id == 20003001&quot;}" func_info="bool SPlayer::bt_skillExist ( int skill_id )" content="3468: 	//@TODO:普攻技能 要做个另外形式判断
3469: 	if (E_CAREER_SOLDIER == m_career)
3470: 	{
3471: 		if (10002001 == skill_id &amp;&amp; 10003001 == skill_id)
3472: 		{
3473: 			skill_exist = true;
3474: 		}
3475: 	}
3476: 	else if (E_CAREER_ARCHER == m_career)
3477: 	{
3478: 		if (20002001 == skill_id &amp;&amp; 20003001 == skill_id)
3479: 		{
3480: 			skill_exist = true;
3481: 		}
3482: 	}
3483: 
3484: 	return skill_exist;
3485: }
3486: 
3487: //技能是否满足释放条件
3488: bool SPlayer::bt_skillCanUse(int32_t skill_id)
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/SPlayer.h" line="378" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;_card::card_cur_hp,&apos; is not initialized in the constructor." web_identify="{&quot;identify&quot;:&quot;_card::card_cur_hp,&quot;}" func_info="global" content="368: // 卡牌信息
369: struct _card
370: {
371:     std::vector&lt;_transform_card&gt; transform_card;    // 配置的变身卡信息
372:     std::vector&lt;_kill_card&gt; kill_card;              // 配置的必杀技
373:     std::map&lt;int, int&gt;  card_cur_hp;                // 卡牌映射当前血量
374:     bool updateHp = false;
375: 
376:     _card() {}
377: 	
378:     _card(const _card&amp; cpy) 
379:     {
380:         transform_card = cpy.transform_card;
381:         kill_card = cpy.kill_card;
382:         updateHp = cpy.updateHp;
383: 	}
384: 
385: 	_card&amp; operator=(const _card&amp; cpy)
386:     {
387:         transform_card.clear();
388:         kill_card.clear();
" inconclusive="true"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/Scene.cpp" line="3293" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [pos] to null at line 3266 implies that [pos ] might be null.Dereferencing null pointer [pos]." web_identify="{&quot;identify&quot;:&quot;pos&quot;}" func_info="void Scene::check_and_change_new_commner_pos ( SPlayer * pPlayer , const Location * pos , SceneTransRuleParam * param )" content="3283:     }
3284: 
3285:     auto&amp;&amp; set_to_transfer_pos = [pos, pPlayer, this, param]() {
3286:         // 其他场景, 如果初始pos为空, 则传送到复活点
3287:         Location init_pos;
3288:         int32_t face = 0;
3289:         auto&amp;&amp; is_pos_empty = [pos]() {
3290:             return !pos || pos-&gt;layer &lt; 0 || /*(pos-&gt;layer == 0 &amp;&amp; pos-&gt;p2d.x == 0 &amp;&amp; pos-&gt;p2d.y == 0*/ pos-&gt;IsNull();
3291:         };
3292:         if (!is_pos_empty()) {
3293:             init_pos = *pos;
3294: 
3295:             if (param &amp;&amp; param-&gt;ignor_scene_pos_rule) {
3296:                 face = param-&gt;face;
3297:             } else {/* if (param &amp;&amp; param-&gt;ignor_scene_pos_rule == false)*/            
3298:                 using namespace ConstDataHelper::Scene;
3299:                 SceneBirthPos stpos;
3300:                 if (GetSceneBirthPosClosest(m_excel_id, pPlayer-&gt;GetSceneFaction(), *pos, stpos)) {
3301:                     init_pos = stpos.pos;
3302:                     face = stpos.face;
3303:                     LDEBUG(&quot;stpos.face &quot; &lt;&lt; stpos.face);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/Scene.cpp" line="3428" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [pPlayer] suggests that it may be null, but it has already been dereferenced at line 3410." web_identify="{&quot;identify&quot;:&quot;pPlayer&quot;}" func_info="void Scene::on_new_commer_comes_in ( SPlayer * pPlayer )" content="3418: 
3419:             if (roomP.teamid == E_ARENA_TEAM_ONE)
3420:                 pPlayer-&gt;m_arena_side = E_ARENA_TEAM_ONE;
3421:             else if (roomP.teamid == E_ARENA_TEAM_TWO)
3422:                 pPlayer-&gt;m_arena_side = E_ARENA_TEAM_TWO;
3423:             else
3424:             {
3425:                 LERROR(&quot;role(&quot; &lt;&lt; pPlayer-&gt;m_roleid &lt;&lt; &quot;) error teamid(&quot; &lt;&lt; roomP.teamid &lt;&lt; &quot;)&quot;);
3426:             }
3427:         }
3428:         if (pPlayer &amp;&amp; !pPlayer-&gt;m_is_online &amp;&amp; room-&gt;type == E_JINGJI_BATTLE_GUILD_RANK)
3429:         {
3430:             LDEBUG(&quot;deal area offline:&quot; &lt;&lt; pPlayer-&gt;m_roleid);
3431:             add_obj(pPlayer);
3432:             //把进入竞技场房间挪到这里，方便一些协议的先后顺序
3433:             if (room)
3434:             {
3435:                 //玩家进入场景了，判断房间是否可以开启了
3436:                 room-&gt;add_player(pPlayer);
3437:             }
3438: 
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/Script/MovementScript.cpp" line="41" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;MoveToPosScript::m_lastLostTime,&apos; is not initialized in the constructor." web_identify="{&quot;identify&quot;:&quot;MoveToPosScript::m_lastLostTime,&quot;}" func_info="global" content="31: 	return true;
32: }
33: 
34: // űֹͣ
35: bool IMovementScript::Stop()
36: {
37: 	m_bDelete = true; 
38: 	return true;
39: }
40: 
41: MoveToPosScript::MoveToPosScript(Creature* self, const Location&amp; targetPos, int intervalTime,
42: 	std::function&lt;void(enMoveStopType type, Creature* self, Creature* pTarget)&gt; cb):
43: 	IMovementScript(self, cb), m_nIntervalTime(intervalTime)
44: 
45: {
46: 	m_targetPos.x = targetPos.p2d.x / 1000.0f;
47: 	m_targetPos.y = targetPos.p2d.y / 1000.0f;
48: 	m_targetPos.z = targetPos.layer;
49: 
50: }
51: 
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/Script/MovementScript.cpp" line="58" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;MoveToPosScript::m_lastLostTime,&apos; is not initialized in the constructor." web_identify="{&quot;identify&quot;:&quot;MoveToPosScript::m_lastLostTime,&quot;}" func_info="global" content="48: 	m_targetPos.z = targetPos.layer;
49: 
50: }
51: 
52: // @self			ű
53: // @dis				ƶ
54: // @o				ƶ
55: // @intervalTime	ÿλüʱ
56: // @speed			ƶٶ
57: // @cb				ƶֹͣص
58: MoveToPosScript::MoveToPosScript(Creature* self, int dis, const Location&amp; o, int intervalTime, int speed,
59: 	std::function&lt;void(enMoveStopType type, Creature* self, Creature* pTarget)&gt; cb) :
60: 	IMovementScript(self, cb), m_nIntervalTime(intervalTime)
61: {
62: 	auto* pMoveInfo = self-&gt;GetMoveInterface();
63: 	Position posO(o.p2d.x / 1000.0f, o.p2d.y / 1000.0f, o.layer);
64: 	float fo = pMoveInfo-&gt;GetDir(posO);
65: 	m_targetPos = pMoveInfo-&gt;ComputeNextPos(pMoveInfo-&gt;GetCurServerPos(), fo, dis);
66: 	m_pMoveInfo-&gt;AddFlag(enMoveFlagSteepLine);
67: }
68: 
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/ShieldModule.cpp" line="250" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [attacker] suggests that it may be null, but it has already been dereferenced at line 236." web_identify="{&quot;identify&quot;:&quot;attacker&quot;}" func_info="void ShieldModule::OnAddBuff ( buff_info * pBuff , buff_effect * pBe , Creature * attacker )" content="240: 		int type = ((pBe-&gt;b_class == E_BUFF_SHIELD_DAMAGE_COUNT) ? cost_damage : cost_ackcount);
241: 		int64_t count = 0;
242: 		if (pBe-&gt;b_class == E_BUFF_SHIELD_DAMAGE_COUNT)
243: 		{
244: 			if (pBe-&gt;params[0] == 0)
245: 			{
246: 				if (pBe-&gt;params.size() &gt;= 2)
247: 				{
248: 					int64_t value = pBe-&gt;params[1];
249: 
250: 					if (attacker)
251: 					{
252: 						value *= (1.0f + attacker-&gt;GetAttr(shield_add_1, pBuff-&gt;attack_card_id) / 10000.0f) *
253: 							(1.0f + m_pSelf-&gt;GetAttr(shield_add_2, cardID) / 10000.0f);
254: 					}
255: 
256: 					count = value;
257: 				}
258: 			}
259: 			else
260: 			{
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/SkillControl.cpp" line="10180" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [it.second] suggests that it may be null, but it has already been dereferenced at line 10179." web_identify="{&quot;identify&quot;:&quot;it.second&quot;}" func_info="void SkillControl::MoveDis ( int64_t now , std::shared_ptr &lt; SkillEffect &gt; _skill )" content="10170: 					}
10171: 				}
10172: 			}
10173: 		}
10174: 
10175: 		// 技能产生位移触发 (对 self_move_type == 2 的技能推送)
10176: 		auto it = g_ConstData.get_m_SkillCast_2().find(_skill-&gt;m_skill_id);
10177: 		if (it != g_ConstData.get_m_SkillCast_2().end())
10178: 		{
10179: 			LDEBUG(&quot;E_C2S_CAST_SKILL move type&quot; &lt;&lt; it-&gt;second-&gt;self_move_type() &lt;&lt; &quot;,skill_id(&quot; &lt;&lt; _skill-&gt;m_skill_id);
10180: 			if (it-&gt;second &amp;&amp; it-&gt;second-&gt;self_move_type() == 2)
10181: 			{
10182: 				auto now_pos = owner-&gt;getCurPos();
10183: 				TRIGGER_HOOK(player_castskill_change_pos, owner, CVarList() &lt;&lt; _skill-&gt;m_skill_id &lt;&lt; old_pos.layer
10184: 					&lt;&lt; old_pos.p2d.x &lt;&lt; old_pos.p2d.y &lt;&lt; now_pos.layer &lt;&lt; now_pos.p2d.x &lt;&lt; now_pos.p2d.y);
10185: 			}
10186: 		}
10187: 	}
10188: }
10189: 
10190: // 位移计算
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/SkillControl.cpp" line="11348" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [p_attacker] suggests that it may be null, but it has already been dereferenced at line 11325." web_identify="{&quot;identify&quot;:&quot;p_attacker&quot;}" func_info="void SkillControl::objAttackCheckNeedPush ( Creature * p_attacker , SkillAction &amp; _action , std::vector &lt; SPlayer * &gt; &amp; pb_push_player , const std::vector &lt; SPlayer * &gt; &amp; pb_push_other_player )" content="11338: 			if (false == one.second-&gt;m_is_online) {
11339: 				continue;
11340: 			}
11341: 
11342: 			pb_push_player.push_back(one.second);
11343: 		}
11344: 		LDEBUG(&quot;objAttackCheckNeedPush escort_monster&quot;);
11345: 		return;
11346: 	}
11347: 
11348: 	if (p_attacker &amp;&amp; p_attacker-&gt;m_scene)
11349: 	{
11350: 		if (p_attacker-&gt;m_scene-&gt;IsDebugScene())
11351: 		{
11352: 			std::vector&lt;SPlayer*&gt; vec_debug_player;
11353: 			p_attacker-&gt;m_scene-&gt;GetDamageTestPushPlayer(vec_debug_player);
11354: 			if (!vec_debug_player.empty())
11355: 			{
11356: 				for (auto&amp; p : vec_debug_player)
11357: 				{
11358: 					for (auto&amp; other : pb_push_other_player)
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/SkillControl.cpp" line="11433" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [owner] to null at line 11385 implies that [owner ] might be null.Dereferencing null pointer [owner]." web_identify="{&quot;identify&quot;:&quot;owner&quot;}" func_info="bool SkillControl::change_skill_cd ( int skill_id , BufAttrChangeType change_type , int change_value , std::map &lt; int , int &gt; &amp; result , std::map &lt; int , int &gt; &amp; group_result )" content="11423: 	}
11424: 	auto ptr = CommonFunctions::get_map_value(m_groupcd_cast_time, gcd_group);
11425: 	if (!ptr)
11426: 	{
11427: 		return true;
11428: 	}
11429: 
11430: 	int32_t skill_gcd = it_cd-&gt;second-&gt;gcd();
11431: 	if (it_cd-&gt;second-&gt;speed_up() &gt; 0)
11432: 	{
11433: 		int32_t attr_atk_spd = owner-&gt;GetAttr(E_ATTR_TYPE_ATK_SPEED);
11434: 		skill_gcd = Tools::GetThousandTimesForAtkSpeed(skill_gcd, attr_atk_spd, true);
11435: 	}
11436: 
11437: 	//技能组cd记录的改成，下次可释放的时刻，算法要改一下
11438: 	if (BUF_ATTR_CHANGE_TYPE_PERCENTAGE == change_type)
11439: 	{
11440: 		*ptr += ((double)skill_gcd * (change_value) / 10000) * USEC_NUMBER_PER_MILI_SECOND;// 注: 减cd change_value 是负数, 所以用+没问题
11441: 	}
11442: 	else
11443: 	{
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/SkillControl.cpp" line="12517" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;TargetCalculator::p_attacker_player,p_attacker_monster,p_attacker_creature,&apos; is not initialized in the constructor." web_identify="{&quot;identify&quot;:&quot;TargetCalculator::p_attacker_player,p_attacker_monster,p_attacker_creature,&quot;}" func_info="global" content="12507: 		{
12508: 			continue;
12509: 		}
12510: 
12511: 		retTarget.push_back(obj);
12512: 	}
12513: 
12514: 	return retTarget;
12515: }
12516: 
12517: TargetCalculator::TargetCalculator(Object* _attacker, Object* _action_owner, SkillAction&amp; action,
12518: 	std::vector&lt;Creature*&gt;&amp; _v_targets, const Location&amp; _start_pos,
12519: 	const Location&amp; _target_pos, CalcTargetParam&amp; _param, int32_t _target_id,
12520: 	bool _is_missile) :
12521: 	start_pos(_start_pos),
12522: 	target_id(_target_id), p_attacker(_attacker), p_action_owner(_action_owner), _action(action), v_targets(_v_targets),
12523: 	target_pos(_target_pos), param(_param), is_missile(_is_missile)
12524: {
12525: }
12526: 
12527: TargetCalculator::~TargetCalculator() {}
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/SkillControl.cpp" line="1597" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [player] to null at line 1556 implies that [player ] might be null.Dereferencing null pointer [player]." web_identify="{&quot;identify&quot;:&quot;player&quot;}" func_info="int SkillControl::cast_skill ( int skill_id , int target_id , Location &amp; _pos , bool &amp; need_rush , Location &amp; rush_pos , const CastSkillParam &amp; param , Pos2D * pForward , bool bIsTargetPos , int clientMark )" content="1587: 						break;
1588: 					}
1589: 				}
1590: 
1591: 			});
1592: 	}
1593: 	
1594: 	if (bBanSlot)
1595: 	{
1596: 		LDEBUG(&quot;skill cast faild: ban slot : slot[&quot; &lt;&lt; slot &lt;&lt; &quot;], skill id [&quot;
1597: 			&lt;&lt; skill_id &lt;&lt; &quot;], card id [&quot; &lt;&lt; cardID &lt;&lt; &quot;]&quot; &lt;&lt; &quot; player id &quot; &lt;&lt; player-&gt;m_roleid);
1598: 
1599: 		return E_ERROR_CAST_FAILD_STATUS;
1600: 	}
1601: 
1602: 	// 技能CD判定
1603: 	if (!owner-&gt;m_gm_no_skill_cd &amp;&amp; !bCloneSkill &amp;&amp; !bPassiveSkill)
1604: 	{
1605: 		bool bCD = SkillCDModule::CanCastSkill(owner, cardID, skill_id);
1606: 		if (!bCD)
1607: 		{
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/SkillControl.cpp" line="2218" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [owner] suggests that it may be null, but it has already been dereferenced at line 2190." web_identify="{&quot;identify&quot;:&quot;owner&quot;}" func_info="int SkillControl::cast_skill ( int skill_id , int target_id , Location &amp; _pos , bool &amp; need_rush , Location &amp; rush_pos , const CastSkillParam &amp; param , Pos2D * pForward , bool bIsTargetPos , int clientMark )" content="2208: 			sl_it-&gt;second-&gt;skill_type() != E_HIDE_TRIGGER_SKILL_TYPE)
2209: 			//触发条件排除 血瓶、闪躲技能 光环技能(现在也不算)add by zhenmu 20190711
2210: 		{
2211: 			//buff的 施法触发条件 也要排除 普攻、血瓶、闪躲
2212: 			owner-&gt;check_buff_take_effect_interface_trigger(E_TRIGGER_HOST_CAST_SKILL);
2213: 			owner-&gt;GetBuffManger().host_take_buff_effect_interface(E_TRIGGER_OWNER_CAST_SKILL);
2214: 
2215: 			owner-&gt;check_touch_passive_skill(PASSIVESKILL_COND_SKILL, nullptr, 0, _skill-&gt;cast_card);
2216: 		}
2217: 	}
2218: 	if (owner)
2219: 	{
2220: 		owner-&gt;check_touch_passive_skill(PASSIVESKILL_COND_USE_TYPE_SKILL, nullptr, sl_it-&gt;second-&gt;skill_type(), _skill-&gt;cast_card);
2221: 	}
2222: 	//测试用 
2223: 	if (owner &amp;&amp; owner-&gt;m_scene)
2224: 	{
2225: 		owner-&gt;m_scene-&gt;CastSkillPushTest(owner-&gt;m_sid, skill_id);
2226: 	}
2227: 
2228: 
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/SkillControl.cpp" line="2290" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [owner] suggests that it may be null, but it has already been dereferenced at line 2277." web_identify="{&quot;identify&quot;:&quot;owner&quot;}" func_info="void SkillControl::do_delay_business ( )" content="2280: 				&lt;&lt; skillptr-&gt;skill_type() &lt;&lt; (void*)pTarget &lt;&lt; skillptr-&gt;skill_dam_type()
2281: 				&lt;&lt; skill-&gt;m_skill_seq &lt;&lt; skill-&gt;cast_card &lt;&lt; (int)0);
2282: 		}
2283: #ifndef DEBUG_HB
2284: 		LDEBUG(&quot;m_to_clear_skills&quot;);
2285: #endif
2286: 		m_skills.clear();
2287: 		m_skill_seq_id = 0;
2288: 		m_last_skill_combo_time = 0;  //被打断了，则可combo，即下一个技能是马上就可以执行
2289: 
2290: 		if (owner)
2291: 		{
2292: 			owner-&gt;m_rushing_time = 0;
2293: 			owner-&gt;m_rushing_duration = 0;
2294: 		}
2295: 		m_last_skill_id = 0;
2296: 		m_last_skill_seq = 0;
2297: 		m_delay_business.m_to_clear_skills = E_CLEAR_SKILL_NONE;
2298: 		// m_to_add_skills非空则已经加到m_skill容器中去,这边不需要重复处理了
2299: 		//		for(auto &amp;&amp;one: m_delay_business.m_to_add_skills)
2300: 		//			delete one;
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/SkillControl.cpp" line="3021" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [obj_] suggests that it may be null, but it has already been dereferenced at line 2936." web_identify="{&quot;identify&quot;:&quot;obj_&quot;}" func_info="bool check_condition_ok ( const act_effect_data &amp; _eff_data , Creature * obj , Creature * p_attacker_creature_or_null , std::function &lt; bool ( ) &gt; &amp;&amp; is_crit_getter , int cardID )" content="3011: 					(int64_t)obj_-&gt;GetCurHp(castcard) * 10000 / obj_-&gt;GetMapxHp(castcard) &gt;= _eff_data.cond_param[1])  //万分比
3012: 					return true;
3013: 			}
3014: 			else
3015: 				LERROR(&quot;excel error, param size error(&quot; &lt;&lt; _eff_data.cond_param.size() &lt;&lt; &quot;)&quot;);
3016: 			return false;
3017: 		};
3018: 
3019: 		// buff 类型
3020: 		auto exist_buff_class = [&amp;_eff_data](Creature* obj_, int card) -&gt; bool {
3021: 			if (!obj_)
3022: 				return false;
3023: 
3024: 			if (_eff_data.cond_param.empty())
3025: 			{
3026: 				return false;
3027: 			}
3028: 
3029: 			int layerCount = 0;
3030: 			int buff_type = _eff_data.cond_param[0];
3031: 
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/SkillControl.cpp" line="3199" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [obj] suggests that it may be null, but it has already been dereferenced at line 3175." web_identify="{&quot;identify&quot;:&quot;obj&quot;}" func_info="bool check_condition_ok ( const act_effect_data &amp; _eff_data , Creature * obj , Creature * p_attacker_creature_or_null , std::function &lt; bool ( ) &gt; &amp;&amp; is_crit_getter , int cardID )" content="3189: 			default:
3190: 				return false;
3191: 			}
3192: 
3193: 			return false;
3194: 		}
3195: 		break;
3196: 		// 具体玩法中才能生效
3197: 		case ACTION_COND_PLAY_TYPE:
3198: 		{
3199: 			if (!obj || !obj-&gt;m_scene|| _eff_data.cond_param.size() == 0)
3200: 			{
3201: 				return true;
3202: 			}
3203: 
3204: 			for (int z = 0; z &lt; _eff_data.cond_param.size(); ++z)
3205: 			{
3206: 				switch (_eff_data.cond_param[z])
3207: 				{
3208: 					// PVP
3209: 				case 1:
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/SkillControl.cpp" line="3543" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [p_attacker_player] suggests that it may be null, but it has already been dereferenced at line 3540." web_identify="{&quot;identify&quot;:&quot;p_attacker_player&quot;}" func_info="void EffectControl::OnBeDamage ( int cardID , int damage , int skillID )" content="3533: // 伤害结算
3534: void EffectControl::OnBeDamage(int cardID, int damage, int skillID)
3535: {
3536: 	// 大招伤害或者治疗随着消耗能量的增减，相应的比例处理
3537: 	// 获取最大能量系数接口
3538: 	damage *= TalentModule::GetEnergyRatio(p_attacker_player, card_id);
3539: 
3540: 	damage = CloneSpellModule::CorrectionDamage(p_attacker_player, skillID, damage);
3541: 
3542: 	// PVP 战力压制系数修正
3543: 	if (p_attacker_player)
3544: 	{
3545: 		damage = p_attacker_player-&gt;PvpDamageModify(damage, obj);
3546: 	}
3547: 
3548: 	// 分担伤害
3549: 	int oldValue = damage;
3550: 	damage = BuffEffectModule::ShareDamage(ObjCaster::CastSPlayer(obj), damage, cardID, skillID,
3551: 		enChangeHpType_Share, p_attacker_creature);
3552: 
3553: 	if (p_attacker_creature)
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/SkillControl.cpp" line="3799" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [obj] suggests that it may be null, but it has already been dereferenced at line 3750." web_identify="{&quot;identify&quot;:&quot;obj&quot;}" func_info="void EffectControl::ApplyDamage ( long damage , int ele_type , long oldTotalDamage , int subElementType )" content="3789: 		TRIGGER_HOOK(object_damage, obj, CVarList() &lt;&lt; p_player_attacker-&gt;m_sid &lt;&lt; _action.param.src_skill_id &lt;&lt; damage);
3790: 	}
3791: 	else
3792: 	{
3793: 		ChangeHpParam param(_action.param.src_skill_id);
3794: 		HpChangeParam vars(DamageSourceSkill, p_attacker_creature ? p_attacker_creature-&gt;m_sid : 0, card_id, _action.param.src_skill_id);
3795: 		obj-&gt;change_hp(damage, vars, p_attacker_creature-&gt;m_sid, false, &amp;get_param, &amp;param);
3796: 	}
3797: 
3798: 	damages.push_back(damage);
3799: 	if (obj &amp;&amp; (obj-&gt;m_type == E_OBJ_TYPE_PLAYER || obj-&gt;m_type == E_OBJ_TYPE_MONSTER2 ||
3800: 		obj-&gt;m_type == E_OBJ_TYPE_CARRIER || obj-&gt;m_type == E_OBJ_TYPE_BASE_MONSTER ||
3801: 		obj-&gt;m_type == E_OBJ_TYPE_STRAWBERRY))  //只统计人或者怪
3802: 	{
3803: 		++damage_targets;
3804: 		v_damage_targets.push_back(obj);
3805: 	}
3806: 
3807: 	//目标死亡后 各个荣誉变化， 掉落等处理
3808: 	if (old_state != E_STATE_DEAD)
3809: 	{
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/SkillControl.cpp" line="3869" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [p_attacker_creature] to null at line 3848 implies that [p_attacker_creature ] might be null.Dereferencing null pointer [p_attacker_creature]." web_identify="{&quot;identify&quot;:&quot;p_attacker_creature&quot;}" func_info="void EffectControl::BeDamagedTrigger ( int old_hp , int damage , int ele_type )" content="3859: 		return;
3860: 	}
3861: 
3862: 	if (E_STATE_DEAD != obj-&gt;m_state || E_STATE_NEED_REMOVE != obj-&gt;m_state)
3863: 	{
3864: 		// if(obj-&gt;m_type == E_OBJ_TYPE_PLAYER)
3865: 		{
3866: 			obj-&gt;check_touch_passive_skill(PASSIVESKILL_COND_UNDER_ATK, p_attacker_creature, 0, card_id);
3867: 
3868: 			//受击时触发  技能/buff
3869: 			if (p_attacker_creature-&gt;m_skill_ctrl.SkillIsCrit(p_attacker_creature, obj,
3870: 				pd_skill, card_id, obj-&gt;m_cur_card_sid))
3871: 			{
3872: 				obj-&gt;check_touch_passive_skill(PASSIVESKILL_COND_UNDER_CRIT, p_attacker_creature, 0, card_id);
3873: 			}
3874: 		}
3875: 		if (p_attacker_creature)
3876: 		{
3877: 			p_attacker_creature-&gt;check_buff_take_effect_interface_trigger(E_TRIGGER_HOST_DIE);
3878: 			p_attacker_creature-&gt;GetBuffManger().host_take_buff_effect_interface(E_TRIGGER_OWNER_DIE);
3879: 		}
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/SkillControl.cpp" line="4703" id="suspicious" subid="SuspiciousPriority" severity="Information" msg="The priority of the &apos;+&apos; operation is higher than that of the &apos;&lt;&lt;&apos; operation. It&apos;s possible that parentheses should be used in the expression." web_identify="" func_info="void EffectControl::SkillPullEffect ( int buff_id , int radius , int max_limit , int target_type , int ms_sec , int match_buff_group )" content="4693: 	ITable* pTable = self-&gt;FindTable(base_object::skill_pull_buff_);
4694: 	if (!pTable)
4695: 	{
4696: 		return;
4697: 	}
4698: 
4699: 	if (v_targets.empty())
4700: 		return;
4701: 	int64_t now = Tools::game_mill_now();
4702: 
4703: 	pTable-&gt;AddRow(CVarList() &lt;&lt; p_attacker_creature-&gt;m_sid &lt;&lt; buff_id &lt;&lt; now + ms_sec &lt;&lt; int32_t(1));
4704: 	for (auto&amp; v : v_targets)
4705: 	{
4706: 		if (match_buff_group &gt; 0)
4707: 		{
4708: 			if (v-&gt;find_buff_group(match_buff_group))//是否要指定 attacker
4709: 			{
4710: 				v-&gt;add_buff(buff_id, ms_sec, 0, self);
4711: 				pTable-&gt;AddRow(CVarList() &lt;&lt; v-&gt;m_sid &lt;&lt; buff_id &lt;&lt; now + ms_sec &lt;&lt; int32_t(0));
4712: 			}
4713: 		}
" inconclusive="true"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/SkillControl.cpp" line="4711" id="suspicious" subid="SuspiciousPriority" severity="Information" msg="The priority of the &apos;+&apos; operation is higher than that of the &apos;&lt;&lt;&apos; operation. It&apos;s possible that parentheses should be used in the expression." web_identify="" func_info="void EffectControl::SkillPullEffect ( int buff_id , int radius , int max_limit , int target_type , int ms_sec , int match_buff_group )" content="4701: 	int64_t now = Tools::game_mill_now();
4702: 
4703: 	pTable-&gt;AddRow(CVarList() &lt;&lt; p_attacker_creature-&gt;m_sid &lt;&lt; buff_id &lt;&lt; now + ms_sec &lt;&lt; int32_t(1));
4704: 	for (auto&amp; v : v_targets)
4705: 	{
4706: 		if (match_buff_group &gt; 0)
4707: 		{
4708: 			if (v-&gt;find_buff_group(match_buff_group))//是否要指定 attacker
4709: 			{
4710: 				v-&gt;add_buff(buff_id, ms_sec, 0, self);
4711: 				pTable-&gt;AddRow(CVarList() &lt;&lt; v-&gt;m_sid &lt;&lt; buff_id &lt;&lt; now + ms_sec &lt;&lt; int32_t(0));
4712: 			}
4713: 		}
4714: 		else
4715: 		{
4716: 			v-&gt;add_buff(buff_id, ms_sec, 0, self);
4717: 			pTable-&gt;AddRow(CVarList() &lt;&lt; v-&gt;m_sid &lt;&lt; buff_id &lt;&lt; now + ms_sec &lt;&lt; int32_t(0));
4718: 		}
4719: 	}
4720: 
4721: }
" inconclusive="true"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/SkillControl.cpp" line="4717" id="suspicious" subid="SuspiciousPriority" severity="Information" msg="The priority of the &apos;+&apos; operation is higher than that of the &apos;&lt;&lt;&apos; operation. It&apos;s possible that parentheses should be used in the expression." web_identify="" func_info="void EffectControl::SkillPullEffect ( int buff_id , int radius , int max_limit , int target_type , int ms_sec , int match_buff_group )" content="4707: 		{
4708: 			if (v-&gt;find_buff_group(match_buff_group))//是否要指定 attacker
4709: 			{
4710: 				v-&gt;add_buff(buff_id, ms_sec, 0, self);
4711: 				pTable-&gt;AddRow(CVarList() &lt;&lt; v-&gt;m_sid &lt;&lt; buff_id &lt;&lt; now + ms_sec &lt;&lt; int32_t(0));
4712: 			}
4713: 		}
4714: 		else
4715: 		{
4716: 			v-&gt;add_buff(buff_id, ms_sec, 0, self);
4717: 			pTable-&gt;AddRow(CVarList() &lt;&lt; v-&gt;m_sid &lt;&lt; buff_id &lt;&lt; now + ms_sec &lt;&lt; int32_t(0));
4718: 		}
4719: 	}
4720: 
4721: }
4722: 
4723: // 是否处于无敌帧CD中
4724: bool EffectControl::IsInDodgeCD(Creature* obj)
4725: {
4726: 	SPlayer* self = ObjCaster::CastSPlayer(obj);
4727: 	if (!self)
" inconclusive="true"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/SkillControl.cpp" line="5019" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [p_attacker_creature] suggests that it may be null, but it has already been dereferenced at line 4976." web_identify="{&quot;identify&quot;:&quot;p_attacker_creature&quot;}" func_info="void EffectControl::DealEffect ( bool is_attack )" content="5009: 			LDEBUG(&quot;skill add buff : buff id : &quot; &lt;&lt; buffID &lt;&lt; &quot; , skill id : &quot; &lt;&lt; _action.skill_id &lt;&lt; &quot; , action id : &quot; &lt;&lt; _action.action_id);
5010: 			auto code = AddBuff(_eff_data);
5011: 			if (code &lt; 0)
5012: 			{
5013: 				LWARN(&quot;E_IN_EFF_TYPE_ADD_BUFF error,code(&quot; &lt;&lt; code &lt;&lt; &quot;),action id(&quot; &lt;&lt; _action.action_id &lt;&lt; &quot;)&quot;);
5014: 			}
5015: 			break;
5016: 		}
5017: 		case E_IN_EFF_TYPE_CALL_MONSTER:
5018: 		{
5019: 			if (p_attacker_creature &amp;&amp; p_attacker_creature-&gt;m_scene)
5020: 			{
5021: 				if (_eff_data.data.size() &lt; E_IN_EFF_TYPE_CALL_MONSTER_SIZE)
5022: 				{
5023: 					LWARN(&quot;call monster error size:&quot; &lt;&lt; _eff_data.data.size() &lt;&lt; &quot;,&quot; &lt;&lt; _action.skill_id);
5024: 					break;
5025: 				}
5026: 				int32_t max_gen_count = _eff_data.data[6].values;
5027: 				LDEBUG(&quot;E_IN_EFF_TYPE_CALL_MONSTER max:&quot; &lt;&lt; max_gen_count);
5028: 				if (gen_call_monster_count &gt; max_gen_count)
5029: 				{
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/SkillControl.cpp" line="5257" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [obj] suggests that it may be null, but it has already been dereferenced at line 5210." web_identify="{&quot;identify&quot;:&quot;obj&quot;}" func_info="void EffectControl::DealEffect ( bool is_attack )" content="5247: 						LDEBUG(&quot;obj add hate sid(&quot; &lt;&lt; obj-&gt;m_sid &lt;&lt; &quot;),hate(&quot; &lt;&lt; add_hate &lt;&lt; &quot;),ratio(&quot; &lt;&lt; ratio
5248: 							&lt;&lt; &quot;),top hate(&quot; &lt;&lt; top_hate &lt;&lt; &quot;),target sid(&quot;
5249: 							&lt;&lt; p_attacker_creature-&gt;m_sid &lt;&lt; &quot;)&quot;);
5250: 					}
5251: 				}
5252: 			}
5253: 		}
5254: 		break;
5255: 		case E_IN_EFF_TYPE_COST_TENACITY:
5256: 		{
5257: 			if (obj &amp;&amp; p_attacker_creature)
5258: 			{
5259: 				int32_t cost_value = _eff_data.data[0].values;
5260: 				TenacityModule::CostTenacityByAttacked(p_attacker_creature, obj, cost_value);
5261: 			}
5262: 		}
5263: 		break;
5264: 		case E_IN_EFF_TYPE_COST_QI:
5265: 		{
5266: 			if (obj &amp;&amp; p_attacker_creature &amp;&amp; _eff_data.data.size() &gt; 0)
5267: 			{
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/SkillControl.cpp" line="6123" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;EffectControl::owner,p_attacker,p_attacker_creature,p_attacker_player,p_attacker_carrier_owner_player,p_attacker_monster,p_attacker_playerself_or_lorder,obj,&apos; is not initialized in the constructor." web_identify="{&quot;identify&quot;:&quot;EffectControl::owner,p_attacker,p_attacker_creature,p_attacker_player,p_attacker_carrier_owner_player,p_attacker_monster,p_attacker_playerself_or_lorder,obj,&quot;}" func_info="global" content="6113: 	// 当前正在结算的技能ID
6114: 	p_attacker_creature-&gt;skill_id = 0;
6115: 	p_attacker_creature-&gt;skill_damage_type = 0;
6116: 	p_attacker_creature-&gt;cast_card_id = 0;
6117: 	p_attacker_creature-&gt;attacker_target_race = 0;
6118: 	obj-&gt;skill_id = 0;
6119: 	obj-&gt;skill_damage_type = 0;
6120: 	obj-&gt;cast_card_id = 0;
6121: }
6122: 
6123: EffectControl::EffectControl(vector&lt;act_effect_data&gt;&amp; _v_eff_dats, DamageCalculator&amp; _damage_calculator,
6124: 	const int32_t&amp; _att, SkillAction&amp; action, DAMAGE_OBJECT&amp; _pb_push_shared,
6125: 	protos::damager*&amp; _damager, const bool&amp; _is_missile,
6126: 	const protos::SkillAction_2* _pd_skillact, bool&amp; _is_push_msg, vector&lt;int32_t&gt;&amp; _damages,
6127: 	int32_t&amp; _damage_targets, int32_t&amp; _gen_call_monster_count, CastSkillParam&amp; _param,
6128: 	bool&amp; _loop_stop_action, std::vector&lt;Creature*&gt;&amp; _v_damage_targets, int dmgType) :
6129: 	param(_param), v_eff_dats(_v_eff_dats),
6130: 	damage_calculator(_damage_calculator), att(_att), _action(action), pb_push_shared(_pb_push_shared),
6131: 	damager(_damager), is_missile(_is_missile), pd_skillact(_pd_skillact), is_push_msg(_is_push_msg), damages(_damages),
6132: 	damage_targets(_damage_targets), gen_call_monster_count(_gen_call_monster_count),
6133: 	loop_stop_action(_loop_stop_action), v_damage_targets(_v_damage_targets), special_damage_type(dmgType)
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/SkillControl.cpp" line="6856" id="suspicious" subid="unConditionalBreakinLoop" severity="Warning" msg="An unconditional &apos;break/return/goto&apos; within a loop.It may be a mistake." web_identify="{&quot;identify&quot;:&quot;;&quot;}" func_info="std::vector &lt; Creature * &gt; SkillControl::FindActionTarget ( SkillAction &amp; _action , Location &amp; owner_pos , Object * p_attacker , Object * attack_target , std::shared_ptr &lt; SkillEffect &gt; &amp; _skill , SPlayer * p_attacker_player , BaseMonster * p_attacker_monster , Object * p_action_owner , Location &amp; target_pos , Object * owner , bool is_missile , int &amp; target_id , Creature * p_attacker_creature , Location * start_pos , Location * pull_start_pos , Location &amp; call_mon_pos , CalcTargetParam &amp; param , ELEMENT_TYPE ele_type , const std::vector &lt; act_effect_data &gt; &amp; vec_effect )" content="6846: 			else
6847: 			{//新配置 Skill_module 表 处理
6848: 				std::vector&lt;int32_t&gt; vec_buff_id;
6849: 				for (const auto&amp; ef : vec_effect)
6850: 				{
6851: 					if (ef.type == E_IN_EFF_AREA_BUFF)
6852: 					{
6853: 						for (auto&amp; params : ef.data)
6854: 						{
6855: 							vec_buff_id.push_back(params.values);
6856: 							break;//只要一个参数
6857: 						}
6858: 					}
6859: 				}
6860: 
6861: 				if (!vec_buff_id.empty())
6862: 				{
6863: 					TRIGGER_HOOK(after_action_calculator, p_action_owner, CVarList() &lt;&lt; (void*)pd_skillact &lt;&lt; (void*)start_pos &lt;&lt; (void*)&amp;target_pos &lt;&lt; target_id &lt;&lt; (void*)&amp;_action &lt;&lt; (void*)p_attacker &lt;&lt; (void*)&amp;vec_buff_id);
6864: 				}
6865: 			}
6866: 		}
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/SkillControl.cpp" line="6894" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [p_action_owner] suggests that it may be null, but it has already been dereferenced at line 6732." web_identify="{&quot;identify&quot;:&quot;p_action_owner&quot;}" func_info="std::vector &lt; Creature * &gt; SkillControl::FindActionTarget ( SkillAction &amp; _action , Location &amp; owner_pos , Object * p_attacker , Object * attack_target , std::shared_ptr &lt; SkillEffect &gt; &amp; _skill , SPlayer * p_attacker_player , BaseMonster * p_attacker_monster , Object * p_action_owner , Location &amp; target_pos , Object * owner , bool is_missile , int &amp; target_id , Creature * p_attacker_creature , Location * start_pos , Location * pull_start_pos , Location &amp; call_mon_pos , CalcTargetParam &amp; param , ELEMENT_TYPE ele_type , const std::vector &lt; act_effect_data &gt; &amp; vec_effect )" content="6884: 
6885: 			if (target_id &gt; 0 &amp;&amp; !bRand)
6886: 			{
6887: 				//目标对象要保留
6888: 				for (vector&lt;Creature*&gt;::iterator vit = v_targets.begin();
6889: 					vit != v_targets.end(); ++vit)
6890: 				{
6891: 					auto obj = *vit;
6892: 
6893: 					// 优先选择焦点目标或者自己
6894: 					if (obj &amp;&amp; p_action_owner &amp;&amp; (obj-&gt;m_sid == target_id ||
6895: 						obj-&gt;m_sid == p_action_owner-&gt;m_sid))
6896: 					{
6897: 						t_targets.push_back(obj);
6898: 						v_targets.erase(vit);
6899: 						break;
6900: 					}
6901: 				}
6902: 			}
6903: 
6904: 			while (t_targets.size() &lt; numMax)
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/SkillControl.cpp" line="7289" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [p_action_owner_creature] to null at line 7243 implies that [p_action_owner_creature ] might be null.Dereferencing null pointer [p_action_owner_creature]." web_identify="{&quot;identify&quot;:&quot;p_action_owner_creature&quot;}" func_info="bool SkillControl::deal_action ( Object * owner , SkillAction &amp; _action , int target_id , Location &amp; target_pos , int64_t now , int skill_seq , bool is_missile , std::shared_ptr &lt; SkillEffect &gt; &amp; _skill , int lastSkillID )" content="7279: 
7280: 	// 焦点目标, 可能为nullptr
7281: 	Object* attack_target = p_attacker-&gt;m_scene-&gt;find_obj(target_id);
7282: 
7283: 	// 可能为nullptr;
7284: 	Creature* attack_target_creature = ObjCaster::CastCreature(attack_target);
7285: 
7286: 	//再检查一下当前状态是否可以结算技能伤害(是否被打断了)
7287: 
7288: 	// 只判定前台出战的角色
7289: 	if (_skill-&gt;cast_card == p_action_owner_creature-&gt;m_cur_card_sid)
7290: 	{
7291: 		if (IsBreak(p_action_owner_creature, _action))
7292: 		{
7293: 			if (p_attacker_creature &amp;&amp; p_attacker_creature-&gt;isFight()
7294: 				&amp;&amp; p_attacker-&gt;m_type == 0 &amp;&amp; pd_skill-&gt;skill_type() == 3)
7295: 			{
7296: 				LDEBUG(&quot;wys skill break: &quot; &lt;&lt; _action.skill_id &lt;&lt; &quot; action id &quot; &lt;&lt; _action.action_id &lt;&lt; &quot; attacker &quot; &lt;&lt; p_attacker-&gt;m_sid);
7297: 			}
7298: 
7299: 			return true;
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/SkillControl.cpp" line="7336" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [_skill] suggests that it may be null, but it has already been dereferenced at line 7289." web_identify="{&quot;identify&quot;:&quot;_skill&quot;}" func_info="bool SkillControl::deal_action ( Object * owner , SkillAction &amp; _action , int target_id , Location &amp; target_pos , int64_t now , int skill_seq , bool is_missile , std::shared_ptr &lt; SkillEffect &gt; &amp; _skill , int lastSkillID )" content="7326: 
7327: 	// 不知道干嘛的，大概是计算下一次序列执行时间，和判断当前序列能否执行
7328: 	if (_action.eff_count &gt; 0 &amp;&amp; (_action.start_time + act_loop_time_once *
7329: 		_action.eff_count * 1000LL &lt; now))
7330: 	{
7331: 		++_action.eff_count;
7332: 
7333: 		// 最后一次要触发的
7334: 		if (act_loop_time_once * _action.eff_count &gt; act_loop_time_max)
7335: 		{
7336: 			if (_skill &amp;&amp; _skill-&gt;m_delay_move_last_time &gt; 0 &amp;&amp;
7337: 				_skill-&gt;m_delay_move_time &gt;= now)
7338: 			{
7339: 				//是周期位移伤害，时间还没到则，不能算结束
7340: 			}
7341: 			else
7342: 			{
7343: 				//持续效果已结束
7344: 				_action.eff_count = -1;
7345: 			}
7346: 		}
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/SkillControl.cpp" line="7687" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [p_attacker_creature] to null at line 7656 implies that [p_attacker_creature ] might be null.Dereferencing null pointer [p_attacker_creature]." web_identify="{&quot;identify&quot;:&quot;p_attacker_creature&quot;}" func_info="bool SkillControl::deal_action ( Object * owner , SkillAction &amp; _action , int target_id , Location &amp; target_pos , int64_t now , int skill_seq , bool is_missile , std::shared_ptr &lt; SkillEffect &gt; &amp; _skill , int lastSkillID )" content="7677: 						mon2-&gt;stopMove();
7678: 						utime_t temp_t = now + 5 * USEC_NUMBER_PER_DOT_SECOND;  //暂时写死停0.5s
7679: 						if (temp_t &gt; mon2-&gt;m_cant_mov_time)
7680: 						{
7681: 							mon2-&gt;m_cant_mov_time = temp_t;
7682: 						}
7683: 						//}
7684: 					}
7685: 				}
7686: 
7687: 				if (p_attacker_creature-&gt;isNotFight())
7688: 				{
7689: 					p_attacker-&gt;change_state(E_STATE_FIGHT_ATTACK, now);
7690: 
7691: 					p_attacker_creature-&gt;AddSpellCount(_skill-&gt;cast_card, pd_skill-&gt;skill_dam_type(), pd_skill-&gt;skilllevel_group());
7692: 
7693: 					p_attacker_creature-&gt;check_touch_passive_skill(PASSIVESKILL_CAST_SKILL_TYPE1, NULL, _action.skill_id, _skill-&gt;cast_card);
7694: 				}
7695: 			}
7696: 
7697: 			protos::damager* pb_damager = pb_push.add_objects();
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/SkillControl.cpp" line="9212" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [owner] suggests that it may be null, but it has already been dereferenced at line 9209." web_identify="{&quot;identify&quot;:&quot;owner&quot;}" func_info="void SkillControl::SkillEffectDamage ( Creature * target , int targetCardid , std::vector &lt; act_effect_data &gt; &amp; effList , const protos::SkillInfo_2 * pSkillInfo , const protos::SkillAction_2 * pAction , long &amp; dmg , int &amp; dmgType , int seq , int &amp; subType , long &amp; xishouDmg , bool &amp; isCrit , long &amp; oldTotalDamage )" content="9202: 			int64_t damage = std::abs(_eff_data.data[0].values);
9203: 			if (E_IN_EFF_TYPE_CURE == _eff_data.type)
9204: 			{
9205: 				//根据攻击力计算数值
9206: 				damage = 10000 * damage / 10000;
9207: 			}
9208: 
9209: 			damage = CloneSpellModule::CorrectionDamage(owner, pSkillInfo-&gt;id(), damage);
9210: 
9211: 			// PVP 战力压制系数修正
9212: 			if (owner)
9213: 			{
9214: 				damage = owner-&gt;PvpDamageModify(damage, target);
9215: 			}
9216: 
9217: 			damage = std::max((int32_t)damage, 1);
9218: 
9219: 			dmg = -damage;
9220: 
9221: 			if (target-&gt;m_hp == target-&gt;m_maxhp)
9222: 			{
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/SkillControl.cpp" line="9789" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [attack] suggests that it may be null, but it has already been dereferenced at line 9786." web_identify="{&quot;identify&quot;:&quot;attack&quot;}" func_info="void SkillControl::OnBeDamage ( Creature * attack , Creature * target , int cardID , int damage , int skillID , int castCardID )" content="9779: // 伤害结算
9780: void SkillControl::OnBeDamage(Creature* attack, Creature* target, int cardID, int damage, int skillID, int castCardID)
9781: {
9782: 	// 大招伤害或者治疗随着消耗能量的增减，相应的比例处理
9783: 	// 获取最大能量系数接口
9784: 	damage *= TalentModule::GetEnergyRatio(ObjCaster::CastSPlayer(attack), attack-&gt;m_cur_card_sid);
9785: 
9786: 	damage = CloneSpellModule::CorrectionDamage(attack, skillID, damage);
9787: 	
9788: 	// PVP 战力压制系数修正
9789: 	if (attack &amp;&amp; target)
9790: 	{
9791: 		damage = attack-&gt;PvpDamageModify(damage, target);
9792: 
9793: 		damage = attack-&gt;BuffModifyDamageRatio(damage, target, target-&gt;m_cur_card_sid, castCardID);
9794: 	}
9795: 	
9796: 	// 分担伤害
9797: 	int oldValue = damage;
9798: 	damage = BuffEffectModule::ShareDamage(ObjCaster::CastSPlayer(target), damage, cardID, skillID,
9799: 		enChangeHpType_Share, attack);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/SkillControl.cpp" line="9802" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [target] to null at line 9789 implies that [target ] might be null.Dereferencing null pointer [target]." web_identify="{&quot;identify&quot;:&quot;target&quot;}" func_info="void SkillControl::OnBeDamage ( Creature * attack , Creature * target , int cardID , int damage , int skillID , int castCardID )" content="9792: 
9793: 		damage = attack-&gt;BuffModifyDamageRatio(damage, target, target-&gt;m_cur_card_sid, castCardID);
9794: 	}
9795: 	
9796: 	// 分担伤害
9797: 	int oldValue = damage;
9798: 	damage = BuffEffectModule::ShareDamage(ObjCaster::CastSPlayer(target), damage, cardID, skillID,
9799: 		enChangeHpType_Share, attack);
9800: 
9801: 	// 护盾吸收伤害
9802: 	damage = target-&gt;Shield.OnDamage(damage, enChangeHpType_Skill, skillID, cardID);
9803: 	if (damage == 0)
9804: 	{
9805: 		return;
9806: 	}
9807: 
9808: 	if (damage &lt;= 0)
9809: 	{
9810: 		return;
9811: 	}
9812: 
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/SkillDyncConfig.cpp" line="104" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_GS2SC_SKILL_DYNC::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_GS2SC_SKILL_DYNC::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_GS2SC_SKILL_DYNC" content="94: // 检测修改函数
95: CheckModifyMap SkillDyncModule::g_ModifyCB;
96: 
97: // 配置表
98: DyncMap SkillDyncModule::g_param;
99: DyncVec SkillDyncModule::g_config;
100: DyncLevelSet SkillDyncModule::g_SkillLevel;
101: std::map&lt;int, int&gt; SkillDyncModule::g_mapSkill2MainID;
102: 
103: // 消息注册
104: SCENE_MSG_HANDLE_HOOK(E_GS2SC_SKILL_DYNC, SkillDyncModule::OnMsgModifySkillDync);
105: //E_S2S_NOTIFY_PUSH_CRAD_SKILL_INFO = 7544,        //GS2SC 通知场景服 推送技能等级信息
106: SkillDyncModule::SkillDyncModule() : IBaseModule()
107: {
108: 
109: }
110: 
111: SkillDyncModule::~SkillDyncModule()
112: {
113: 
114: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/SkillDyncConfig.cpp" line="2572" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_S2S_NOTIFY_PUSH_CRAD_SKILL_INFO::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_S2S_NOTIFY_PUSH_CRAD_SKILL_INFO::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_S2S_NOTIFY_PUSH_CRAD_SKILL_INFO" content="2562: {
2563: 	if (cfg.param.size() &lt; 1)
2564: 	{
2565: 		return;
2566: 	}
2567: 
2568: 	cfg.dyncParam.insert(cfg.dyncParam.end(), cfg.param.begin(), cfg.param.end());
2569: }
2570: 
2571: //E_S2S_NOTIFY_PUSH_CRAD_SKILL_INFO = 7544,        //GS2SC 通知场景服 推送技能等级信息
2572: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_S2S_NOTIFY_PUSH_CRAD_SKILL_INFO)
2573: {
2574:     p-&gt;PushDyncSkillInfo(req.skill_id());
2575:     return OPER_RES_DONNOT_RETURN;
2576: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/SkillDyncConfig.h" line="75" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;ModifyConfig::skillID,&apos; is not initialized in the constructor." web_identify="{&quot;identify&quot;:&quot;ModifyConfig::skillID,&quot;}" func_info="ModifyConfig" content="65: 
66: // 配置表
67: struct ModifyConfig
68: {
69: 	int						id;			// id
70: 	int						type;		// 类型 ModifyType
71: 	std::vector&lt;uint32_t&gt;	param;		// 参数集
72: 	int						skillID;	// 技能ID
73: 	std::vector&lt;uint32_t&gt;	dyncParam;	// 修改后的动态参数
74: 
75: 	ModifyConfig():id(0), type(0) {}
76: 
77: 	ModifyConfig(const ModifyConfig&amp; cpy) :id(cpy.id), type(cpy.type), param(cpy.param),
78: 		skillID(cpy.skillID), dyncParam(cpy.dyncParam){}
79: 
80: 	ModifyConfig(ModifyConfig&amp;&amp; cpy) :id(cpy.id), type(cpy.type), param(std::move(cpy.param)),
81: 		skillID(cpy.skillID), dyncParam(std::move(cpy.dyncParam)) {}
82: 
83: 	ModifyConfig&amp; operator=(const ModifyConfig&amp; cpy) {
84: 		id = cpy.id; 
85: 		type = cpy.type; 
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/SkillEffect.cpp" line="28" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;SkillEffect::m_move_over,&apos; is not initialized in the constructor." web_identify="{&quot;identify&quot;:&quot;SkillEffect::m_move_over,&quot;}" func_info="global" content="18: #include &quot;sc_global_data.h&quot;           // for ScGlobalData, g_ScGlobalData
19: 
20: SkillEffect::SkillEffect() :
21:     m_skill_seq(0), m_skill_id(0), m_cast_time(0), m_end_time(0), m_target_id(0), 
22:     m_delay_move_time(0), m_delay_move_dis(0), m_delay_move_last_time(0)
23: {
24: }
25: 
26: SkillEffect::~SkillEffect() {}
27: 
28: SkillEffect::SkillEffect(const SkillEffect&amp; cpy)
29: {
30: 	m_skill_seq = cpy.m_skill_seq;
31: 	m_skill_id = cpy.m_skill_id;
32: 	m_cast_time = cpy.m_cast_time;
33: 	m_end_time = cpy.m_end_time;
34: 
35: 	m_target_pos = cpy.m_target_pos;
36: 	m_self_start_pos = cpy.m_self_start_pos;
37: 	m_target_id = cpy.m_target_id;
38: 	l_action_list = cpy.l_action_list;
" inconclusive="true"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/SkillHelperModule.cpp" line="108" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_FOCUS_TARGET::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_FOCUS_TARGET::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_FOCUS_TARGET" content="98: std::map&lt;int, int&gt; SkillHelperModule::g_NotValidSelfBuffQTE;
99: std::map&lt;int, int&gt; SkillHelperModule::g_NotValidTargetBuffQTE;
100: 
101: ElementReactionMap SkillHelperModule::g_ElementReactionQTE;
102: 
103: // 残影消失结束列表
104: std::set&lt;int&gt;	SkillHelperModule::g_NotValidCanyinQTE;
105: 
106: std::map&lt;int, std::vector&lt;EnergyEx&gt;&gt; SkillHelperModule::g_mapCardEnergyEx;
107: 
108: SCENE_MSG_HANDLE_HOOK(E_C2S_FOCUS_TARGET, SkillHelperModule::OnMsgModifyFocusTarget);
109: SCENE_MSG_HANDLE_HOOK(E_C2S_UNIT_INFO, SkillHelperModule::OnMsgRequestObjectPos);
110: 
111: void SkillHelperModule::Init()
112: {
113: 	// 玩家技能改变时hook
114: 	REGISTER_HOOK(player_skill_change, OnPlayerSkillChangeHook, 0);
115: 
116: 	// 玩家释放技能产生位移时触发hook
117: 	REGISTER_HOOK(player_castskill_change_pos, OnPlayerCastSkillChangePosHook, 0);
118: 
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/SkillHelperModule.cpp" line="109" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_UNIT_INFO::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_UNIT_INFO::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_UNIT_INFO" content="99: std::map&lt;int, int&gt; SkillHelperModule::g_NotValidTargetBuffQTE;
100: 
101: ElementReactionMap SkillHelperModule::g_ElementReactionQTE;
102: 
103: // 残影消失结束列表
104: std::set&lt;int&gt;	SkillHelperModule::g_NotValidCanyinQTE;
105: 
106: std::map&lt;int, std::vector&lt;EnergyEx&gt;&gt; SkillHelperModule::g_mapCardEnergyEx;
107: 
108: SCENE_MSG_HANDLE_HOOK(E_C2S_FOCUS_TARGET, SkillHelperModule::OnMsgModifyFocusTarget);
109: SCENE_MSG_HANDLE_HOOK(E_C2S_UNIT_INFO, SkillHelperModule::OnMsgRequestObjectPos);
110: 
111: void SkillHelperModule::Init()
112: {
113: 	// 玩家技能改变时hook
114: 	REGISTER_HOOK(player_skill_change, OnPlayerSkillChangeHook, 0);
115: 
116: 	// 玩家释放技能产生位移时触发hook
117: 	REGISTER_HOOK(player_castskill_change_pos, OnPlayerCastSkillChangePosHook, 0);
118: 
119: 	// 技能效果计算前HOOK
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/SkillHelperModule.cpp" line="3825" id="suspicious" subid="SuspiciousPriority" severity="Information" msg="The priority of the &apos;+&apos; operation is higher than that of the &apos;&lt;&lt;&apos; operation. It&apos;s possible that parentheses should be used in the expression." web_identify="" func_info="void SkillHelperModule::CheckDealSkillPullBuffOnDead ( Creature * pObj )" content="3815: 				max_distance_sql = distance;
3816: 				target_obj = obj;
3817: 			}
3818: 		}
3819: 		if(target_obj)
3820: 		{
3821: 			ITable* target_pTable = target_obj-&gt;FindTable(base_object::skill_pull_buff_);
3822: 			if (target_pTable)
3823: 			{
3824: 				target_obj-&gt;add_buff(attacker_buff_id, tmp_left_ms, 0, p_creature);
3825: 				target_pTable-&gt;AddRow(CVarList() &lt;&lt; p_creature-&gt;m_sid &lt;&lt; attacker_buff_id &lt;&lt;  now + tmp_left_ms &lt;&lt;  int32_t(1));
3826: 				for(auto &amp;obj:remain_obj_vec)
3827: 				{
3828: 					if(obj != target_obj)
3829: 					{//继承buff
3830: 						LDEBUG(&quot;OnCreatureDead add_one_buff sid: &quot; &lt;&lt; obj-&gt;m_sid &lt;&lt; &quot; , buff_id : &quot; &lt;&lt; tmp_buff_id);
3831: 						obj-&gt;add_buff(tmp_buff_id, tmp_left_ms, 0, target_obj);
3832: 						target_pTable-&gt;AddRow(CVarList() &lt;&lt; obj-&gt;m_sid &lt;&lt; tmp_buff_id &lt;&lt;  now + tmp_left_ms &lt;&lt; 0);
3833: 					}
3834: 				}
3835: 			}
" inconclusive="true"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/SkillHelperModule.cpp" line="3832" id="suspicious" subid="SuspiciousPriority" severity="Information" msg="The priority of the &apos;+&apos; operation is higher than that of the &apos;&lt;&lt;&apos; operation. It&apos;s possible that parentheses should be used in the expression." web_identify="" func_info="void SkillHelperModule::CheckDealSkillPullBuffOnDead ( Creature * pObj )" content="3822: 			if (target_pTable)
3823: 			{
3824: 				target_obj-&gt;add_buff(attacker_buff_id, tmp_left_ms, 0, p_creature);
3825: 				target_pTable-&gt;AddRow(CVarList() &lt;&lt; p_creature-&gt;m_sid &lt;&lt; attacker_buff_id &lt;&lt;  now + tmp_left_ms &lt;&lt;  int32_t(1));
3826: 				for(auto &amp;obj:remain_obj_vec)
3827: 				{
3828: 					if(obj != target_obj)
3829: 					{//继承buff
3830: 						LDEBUG(&quot;OnCreatureDead add_one_buff sid: &quot; &lt;&lt; obj-&gt;m_sid &lt;&lt; &quot; , buff_id : &quot; &lt;&lt; tmp_buff_id);
3831: 						obj-&gt;add_buff(tmp_buff_id, tmp_left_ms, 0, target_obj);
3832: 						target_pTable-&gt;AddRow(CVarList() &lt;&lt; obj-&gt;m_sid &lt;&lt; tmp_buff_id &lt;&lt;  now + tmp_left_ms &lt;&lt; 0);
3833: 					}
3834: 				}
3835: 			}
3836: 		}
3837: 	}
3838: 	else
3839: 	{
3840: 		// 移除buff
3841: 		for(auto &amp;obj:remain_obj_vec)
3842: 		{
" inconclusive="true"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/SplayerTrigger.cpp" line="56" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_S2S_TALK_NOTIFY::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_S2S_TALK_NOTIFY::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_S2S_TALK_NOTIFY" content="46: #include &quot;mmo3d_x_attribution.pb.h&quot;
47: #include &quot;modules/common/buff_define.h&quot;
48: #include &quot;modules/common/passive_skill_define.h&quot;
49: #include &quot;monster_define.h&quot;
50: #include &quot;proto_macro.h&quot;
51: #include &quot;protocol_define.h&quot;
52: #include &quot;s2s_mmo3d.pb.h&quot;
53: #include &quot;sc_global_data.h&quot;
54: 
55: 
56: SCENE_MSG_HANDLE_HOOK(E_S2S_TALK_NOTIFY, SPlayerTrigger::OnMsgTalk);
57: 
58: SPlayerTrigger::SPlayerTrigger() : IBaseModule()
59: {
60: 
61: }
62: 
63: SPlayerTrigger::~SPlayerTrigger()
64: {
65: 
66: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/SplayerTrigger.cpp" line="770" id="logic" subid="UnintentionalOverflow" severity="Warning" msg="Potentially overflowing expression around operator [ * ], which is evaluated using 4 byte arithmetic, and then used in a context that expects an expression of 8 bytes type." web_identify="{&quot;identify&quot;:&quot;server_day10000*&quot;}" func_info="void SPlayerTrigger::ReCalcCardScoreBalanceParam ( SPlayer * pPlayer )" content="760:             else if(2 == modify_type)
761:             {//等级压制
762:                 recommend_param =  dungeon_ptr-&gt;recommend_lv_new(curRound);        
763:             }
764:             else if(3 == modify_type)
765:             {//等级压制（账号等级）
766:                 recommend_param = dungeon_ptr-&gt;recommend_lv_new(curRound); 
767:             }
768:             else if(4 == modify_type)
769:             {//世界等级压制
770:                 param = server_day * 10000;
771:                 recommend_param = dungeon_ptr-&gt;suppression_lv_new(curRound);
772:             }
773:             else if (modify_type &gt;= 400 &amp;&amp; modify_type &lt;= 499)
774:             {
775:                 // 世界等级压制
776:                 param = server_day * 10000;
777:                 recommend_param = dungeon_ptr-&gt;suppression_lv_new(curRound);
778:             }
779:             if(recommend_param &lt;= 0)
780:             {
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/SplayerTrigger.cpp" line="776" id="logic" subid="UnintentionalOverflow" severity="Warning" msg="Potentially overflowing expression around operator [ * ], which is evaluated using 4 byte arithmetic, and then used in a context that expects an expression of 8 bytes type." web_identify="{&quot;identify&quot;:&quot;server_day10000*&quot;}" func_info="void SPlayerTrigger::ReCalcCardScoreBalanceParam ( SPlayer * pPlayer )" content="766:                 recommend_param = dungeon_ptr-&gt;recommend_lv_new(curRound); 
767:             }
768:             else if(4 == modify_type)
769:             {//世界等级压制
770:                 param = server_day * 10000;
771:                 recommend_param = dungeon_ptr-&gt;suppression_lv_new(curRound);
772:             }
773:             else if (modify_type &gt;= 400 &amp;&amp; modify_type &lt;= 499)
774:             {
775:                 // 世界等级压制
776:                 param = server_day * 10000;
777:                 recommend_param = dungeon_ptr-&gt;suppression_lv_new(curRound);
778:             }
779:             if(recommend_param &lt;= 0)
780:             {
781:                 continue;
782:             }
783: 
784:             if (1 == modify_type)
785:             {
786:                 LDEBUG(&quot;ReCalcCardScoreBalanceParam &quot; &lt;&lt; dungeon_ptr-&gt;id() &lt;&lt; &quot; modifytype=&quot; &lt;&lt; modify_type &lt;&lt; &quot; param=&quot;&lt;&lt; param &lt;&lt; &quot; recom &quot; &lt;&lt; recommend_param);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/StampModule.cpp" line="1110" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [attacker] suggests that it may be null, but it has already been dereferenced at line 1104." web_identify="{&quot;identify&quot;:&quot;attacker&quot;}" func_info="bool StampModule::Jubian ( StampProc * pConfig , Creature * self , int imprintid , int count , Creature * attacker , int subID , int subCount , void * pData )" content="1100: 			{
1101: 				FightLogModule::OnCreatureStampReaction(attacker, pTarget, damage, pConfig-&gt;effectType, pConfig-&gt;subEffectType);
1102: 
1103: 				// 受击
1104: 				HpChangeParam vars(DamageSourceStamp, attacker-&gt;m_sid, nAttackCardID,
1105: 					pConfig-&gt;configID, std::get&lt;0&gt;(*pVar));
1106: 				pTarget-&gt;BeDamage(damage, enChangeHpType_Skill, std::get&lt;0&gt;(*pVar), pConfig-&gt;damageType,
1107: 					pTarget-&gt;m_cur_card_sid, attacker, std::get&lt;1&gt;(*pVar), pConfig-&gt;subEffectType, bCrit, vars);
1108: 
1109: 				// 猎人团挑战副本记录融合伤害
1110: 				if (attacker &amp;&amp; attacker-&gt;m_scene &amp;&amp; attacker-&gt;m_scene-&gt;m_dungeon)
1111: 				{
1112: 					attacker-&gt;m_scene-&gt;m_dungeon-&gt;OnAddPlayerBlendDmg(attacker, damage);
1113: 				}
1114: 				// 世界boss 记录融合伤害
1115: 				if (pTarget)
1116: 				{
1117: 					LDEBUG(&quot;BlendDamage &quot; &lt;&lt; damage);
1118: 					auto &amp;&amp;Monster2_ = ObjCaster::CastMonster2(pTarget);
1119: 					if (Monster2_)
1120: 					{
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/StampModule.cpp" line="1115" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [pTarget] suggests that it may be null, but it has already been dereferenced at line 1099." web_identify="{&quot;identify&quot;:&quot;pTarget&quot;}" func_info="bool StampModule::Jubian ( StampProc * pConfig , Creature * self , int imprintid , int count , Creature * attacker , int subID , int subCount , void * pData )" content="1105: 					pConfig-&gt;configID, std::get&lt;0&gt;(*pVar));
1106: 				pTarget-&gt;BeDamage(damage, enChangeHpType_Skill, std::get&lt;0&gt;(*pVar), pConfig-&gt;damageType,
1107: 					pTarget-&gt;m_cur_card_sid, attacker, std::get&lt;1&gt;(*pVar), pConfig-&gt;subEffectType, bCrit, vars);
1108: 
1109: 				// 猎人团挑战副本记录融合伤害
1110: 				if (attacker &amp;&amp; attacker-&gt;m_scene &amp;&amp; attacker-&gt;m_scene-&gt;m_dungeon)
1111: 				{
1112: 					attacker-&gt;m_scene-&gt;m_dungeon-&gt;OnAddPlayerBlendDmg(attacker, damage);
1113: 				}
1114: 				// 世界boss 记录融合伤害
1115: 				if (pTarget)
1116: 				{
1117: 					LDEBUG(&quot;BlendDamage &quot; &lt;&lt; damage);
1118: 					auto &amp;&amp;Monster2_ = ObjCaster::CastMonster2(pTarget);
1119: 					if (Monster2_)
1120: 					{
1121: 						Monster2_-&gt;AddPlayerBlendDamage(attacker, damage);
1122: 					}
1123: 				}
1124: 			}
1125: 			// 添加特效buff
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/StampModule.cpp" line="176" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_TEAMFORMATION_ID::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_TEAMFORMATION_ID::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_TEAMFORMATION_ID" content="166: 
167: std::vector&lt;CostShieldConfig&gt; StampModule::g_CostShieldConfig;
168: std::vector&lt;std::vector&lt;DmgCostShieldConfig&gt;&gt; StampModule::g_DmgCostShield;
169: 
170: std::map&lt;int, int&gt;   g_CardChangeRaceConfig;
171: std::vector&lt;std::vector&lt;int&gt;&gt;   g_vecCardChangeRace;
172: // 阵法适配规则
173: std::map&lt;int, std::map&lt;int64_t, int&gt;&gt;   g_TeamFormationConfig;
174: 
175: 
176: SCENE_MSG_HANDLE_HOOK(E_C2S_TEAMFORMATION_ID, StampModule::OnMsgComputFormation);
177: 
178: StampModule::StampModule():IBaseModule()
179: {
180: 
181: }
182: 
183: StampModule::~StampModule()
184: {
185: 
186: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/StampModule.cpp" line="2219" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [attacker] suggests that it may be null, but it has already been dereferenced at line 2217." web_identify="{&quot;identify&quot;:&quot;attacker&quot;}" func_info="void StampModule::StampDamage ( Creature * self , Creature * attacker , int skillID , long damage , int actionID , int seq , int dmgType , int subType , bool bCrit )" content="2209: void StampModule::StampDamage(Creature* self, Creature* attacker, int skillID,
2210: 	int64_t damage, uint32_t actionID, int seq, int dmgType, int subType, bool bCrit)
2211: {
2212: 	if (!self || damage == 0)
2213: 	{
2214: 		return;
2215: 	}
2216: 
2217: 	damage = CloneSpellModule::CorrectionDamage(attacker, skillID, damage);
2218: 
2219: 	if (attacker)
2220: 	{
2221: 		// PVP 战力压制系数修正
2222: 		damage = attacker-&gt;PvpDamageModify(damage, self);
2223: 	}
2224: 
2225: 	// 扣除元素盾
2226: 	CostElementShieldValue(self, damage, dmgType);
2227: 
2228: 	bool bImmune = ElementImmune(self, dmgType);
2229: 	if (bImmune)
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/StampModule.cpp" line="348" id="nullpointer" subid="funcRetNullStatistic" severity="Serious" msg="return value of function [getConstantCache] [const_cache] isn&apos;t checked-null, however [23] times checked-null elsewhere." web_identify="getConstantCache|const_cache" func_info="constCache* getConstantCache()" content="338: 		}
339: 
340: 		g_LvRatio[lvcfg-&gt;lv()].lvpara = lvcfg-&gt;para();
341: 		g_LvRatio[lvcfg-&gt;lv()].lvpara2 = lvcfg-&gt;para_2();
342: 		g_LvRatio[lvcfg-&gt;lv()].paraScore = lvcfg-&gt;para_score();
343: 	}
344: 
345: 	// 加载常量配置
346: 	g_stampTimeRatio.clear();
347: 	const auto const_cache = ConstDataHelper::Constant::getConstantCache();
348: 	g_stampTime = const_cache-&gt;constant_setting-&gt;imprint_time_decay();
349: 	if (const_cache-&gt;constant_setting-&gt;imprint_time_decay_section_size() ==
350: 		const_cache-&gt;constant_setting-&gt;imprint_time_decay_proportion_size())
351: 	{
352: 		for (int j = 0; j &lt; const_cache-&gt;constant_setting-&gt;imprint_time_decay_section_size(); ++j)
353: 		{
354: 			g_stampTimeRatio.push_back(std::tuple&lt;int, int&gt;(const_cache-&gt;constant_setting-&gt;imprint_time_decay_section(j),
355: 				const_cache-&gt;constant_setting-&gt;imprint_time_decay_proportion(j)));
356: 		}
357: 	}
358: 
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/TalentModule.cpp" line="386" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [cb_msg] suggests that it may be null, but it has already been dereferenced at line 384." web_identify="{&quot;identify&quot;:&quot;cb_msg&quot;}" func_info="CFrameOperate::OperRes TalentModule::OnMsgLearnTalent ( SPlayer * pPlayer , CFrameOperate * pMsgInfo )" content="376:     	auto cost_pb = gs_req.add_other_bk_item_nums();
377:         cost_pb-&gt;set_key(pair.first);
378:         cost_pb-&gt;set_val(pair.second);
379:     }
380:     auto&amp;&amp; req_no = g_AsyncRequestHandlerMgr.MakeAsyncRequest(
381:         [role_id{pPlayer-&gt;m_roleid},cardID,talentID](AsyncRequestHandlerNs::PbMessage&amp; jv, const AsyncRequestHandlerNs::SendMessageEnv&amp; send_env,
382:                           int32_t ret_protocol_no) {
383:             RESPOND(E_XS2GS_COST_PLAYER_ITEM)* cb_msg = reinterpret_cast&lt;RESPOND(E_XS2GS_COST_PLAYER_ITEM)*&gt;(&amp;jv);
384:             LINFO(&quot;E_XS2GS_COST_PLAYER_ITEM:&quot; &lt;&lt; cb_msg-&gt;ShortDebugString() &lt;&lt; &quot;,role_id:&quot; &lt;&lt; role_id);
385:             RESPOND(E_C2S_LEARN_TALENT) resp;
386:             if (cb_msg)
387:             {
388:                 resp.set_isok(cb_msg-&gt;isok());
389:                 if (E_CORRECT == resp.isok())
390:                 {
391:                     auto p = g_ScGlobalData.get_player_byid(role_id);
392:                     if (p)
393:                     {
394:                     	LINFO(&quot;E_XS2GS_COST_PLAYER_ITEM:&quot;  &lt;&lt; &quot;,role_id:&quot; &lt;&lt; role_id);
395: 						ITable* pLearnTalent = p-&gt;FindTable(player::unlock_talent_);
396: 						if (!pLearnTalent)
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/TalentModule.cpp" line="42" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_TALENT_INFO::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_TALENT_INFO::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_TALENT_INFO" content="32: #include &quot;mmo3d_func_talent.pb.h&quot;                               // for rep_E...
33: #include &quot;mmo3d_normal_config.pb.h&quot;                             // for norma...
34: #include &quot;modules/common/CallbackFrame.h&quot;                       // for TRIGG...
35: #include &quot;modules/common/PublicInterface.h&quot;                     // for Forwa...
36: #include &quot;modules/const_data/ConstData.h&quot;                       // for Const...
37: #include &quot;modules/const_data/ConstDataHelper.h&quot;                 // for getCo...
38: #include &quot;proto_macro.h&quot;                                        // for RESPOND
39: #include &quot;protocol_define.h&quot;                                    // for E_ERR...
40: #include &quot;s2s_mmo3d_func_item.pb.h&quot;                             // for req_E...
41: 
42: SCENE_MSG_HANDLE_HOOK(E_C2S_TALENT_INFO, TalentModule::OnMsgTalentInfo);
43: SCENE_MSG_HANDLE_HOOK(E_C2S_LEARN_TALENT, TalentModule::OnMsgLearnTalent);
44: SCENE_MSG_HANDLE_HOOK(E_C2S_EQUIP_TALENT, TalentModule::OnMsgTalentUp);
45: SCENE_MSG_HANDLE_HOOK(E_C2S_TALENT_DOWN, TalentModule::OnMsgTalentDown);
46: SCENE_MSG_HANDLE_HOOK(E_C2S_RESET_TALENT, TalentModule::OnMsgResetTalent);
47: SCENE_MSG_HANDLE_HOOK(E_C2S_ALL_TALENT_INFO, TalentModule::OnMsgAllTalentInfo);
48: 
49: // 卡牌天赋图
50: CARD_TALENT_MAP TalentModule::g_mapCardTalent;
51: 
52: // 天赋信息
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/TalentModule.cpp" line="43" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_LEARN_TALENT::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_LEARN_TALENT::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_LEARN_TALENT" content="33: #include &quot;mmo3d_normal_config.pb.h&quot;                             // for norma...
34: #include &quot;modules/common/CallbackFrame.h&quot;                       // for TRIGG...
35: #include &quot;modules/common/PublicInterface.h&quot;                     // for Forwa...
36: #include &quot;modules/const_data/ConstData.h&quot;                       // for Const...
37: #include &quot;modules/const_data/ConstDataHelper.h&quot;                 // for getCo...
38: #include &quot;proto_macro.h&quot;                                        // for RESPOND
39: #include &quot;protocol_define.h&quot;                                    // for E_ERR...
40: #include &quot;s2s_mmo3d_func_item.pb.h&quot;                             // for req_E...
41: 
42: SCENE_MSG_HANDLE_HOOK(E_C2S_TALENT_INFO, TalentModule::OnMsgTalentInfo);
43: SCENE_MSG_HANDLE_HOOK(E_C2S_LEARN_TALENT, TalentModule::OnMsgLearnTalent);
44: SCENE_MSG_HANDLE_HOOK(E_C2S_EQUIP_TALENT, TalentModule::OnMsgTalentUp);
45: SCENE_MSG_HANDLE_HOOK(E_C2S_TALENT_DOWN, TalentModule::OnMsgTalentDown);
46: SCENE_MSG_HANDLE_HOOK(E_C2S_RESET_TALENT, TalentModule::OnMsgResetTalent);
47: SCENE_MSG_HANDLE_HOOK(E_C2S_ALL_TALENT_INFO, TalentModule::OnMsgAllTalentInfo);
48: 
49: // 卡牌天赋图
50: CARD_TALENT_MAP TalentModule::g_mapCardTalent;
51: 
52: // 天赋信息
53: TALENT_MAP TalentModule::g_mapTalent;
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/TalentModule.cpp" line="44" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_EQUIP_TALENT::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_EQUIP_TALENT::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_EQUIP_TALENT" content="34: #include &quot;modules/common/CallbackFrame.h&quot;                       // for TRIGG...
35: #include &quot;modules/common/PublicInterface.h&quot;                     // for Forwa...
36: #include &quot;modules/const_data/ConstData.h&quot;                       // for Const...
37: #include &quot;modules/const_data/ConstDataHelper.h&quot;                 // for getCo...
38: #include &quot;proto_macro.h&quot;                                        // for RESPOND
39: #include &quot;protocol_define.h&quot;                                    // for E_ERR...
40: #include &quot;s2s_mmo3d_func_item.pb.h&quot;                             // for req_E...
41: 
42: SCENE_MSG_HANDLE_HOOK(E_C2S_TALENT_INFO, TalentModule::OnMsgTalentInfo);
43: SCENE_MSG_HANDLE_HOOK(E_C2S_LEARN_TALENT, TalentModule::OnMsgLearnTalent);
44: SCENE_MSG_HANDLE_HOOK(E_C2S_EQUIP_TALENT, TalentModule::OnMsgTalentUp);
45: SCENE_MSG_HANDLE_HOOK(E_C2S_TALENT_DOWN, TalentModule::OnMsgTalentDown);
46: SCENE_MSG_HANDLE_HOOK(E_C2S_RESET_TALENT, TalentModule::OnMsgResetTalent);
47: SCENE_MSG_HANDLE_HOOK(E_C2S_ALL_TALENT_INFO, TalentModule::OnMsgAllTalentInfo);
48: 
49: // 卡牌天赋图
50: CARD_TALENT_MAP TalentModule::g_mapCardTalent;
51: 
52: // 天赋信息
53: TALENT_MAP TalentModule::g_mapTalent;
54: std::map&lt;int, std::vector&lt;int&gt;&gt;	TalentModule::g_mapTalent2Ability;
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/TalentModule.cpp" line="45" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_TALENT_DOWN::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_TALENT_DOWN::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_TALENT_DOWN" content="35: #include &quot;modules/common/PublicInterface.h&quot;                     // for Forwa...
36: #include &quot;modules/const_data/ConstData.h&quot;                       // for Const...
37: #include &quot;modules/const_data/ConstDataHelper.h&quot;                 // for getCo...
38: #include &quot;proto_macro.h&quot;                                        // for RESPOND
39: #include &quot;protocol_define.h&quot;                                    // for E_ERR...
40: #include &quot;s2s_mmo3d_func_item.pb.h&quot;                             // for req_E...
41: 
42: SCENE_MSG_HANDLE_HOOK(E_C2S_TALENT_INFO, TalentModule::OnMsgTalentInfo);
43: SCENE_MSG_HANDLE_HOOK(E_C2S_LEARN_TALENT, TalentModule::OnMsgLearnTalent);
44: SCENE_MSG_HANDLE_HOOK(E_C2S_EQUIP_TALENT, TalentModule::OnMsgTalentUp);
45: SCENE_MSG_HANDLE_HOOK(E_C2S_TALENT_DOWN, TalentModule::OnMsgTalentDown);
46: SCENE_MSG_HANDLE_HOOK(E_C2S_RESET_TALENT, TalentModule::OnMsgResetTalent);
47: SCENE_MSG_HANDLE_HOOK(E_C2S_ALL_TALENT_INFO, TalentModule::OnMsgAllTalentInfo);
48: 
49: // 卡牌天赋图
50: CARD_TALENT_MAP TalentModule::g_mapCardTalent;
51: 
52: // 天赋信息
53: TALENT_MAP TalentModule::g_mapTalent;
54: std::map&lt;int, std::vector&lt;int&gt;&gt;	TalentModule::g_mapTalent2Ability;
55: 
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/TalentModule.cpp" line="46" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_RESET_TALENT::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_RESET_TALENT::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_RESET_TALENT" content="36: #include &quot;modules/const_data/ConstData.h&quot;                       // for Const...
37: #include &quot;modules/const_data/ConstDataHelper.h&quot;                 // for getCo...
38: #include &quot;proto_macro.h&quot;                                        // for RESPOND
39: #include &quot;protocol_define.h&quot;                                    // for E_ERR...
40: #include &quot;s2s_mmo3d_func_item.pb.h&quot;                             // for req_E...
41: 
42: SCENE_MSG_HANDLE_HOOK(E_C2S_TALENT_INFO, TalentModule::OnMsgTalentInfo);
43: SCENE_MSG_HANDLE_HOOK(E_C2S_LEARN_TALENT, TalentModule::OnMsgLearnTalent);
44: SCENE_MSG_HANDLE_HOOK(E_C2S_EQUIP_TALENT, TalentModule::OnMsgTalentUp);
45: SCENE_MSG_HANDLE_HOOK(E_C2S_TALENT_DOWN, TalentModule::OnMsgTalentDown);
46: SCENE_MSG_HANDLE_HOOK(E_C2S_RESET_TALENT, TalentModule::OnMsgResetTalent);
47: SCENE_MSG_HANDLE_HOOK(E_C2S_ALL_TALENT_INFO, TalentModule::OnMsgAllTalentInfo);
48: 
49: // 卡牌天赋图
50: CARD_TALENT_MAP TalentModule::g_mapCardTalent;
51: 
52: // 天赋信息
53: TALENT_MAP TalentModule::g_mapTalent;
54: std::map&lt;int, std::vector&lt;int&gt;&gt;	TalentModule::g_mapTalent2Ability;
55: 
56: int TalentModule::g_card_cost_id = 0;
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/TalentModule.cpp" line="47" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_ALL_TALENT_INFO::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_ALL_TALENT_INFO::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_ALL_TALENT_INFO" content="37: #include &quot;modules/const_data/ConstDataHelper.h&quot;                 // for getCo...
38: #include &quot;proto_macro.h&quot;                                        // for RESPOND
39: #include &quot;protocol_define.h&quot;                                    // for E_ERR...
40: #include &quot;s2s_mmo3d_func_item.pb.h&quot;                             // for req_E...
41: 
42: SCENE_MSG_HANDLE_HOOK(E_C2S_TALENT_INFO, TalentModule::OnMsgTalentInfo);
43: SCENE_MSG_HANDLE_HOOK(E_C2S_LEARN_TALENT, TalentModule::OnMsgLearnTalent);
44: SCENE_MSG_HANDLE_HOOK(E_C2S_EQUIP_TALENT, TalentModule::OnMsgTalentUp);
45: SCENE_MSG_HANDLE_HOOK(E_C2S_TALENT_DOWN, TalentModule::OnMsgTalentDown);
46: SCENE_MSG_HANDLE_HOOK(E_C2S_RESET_TALENT, TalentModule::OnMsgResetTalent);
47: SCENE_MSG_HANDLE_HOOK(E_C2S_ALL_TALENT_INFO, TalentModule::OnMsgAllTalentInfo);
48: 
49: // 卡牌天赋图
50: CARD_TALENT_MAP TalentModule::g_mapCardTalent;
51: 
52: // 天赋信息
53: TALENT_MAP TalentModule::g_mapTalent;
54: std::map&lt;int, std::vector&lt;int&gt;&gt;	TalentModule::g_mapTalent2Ability;
55: 
56: int TalentModule::g_card_cost_id = 0;
57: 
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/TenacityModule.cpp" line="489" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [pSplayer.m_tenacity_data_ptr] to null at line 463 implies that [pSplayer.m_tenacity_data_ptr ] might be null.Dereferencing null pointer [pSplayer.m_tenacity_data_ptr]." web_identify="{&quot;identify&quot;:&quot;pSplayer.m_tenacity_data_ptr&quot;}" func_info="void TenacityModule::InitPlayerTenacityData ( SPlayer * pSplayer , bool repeat )" content="479: 	if(playerCardInfo.curTenacityIdx &gt;0)
480:     {
481:         pSplayer-&gt;InitTenacity(playerCardInfo.curTenacityIdx);
482:         // if(pSplayer-&gt;m_dynamic_faction == E_FACTION_DEFEND)
483:         // {
484:         // 	//total_tenacity =1;//新规则 防守方 初始 韧性1 
485:         // 	pSplayer-&gt;m_tenacity_data_ptr-&gt;SetTenacity(1);	
486:         // }
487:         // else
488:         // {
489:         	pSplayer-&gt;m_tenacity_data_ptr-&gt;SetTenacity(total_tenacity);	
490:         //}
491:         pSplayer-&gt;m_tenacity_data_ptr-&gt;m_max_value = total_tenacity;
492:     }
493:     
494:     if(pSplayer-&gt;m_scene)
495:     {
496:     	for(auto &amp;pair:pSplayer-&gt;m_scene-&gt;m_players)
497:     	{
498:     		auto p = pair.second;
499:     		if(!p-&gt;m_tenacity_data_ptr){
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/TransformConfig.cpp" line="211" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;HelpCardInfo::killSkill,&apos; is not initialized in the constructor." web_identify="{&quot;identify&quot;:&quot;HelpCardInfo::killSkill,&quot;}" func_info="global" content="201: 	m_skill_prop_addtion.insert(cpy.m_skill_prop_addtion.begin(), cpy.m_skill_prop_addtion.end());
202: 	m_skill_group_prop_addtion.clear();
203: 	m_skill_group_prop_addtion.insert(cpy.m_skill_group_prop_addtion.begin(), cpy.m_skill_group_prop_addtion.end());
204: 	CardSectId.clear();
205: 	CardSectId.insert(CardSectId.begin(), cpy.CardSectId.begin(), cpy.CardSectId.end());
206: 	status = cpy.status;
207: 
208: 	return *this;
209: }
210: 
211: HelpCardInfo::HelpCardInfo():
212: 	cardID(0),
213: 	slot(0),
214: 	lv(0),
215: 	maxEnergy(0),
216: 	curEnergy(0),
217: 	starLv(0),
218: 	prof(0)
219: {
220: 
221: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/TransformConfig.cpp" line="79" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;TransformCardInfo::killSkill,m_help_card,&apos; is not initialized in the constructor." web_identify="{&quot;identify&quot;:&quot;TransformCardInfo::killSkill,m_help_card,&quot;}" func_info="global" content="69: {
70: 	skillID = cpy.skillID;
71: 	skillLv = cpy.skillLv;
72: 	slot = cpy.slot;
73: 	dmgType = cpy.dmgType;
74: 	groupID = cpy.groupID;
75: 
76: 	return *this;
77: }
78: 
79: TransformCardInfo::TransformCardInfo():
80: 	cardID(0),
81: 	slot(0),
82: 	lv(0),
83: 	prof(0),
84: 	maxEnergy(0),
85: 	starLv(0),
86: 	InitHp(0),
87:     HasInitHp(false),
88: 	curEnergy(0),
89: 	curHp(-1),
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/TransformConfig.h" line="292" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;TCardInfo::passiveCard,card2PassiveIDFromBuff,m_buff_idx_setting,&apos; is not initialized in the constructor." web_identify="{&quot;identify&quot;:&quot;TCardInfo::passiveCard,card2PassiveIDFromBuff,m_buff_idx_setting,&quot;}" func_info="TCardInfo" content="282: // 简易卡牌信息
283: struct SimpleCardInfo
284: {
285: 	int cardID = 0;
286: 	int cardLv = 1;
287: };
288: 
289: struct TCardInfo
290: {
291: 	TCardInfo(){}
292: 	TCardInfo(const TCardInfo&amp; cpy) :
293: 		tCardInfo(cpy.tCardInfo), nCurCardID(cpy.nCurCardID), firstEnter(cpy.firstEnter), mapPassive(cpy.mapPassive), mapPassiveCardList(cpy.mapPassiveCardList),
294: 		simpleCard(cpy.simpleCard),serData(cpy.serData),initCharges(cpy.initCharges),skillID2CardID(cpy.skillID2CardID)
295: 		 {}
296: 	TCardInfo&amp; operator=(const TCardInfo&amp; cpy)
297: 	{
298: 		tCardInfo = cpy.tCardInfo;
299: 		passiveCard = cpy.passiveCard;
300: 		nCurCardID = cpy.nCurCardID;
301: 		firstEnter = cpy.firstEnter;
302: 		transformTime = cpy.transformTime;
" inconclusive="true"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/TransformModule.cpp" line="4525" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [cb_msg] suggests that it may be null, but it has already been dereferenced at line 4524." web_identify="{&quot;identify&quot;:&quot;cb_msg&quot;}" func_info="void TransformModule::ReplaceCardDataByRobot ( SPlayer * pPlayer , const protos::Robot_State * pb_robot_ptr , const std::vector &lt; int &gt; &amp; trans_card_vec , const std::vector &lt; int &gt; &amp; help_card_vec , int player_attribute )" content="4515: 			{
4516: 				int32_t card_id = trans_card_vec[i];
4517: 				gs_req.add_card_ids(card_id);
4518: 			}
4519: 		    gs_req.set_role_id(pPlayer-&gt;m_roleid);
4520: 		    auto&amp;&amp; req_no = g_AsyncRequestHandlerMgr.MakeAsyncRequest(
4521: 		        [role_id{pPlayer-&gt;m_roleid},pb_robot_ptr,trans_card_vec,help_card_vec/*,&amp;pCard*/](AsyncRequestHandlerNs::PbMessage&amp; jv, const AsyncRequestHandlerNs::SendMessageEnv&amp; send_env,
4522: 		                          int32_t ret_protocol_no) {
4523: 		            RESPOND(E_S2S_SC2GS_GET_CARD_INFO)* cb_msg = reinterpret_cast&lt;RESPOND(E_S2S_SC2GS_GET_CARD_INFO)*&gt;(&amp;jv);
4524: 		            LINFO(&quot;E_S2S_SC2GS_GET_CARD_INFO:&quot; &lt;&lt; cb_msg-&gt;ShortDebugString() &lt;&lt; &quot;,role_id:&quot; &lt;&lt; role_id);
4525: 		            if (cb_msg)
4526: 		            {
4527: 	                    auto p = g_ScGlobalData.get_player_byid(role_id);
4528: 	                    if (p)
4529: 	                    {
4530: 	                    	auto pb_roleCard  = cb_msg-&gt;mutable_card_info();
4531: 	                    	protos::CardInformation pCard;
4532: 	                    	SetRobotCardAttr(p,pb_robot_ptr,trans_card_vec,help_card_vec,pCard,pb_roleCard);	
4533: 							ReplaceCardData(p,&amp;pCard);
4534: 
4535: 							// 计算协同攻击力
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/TransformModule.cpp" line="700" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [msgCardInfo] to null at line 694 implies that [msgCardInfo ] might be null.Dereferencing null pointer [msgCardInfo]." web_identify="{&quot;identify&quot;:&quot;msgCardInfo&quot;}" func_info="void TransformModule::OnPlayerDumpDataHook ( const IVarList &amp; input_var , void * object )" content="690: 
691: 	auto&amp; playerCardInfo = self-&gt;GetCardData();
692: 
693: 	auto* msgCardInfo = player_data-&gt;mutable_card_info();
694: 	if (msgCardInfo)
695: 	{
696: 		*msgCardInfo = playerCardInfo.serData;
697: 	}
698: 
699:     for (auto&amp; card_id : playerCardInfo.initCharges) {
700:         msgCardInfo-&gt;add_init_charges_card_id(card_id);
701:     }
702: }
703: 
704: // 脱战
705: void TransformModule::OnPlayerOutOfFightHook(const IVarList&amp; input_var, void* object)
706: {
707: 	//LDEBUG(&quot;OnPlayerOutOfFightHook cardID &quot;);
708: 	Creature* pObj = (Creature*)object;
709: 	if (!pObj || !pObj-&gt;m_scene)
710: 	{
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/TransformModule.cpp" line="88" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_S2S_CARD_INFO_MODIFY::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_S2S_CARD_INFO_MODIFY::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_S2S_CARD_INFO_MODIFY" content="78: #include &quot;s2s_mmo3d_common_struct_skill.pb.h&quot;                   // for activ...
79: #include &quot;s2s_mmo3d_func_cards.pb.h&quot;                            // for enter...
80: #include &quot;s2s_mmo3d_func_greed_island.pb.h&quot;                     // for req_E...
81: #include &quot;s2s_mmo3d_func_transform.pb.h&quot;                        // for req_E...
82: #include &quot;sc_global_data.h&quot;                                     // for ScGlo...
83: #include &quot;skill_define.h&quot;                                       // for E_ACT...
84: 
85: struct HpChangeParam;
86: 
87: // 注册更新卡牌信息消息
88: SCENE_MSG_HANDLE_HOOK(E_S2S_CARD_INFO_MODIFY, TransformModule::OnMsgUpdateCardInfo);
89: SCENE_MSG_HANDLE_HOOK(E_C2S_TRANSFORM, TransformModule::OnMsgTransform);
90: SCENE_MSG_HANDLE_HOOK(E_C2S_GET_TRANSFORM_INFO, TransformModule::OnMsgGetTransformInfo);
91: SCENE_MSG_HANDLE_HOOK(E_C2S_CHANGE_CARD_MODEL, TransformModule::OnMsgChangeCardModel);
92: SCENE_MSG_HANDLE_HOOK(E_C2S_PLAYER_PROP, TransformModule::OnMsgPlayerPropertyInfo);
93: SCENE_MSG_HANDLE_HOOK(E_S2S_GS2SC_OBTAIN_DEPOLY_INFO, TransformModule::OnMsgPlayerPushDepoly);
94: 
95: 
96: // 星级解锁能量减少功能
97: std::map&lt;int, std::tuple&lt;int, int&gt;&gt; TransformModule::g_cardID2Star;
98: 
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/TransformModule.cpp" line="89" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_TRANSFORM::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_TRANSFORM::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_TRANSFORM" content="79: #include &quot;s2s_mmo3d_func_cards.pb.h&quot;                            // for enter...
80: #include &quot;s2s_mmo3d_func_greed_island.pb.h&quot;                     // for req_E...
81: #include &quot;s2s_mmo3d_func_transform.pb.h&quot;                        // for req_E...
82: #include &quot;sc_global_data.h&quot;                                     // for ScGlo...
83: #include &quot;skill_define.h&quot;                                       // for E_ACT...
84: 
85: struct HpChangeParam;
86: 
87: // 注册更新卡牌信息消息
88: SCENE_MSG_HANDLE_HOOK(E_S2S_CARD_INFO_MODIFY, TransformModule::OnMsgUpdateCardInfo);
89: SCENE_MSG_HANDLE_HOOK(E_C2S_TRANSFORM, TransformModule::OnMsgTransform);
90: SCENE_MSG_HANDLE_HOOK(E_C2S_GET_TRANSFORM_INFO, TransformModule::OnMsgGetTransformInfo);
91: SCENE_MSG_HANDLE_HOOK(E_C2S_CHANGE_CARD_MODEL, TransformModule::OnMsgChangeCardModel);
92: SCENE_MSG_HANDLE_HOOK(E_C2S_PLAYER_PROP, TransformModule::OnMsgPlayerPropertyInfo);
93: SCENE_MSG_HANDLE_HOOK(E_S2S_GS2SC_OBTAIN_DEPOLY_INFO, TransformModule::OnMsgPlayerPushDepoly);
94: 
95: 
96: // 星级解锁能量减少功能
97: std::map&lt;int, std::tuple&lt;int, int&gt;&gt; TransformModule::g_cardID2Star;
98: 
99: //特殊副本 的 卡牌模型 配置
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/TransformModule.cpp" line="90" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_GET_TRANSFORM_INFO::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_GET_TRANSFORM_INFO::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_GET_TRANSFORM_INFO" content="80: #include &quot;s2s_mmo3d_func_greed_island.pb.h&quot;                     // for req_E...
81: #include &quot;s2s_mmo3d_func_transform.pb.h&quot;                        // for req_E...
82: #include &quot;sc_global_data.h&quot;                                     // for ScGlo...
83: #include &quot;skill_define.h&quot;                                       // for E_ACT...
84: 
85: struct HpChangeParam;
86: 
87: // 注册更新卡牌信息消息
88: SCENE_MSG_HANDLE_HOOK(E_S2S_CARD_INFO_MODIFY, TransformModule::OnMsgUpdateCardInfo);
89: SCENE_MSG_HANDLE_HOOK(E_C2S_TRANSFORM, TransformModule::OnMsgTransform);
90: SCENE_MSG_HANDLE_HOOK(E_C2S_GET_TRANSFORM_INFO, TransformModule::OnMsgGetTransformInfo);
91: SCENE_MSG_HANDLE_HOOK(E_C2S_CHANGE_CARD_MODEL, TransformModule::OnMsgChangeCardModel);
92: SCENE_MSG_HANDLE_HOOK(E_C2S_PLAYER_PROP, TransformModule::OnMsgPlayerPropertyInfo);
93: SCENE_MSG_HANDLE_HOOK(E_S2S_GS2SC_OBTAIN_DEPOLY_INFO, TransformModule::OnMsgPlayerPushDepoly);
94: 
95: 
96: // 星级解锁能量减少功能
97: std::map&lt;int, std::tuple&lt;int, int&gt;&gt; TransformModule::g_cardID2Star;
98: 
99: //特殊副本 的 卡牌模型 配置
100: std::map&lt;int32_t,std::map&lt;int32_t,int32_t&gt;&gt; TransformModule::g_dungeon_card_modeid;
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/TransformModule.cpp" line="91" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_CHANGE_CARD_MODEL::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_CHANGE_CARD_MODEL::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_CHANGE_CARD_MODEL" content="81: #include &quot;s2s_mmo3d_func_transform.pb.h&quot;                        // for req_E...
82: #include &quot;sc_global_data.h&quot;                                     // for ScGlo...
83: #include &quot;skill_define.h&quot;                                       // for E_ACT...
84: 
85: struct HpChangeParam;
86: 
87: // 注册更新卡牌信息消息
88: SCENE_MSG_HANDLE_HOOK(E_S2S_CARD_INFO_MODIFY, TransformModule::OnMsgUpdateCardInfo);
89: SCENE_MSG_HANDLE_HOOK(E_C2S_TRANSFORM, TransformModule::OnMsgTransform);
90: SCENE_MSG_HANDLE_HOOK(E_C2S_GET_TRANSFORM_INFO, TransformModule::OnMsgGetTransformInfo);
91: SCENE_MSG_HANDLE_HOOK(E_C2S_CHANGE_CARD_MODEL, TransformModule::OnMsgChangeCardModel);
92: SCENE_MSG_HANDLE_HOOK(E_C2S_PLAYER_PROP, TransformModule::OnMsgPlayerPropertyInfo);
93: SCENE_MSG_HANDLE_HOOK(E_S2S_GS2SC_OBTAIN_DEPOLY_INFO, TransformModule::OnMsgPlayerPushDepoly);
94: 
95: 
96: // 星级解锁能量减少功能
97: std::map&lt;int, std::tuple&lt;int, int&gt;&gt; TransformModule::g_cardID2Star;
98: 
99: //特殊副本 的 卡牌模型 配置
100: std::map&lt;int32_t,std::map&lt;int32_t,int32_t&gt;&gt; TransformModule::g_dungeon_card_modeid;
101: void TransformModule::Init()
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/TransformModule.cpp" line="92" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_PLAYER_PROP::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_PLAYER_PROP::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_PLAYER_PROP" content="82: #include &quot;sc_global_data.h&quot;                                     // for ScGlo...
83: #include &quot;skill_define.h&quot;                                       // for E_ACT...
84: 
85: struct HpChangeParam;
86: 
87: // 注册更新卡牌信息消息
88: SCENE_MSG_HANDLE_HOOK(E_S2S_CARD_INFO_MODIFY, TransformModule::OnMsgUpdateCardInfo);
89: SCENE_MSG_HANDLE_HOOK(E_C2S_TRANSFORM, TransformModule::OnMsgTransform);
90: SCENE_MSG_HANDLE_HOOK(E_C2S_GET_TRANSFORM_INFO, TransformModule::OnMsgGetTransformInfo);
91: SCENE_MSG_HANDLE_HOOK(E_C2S_CHANGE_CARD_MODEL, TransformModule::OnMsgChangeCardModel);
92: SCENE_MSG_HANDLE_HOOK(E_C2S_PLAYER_PROP, TransformModule::OnMsgPlayerPropertyInfo);
93: SCENE_MSG_HANDLE_HOOK(E_S2S_GS2SC_OBTAIN_DEPOLY_INFO, TransformModule::OnMsgPlayerPushDepoly);
94: 
95: 
96: // 星级解锁能量减少功能
97: std::map&lt;int, std::tuple&lt;int, int&gt;&gt; TransformModule::g_cardID2Star;
98: 
99: //特殊副本 的 卡牌模型 配置
100: std::map&lt;int32_t,std::map&lt;int32_t,int32_t&gt;&gt; TransformModule::g_dungeon_card_modeid;
101: void TransformModule::Init()
102: {
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/TransformModule.cpp" line="93" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_S2S_GS2SC_OBTAIN_DEPOLY_INFO::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_S2S_GS2SC_OBTAIN_DEPOLY_INFO::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_S2S_GS2SC_OBTAIN_DEPOLY_INFO" content="83: #include &quot;skill_define.h&quot;                                       // for E_ACT...
84: 
85: struct HpChangeParam;
86: 
87: // 注册更新卡牌信息消息
88: SCENE_MSG_HANDLE_HOOK(E_S2S_CARD_INFO_MODIFY, TransformModule::OnMsgUpdateCardInfo);
89: SCENE_MSG_HANDLE_HOOK(E_C2S_TRANSFORM, TransformModule::OnMsgTransform);
90: SCENE_MSG_HANDLE_HOOK(E_C2S_GET_TRANSFORM_INFO, TransformModule::OnMsgGetTransformInfo);
91: SCENE_MSG_HANDLE_HOOK(E_C2S_CHANGE_CARD_MODEL, TransformModule::OnMsgChangeCardModel);
92: SCENE_MSG_HANDLE_HOOK(E_C2S_PLAYER_PROP, TransformModule::OnMsgPlayerPropertyInfo);
93: SCENE_MSG_HANDLE_HOOK(E_S2S_GS2SC_OBTAIN_DEPOLY_INFO, TransformModule::OnMsgPlayerPushDepoly);
94: 
95: 
96: // 星级解锁能量减少功能
97: std::map&lt;int, std::tuple&lt;int, int&gt;&gt; TransformModule::g_cardID2Star;
98: 
99: //特殊副本 的 卡牌模型 配置
100: std::map&lt;int32_t,std::map&lt;int32_t,int32_t&gt;&gt; TransformModule::g_dungeon_card_modeid;
101: void TransformModule::Init()
102: {
103: 	REGISTER_HOOK(player_online_loaddata, OnPlayerLoadDataHook, -50);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/WaterRipple.cpp" line="111" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [rep] suggests that it may be null, but it has already been dereferenced at line 110." web_identify="{&quot;identify&quot;:&quot;rep&quot;}" func_info="void WaterRippleManager::hand_player_quit ( long role_id )" content="101:     int32_t task_id = water_room-&gt;m_task_id;
102:     //回收场景
103:     water_room-&gt;_scene-&gt;set_to_be_removed();
104:     m_water_scenes.erase(role_id);
105:     //回收cs的场景占坑
106:     auto&amp;&amp; req_no = g_AsyncRequestHandlerMgr.MakeAsyncRequest(
107:         [role_id](AsyncRequestHandlerNs::PbMessage&amp; pb, const AsyncRequestHandlerNs::SendMessageEnv&amp; env,
108:                   int32_t protocol_no) {
109:             RESPOND(E_S2S_RECYCLE_WATER_SCENE)* rep = dynamic_cast&lt;RESPOND(E_S2S_RECYCLE_WATER_SCENE)*&gt;(&amp;pb);
110:             LDEBUG(&quot;E_S2S_RECYCLE_WATER_SCENE:&quot; &lt;&lt; g_PBPrinter.getJsonStream((*rep)));
111:             if ((!rep))
112:             {
113:                 LWARN(&quot;error protocol&quot;);
114:                 return;
115:             }
116:             if (rep-&gt;isok() != E_CORRECT)
117:             {
118:                 LWARN(&quot;recycle water fail:&quot; &lt;&lt; rep-&gt;isok() &lt;&lt; &quot;,&quot; &lt;&lt; role_id);
119:             }
120:         },
121:         AsyncRequestHandlerNs::SendMessageEnv());
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/card_info.cpp" line="89" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_S2S_UPDATE_CARD_CONFIG_CHANGE::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_S2S_UPDATE_CARD_CONFIG_CHANGE::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_S2S_UPDATE_CARD_CONFIG_CHANGE" content="79: 
80: // 卡牌出战类型
81: enum enCardFightType
82: {
83: 	enCardFightType_Fight = 1,	// 出战
84: 	enCardFightType_back = 2,	// 后台
85: 	enCardFightType_help = 3,	// 援助
86: };
87: 
88: // 注册更新卡牌信息消息
89: SCENE_MSG_HANDLE_HOOK(E_S2S_UPDATE_CARD_CONFIG_CHANGE, CardInfoModule::OnMsgUpdateCardInfo);
90: SCENE_MSG_HANDLE_HOOK(E_S2C_PUSH_TRANSFORM_HP, CardInfoModule::OnMsgReqCardHpInfo);
91: 
92: 
93: std::set&lt;int64_t&gt; CardInfoModule::m_update_energy_mark;
94: 
95: CardInfoModule::CardInfoModule(): IBaseModule()
96: {
97: 
98: }
99: 
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/card_info.cpp" line="90" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_S2C_PUSH_TRANSFORM_HP::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_S2C_PUSH_TRANSFORM_HP::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_S2C_PUSH_TRANSFORM_HP" content="80: // 卡牌出战类型
81: enum enCardFightType
82: {
83: 	enCardFightType_Fight = 1,	// 出战
84: 	enCardFightType_back = 2,	// 后台
85: 	enCardFightType_help = 3,	// 援助
86: };
87: 
88: // 注册更新卡牌信息消息
89: SCENE_MSG_HANDLE_HOOK(E_S2S_UPDATE_CARD_CONFIG_CHANGE, CardInfoModule::OnMsgUpdateCardInfo);
90: SCENE_MSG_HANDLE_HOOK(E_S2C_PUSH_TRANSFORM_HP, CardInfoModule::OnMsgReqCardHpInfo);
91: 
92: 
93: std::set&lt;int64_t&gt; CardInfoModule::m_update_energy_mark;
94: 
95: CardInfoModule::CardInfoModule(): IBaseModule()
96: {
97: 
98: }
99: 
100: CardInfoModule::~CardInfoModule()
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/new_module/SpellEffect.cpp" line="179" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;AssaultEffect::lastMoveTime,&apos; is not initialized in the constructor." web_identify="{&quot;identify&quot;:&quot;AssaultEffect::lastMoveTime,&quot;}" func_info="global" content="169: 	{
170: 		vecCondParam.push_back(it-&gt;second-&gt;effect_cond_param(i));
171: 	}
172: 
173: 	SkillDyncModule::ModifyModifyEffectInterface1(ObjCaster::CastSPlayer(self), buffID, effectTemplateID, this);
174: 
175: 	this-&gt;self = self;
176: }
177: 
178: 
179: AssaultEffect::AssaultEffect()
180: {
181: 	bMoving = false;
182: 	remainDistance = 0;
183: }
184: 
185: AssaultEffect::~AssaultEffect()
186: {
187: 
188: }
189: 
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/sc_arena_sky_module.cpp" line="61" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_ARENA_SKY_READY_CONFIRM::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_ARENA_SKY_READY_CONFIRM::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_ARENA_SKY_READY_CONFIRM" content="51: //SCENE_MSG_HANDLE_HOOK(E_C2S_ARENA_SKY_READY_CONFIRM, SCArenaSkyModule::OnMsgArenaSkyReady)
52: 
53: 
54: void SCArenaSkyModule::Init()
55: {
56:     // REGISTER_HOOK(creature_enter_weak_status, OnEnterWeakStatus, 0);
57:     // REGISTER_HOOK(creature_out_weak_status, OnOutWeakStatus, 0);
58: }
59: 
60: //E_C2S_ARENA_SKY_READY_CONFIRM = 4015, //客户端战斗确认
61: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_ARENA_SKY_READY_CONFIRM)
62: {
63:     if (p-&gt;m_scene &amp;&amp; p-&gt;m_scene-&gt;m_async_room)
64:     {
65:         p-&gt;m_scene-&gt;m_async_room-&gt;Confirm(p);
66:         return SetIsokAndReturn(E_CORRECT);
67:     }
68:     LINFO(&quot;p:&quot; &lt;&lt; p-&gt;m_roleid &lt;&lt; &quot; not in m_async_room&quot;);
69:     return SetIsokAndReturn(E_CORRECT);
70: }
71: 
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/sc_dmp_module.cpp" line="97" id="nullpointer" subid="invalidDereferenceIterator" severity="Serious" msg="Iterator [it] may be invalid here." web_identify="{&quot;identify&quot;:&quot;it&quot;}" func_info="const std::string &amp; SCDmpModule::GetFuncNameId ( int func_id )" content="87: 
88: const std::string&amp; SCDmpModule::GetFuncNameId(int32_t func_id) {
89:     auto it = g_ConstData.get_m_fun_config().find(func_id);
90:     if (it != g_ConstData.get_m_fun_config().end())
91:     {
92:         if(it-&gt;second-&gt;name_size() &gt;0)
93:         {
94:             return it-&gt;second-&gt;name(0);
95:         }
96:     }
97:     return it-&gt;second-&gt;describe();
98: }
99: 
100: // 玩家进副本
101: void SCDmpModule::OnPlayerEnterDungeon(const IVarList&amp; input_var, void* object)
102: {
103: 	SPlayer* self = (SPlayer*)object;
104:     if (!self || !self-&gt;m_scene)
105:     {
106:         return;
107:     }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/sc_global_data.cpp" line="2140" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [obj] suggests that it may be null, but it has already been dereferenced at line 2104." web_identify="{&quot;identify&quot;:&quot;obj&quot;}" func_info="void ScGlobalData::garbage_collect ( bool bForce )" content="2130:                 {
2131:                     if (player-&gt;m_roleid != 0)
2132:                     {
2133:                         LERROR(&quot;player will be deleted, by was not registed to m_players, &quot;
2134:                                &quot;role_id(&quot;
2135:                                &lt;&lt; player-&gt;m_roleid &lt;&lt; &quot;) obj_id(&quot; &lt;&lt; player-&gt;m_sid &lt;&lt; &quot;)&quot;);
2136:                     }
2137:                 }
2138:             }
2139: 
2140:             if(obj &amp;&amp; obj-&gt;m_scene)
2141:             {//TODO 临时 预防野指针  走到这里 流程应该也是有问题的 
2142:                 LWARN(&quot;Destroyobj_type:&quot;&lt;&lt; obj-&gt;m_type &lt;&lt; &quot;) obj_id(&quot; &lt;&lt; obj-&gt;m_sid &lt;&lt; &quot;)&quot;);
2143:                 obj-&gt;m_scene-&gt;m_objs_traversal.Del(obj-&gt;m_sid);
2144:             }
2145:             
2146:             auto agent = dynamic_cast&lt;behaviac::Agent*&gt;(obj);
2147:             if (agent)
2148:             {
2149:                 behaviac::Agent::Destroy(agent);
2150:             }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/sc_global_data.cpp" line="2179" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [scene] suggests that it may be null, but it has already been dereferenced at line 2178." web_identify="{&quot;identify&quot;:&quot;scene&quot;}" func_info="void ScGlobalData::doDay4Time ( )" content="2169:     m_to_delete_list.clear();
2170: }
2171: 
2172: void ScGlobalData::doDay4Time()
2173: {
2174:     //采集点相关
2175:     for (auto&amp;&amp; pair : m_scenes)
2176:     {
2177:         auto scene = pair.second;
2178:         auto manager = scene-&gt;getSurviveManager();
2179:         if (scene &amp;&amp; manager)
2180:         {
2181:             manager-&gt;day4timeDo();
2182:         }
2183:     }
2184:     ConstDataMonAdapt::ReCalcServerLevel();
2185: }
2186: 
2187: void ScGlobalData::doChangeServerLimit(int32_t old_level)
2188: {
2189:     //经验返还
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/sc_global_data.cpp" line="2212" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [scene] suggests that it may be null, but it has already been dereferenced at line 2211." web_identify="{&quot;identify&quot;:&quot;scene&quot;}" func_info="void ScGlobalData::doChangeServerLimit ( int old_level )" content="2202:     //             continue;
2203:     //         }
2204:     //         player-&gt;getLevelControlModule()-&gt;RebackStorageExp();
2205:     //     }
2206:     // }
2207:     //采集点相关
2208:     for (auto&amp;&amp; pair : m_scenes)
2209:     {
2210:         auto scene = pair.second;
2211:         auto manager = scene-&gt;getSurviveManager();
2212:         if (scene &amp;&amp; manager)
2213:         {
2214:             manager-&gt;lockLevelChangeDo(old_level);
2215:         }
2216:     }
2217: }
2218: 
2219: void ScGlobalData::run_logic(utime_t utt_now)
2220: {
2221:     m_info_logger-&gt;run_logic(utt_now);
2222: 
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/sc_global_data.cpp" line="6969" id="suspicious" subid="SuspiciousPriority" severity="Information" msg="The priority of the &apos;+&apos; operation is higher than that of the &apos;&lt;&lt;&apos; operation. It&apos;s possible that parentheses should be used in the expression." web_identify="" func_info="void ScGlobalData::MoveToDeleteList ( Object * obj )" content="6959:         LERROR(&quot;obj is not in ScGlobalData, &quot; &lt;&lt; obj-&gt;debug_info());
6960:         return;
6961:     }
6962: 
6963:     if (obj-&gt;m_state != E_STATE_NEED_DELETE)
6964:     {
6965:         LERROR(&quot;state error, state(&quot; &lt;&lt; obj-&gt;m_state &lt;&lt; &quot;) &quot; &lt;&lt; obj-&gt;debug_info());
6966:         return;
6967:     }
6968:     utime_t cur_now = Tools::game_mill_now();
6969:     LDEBUG(&quot;MoveToDeleteList, key:&quot; &lt;&lt; cur_now + DELAY_DELETE_OBJECT_TIME &lt;&lt; &quot; obj:&quot; &lt;&lt; obj-&gt;debug_info());
6970:     m_to_delete_list.insert(std::make_pair(cur_now + DELAY_DELETE_OBJECT_TIME, obj));
6971: }
6972: 
6973: // bool ScGlobalData::IsDynamicNpcCanInitJson(int32_t scene_id, int32_t npc_id, int32_t faction)
6974: // {
6975: //     if (m_dyamic_npc[scene_id][faction].find(npc_id) != m_dyamic_npc[scene_id][faction].end())
6976: //         return false;
6977: //     if (m_dynamic_npc_del[scene_id][faction].find(npc_id) != m_dynamic_npc_del[scene_id][faction].end())
6978: //         return false;
6979: //     return true;
" inconclusive="true"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/sc_global_data.cpp" line="7374" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [scene] suggests that it may be null, but it has already been dereferenced at line 7319." web_identify="{&quot;identify&quot;:&quot;scene&quot;}" func_info="Collect * ScGlobalData::genCollect ( Scene * scene , int collect_id , E_FACTION_TYPE faction , Location bpos , int face , bool add_to_scene , int config_type , int config_id , int value , int team_id , int hunter_killer_sid , int index , int max_times )" content="7364:                     collect-&gt;m_gather.model = protos::E_GATHERMODERL_ONE;
7365:                     if (E_COLLECT_TYPE_ACTIVITY_GATHER == settint2-&gt;type())
7366:                     {
7367:                         collect-&gt;m_hp = settint2-&gt;times();
7368:                         collect-&gt;m_maxhp = settint2-&gt;times();
7369:                         collect-&gt;set_is_global_viewed(true);
7370:                     }
7371:                 }
7372:             }
7373:         }
7374:         if (scene &amp;&amp; add_to_scene)
7375:             scene-&gt;add_obj(collect);
7376: 
7377:         LDEBUG(&quot;ScGlobalData::genCollect, collect_ID:&quot; &lt;&lt; collect_id &lt;&lt; &quot;,config_type:&quot; &lt;&lt; config_type
7378:                                                        &lt;&lt; &quot;,sid:&quot; &lt;&lt; collect-&gt;m_sid);
7379: 
7380:         if (cache-&gt;setting-&gt;special_interaction() == 1)
7381:         {
7382:             collect-&gt;m_box_state_time[E_COLLECT_BIRTH_DROP] = Tools::game_now();
7383:             LDEBUG(&quot;gen collect box data, collect_id:&quot; &lt;&lt; cache-&gt;setting-&gt;id());
7384:         }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/sc_global_data.cpp" line="7611" id="memleak" subid="memleak" severity="Warning" msg="Memory leak: splayer" web_identify="{&quot;identify&quot;:&quot;splayer&quot;}" func_info="" content="7601:                 splayer-&gt;is_gm_mp = false;
7602:                 auto isok = splayer-&gt;Load(role_data);
7603:                 if (isok != E_CORRECT)
7604:                 {
7605:                     LERROR(&quot;load robot player fail(&quot; &lt;&lt; isok &lt;&lt; &quot;), &quot; &lt;&lt; splayer-&gt;debug_info());
7606:                     if (fail_cb)
7607:                     {
7608:                         fail_cb(robot_id);
7609:                     }
7610:                     splayer-&gt;set_to_be_removed();
7611:                     return;
7612:                 }
7613:                 if (param.charid != -1)
7614:                 {
7615:                     splayer-&gt;m_char_id = param.charid;
7616:                 }
7617:                 if (param.face != -1)
7618:                 {
7619:                     splayer-&gt;m_face = param.face;
7620:                 }
7621:                 if (param.faction != E_FACTION_NONE)
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/sc_greed_island.cpp" line="31" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_GS2SC_GREED_ISLAND_USE_CARD::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_GS2SC_GREED_ISLAND_USE_CARD::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_GS2SC_GREED_ISLAND_USE_CARD" content="21: #include &quot;mmo3d_common_struct.pb.h&quot;          // for pair_data
22: #include &quot;mmo3d_greed_island.pb.h&quot;           // for rep_E_C2S_GREED_ISLAND_U...
23: #include &quot;modules/common/module_define.h&quot;    // for GreedIslandCurseCardId
24: #include &quot;proto_macro.h&quot;                     // for REQUEST
25: #include &quot;protocol_define.h&quot;                 // for E_ERROR_TYPE::E_ERROR_PA...
26: // #include &quot;s2s_mmo3d.pb.h&quot;
27: #include &quot;s2s_mmo3d_func_greed_island.pb.h&quot;  // for req_E_GS2SC_GREED_ISLAND...
28: #include &quot;sc_global_data.h&quot;                  // for ScGlobalData, g_ScGlobal...
29: 
30: // 消息注册
31: SCENE_MSG_HANDLE_HOOK(E_GS2SC_GREED_ISLAND_USE_CARD, ScGreedIslandModule::OnMsgUseCard);
32: SCENE_MSG_HANDLE_HOOK(E_GS2SC_GREED_ISLAND_SYNC_INFO, ScGreedIslandModule::OnMsgSyncInfo);
33: SCENE_MSG_HANDLE_HOOK(E_C2S_GREED_ISLAND_USE_CARD_IN_BATTLE, ScGreedIslandModule::OnMsgUseCardInBattle);
34: SCENE_MSG_HANDLE_HOOK(E_C2S_GREED_ISLAND_SELECT_CARD, ScGreedIslandModule::OnMsgSelectCard);
35: SCENE_MSG_HANDLE_HOOK(E_GS2SC_GREED_ISLAND_HP_INFO, ScGreedIslandModule::OnMsgHpInfo);
36: 
37: ScGreedIslandModule::ScGreedIslandModule() : IBaseModule()
38: {
39: }
40: 
41: ScGreedIslandModule::~ScGreedIslandModule()
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/sc_greed_island.cpp" line="32" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_GS2SC_GREED_ISLAND_SYNC_INFO::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_GS2SC_GREED_ISLAND_SYNC_INFO::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_GS2SC_GREED_ISLAND_SYNC_INFO" content="22: #include &quot;mmo3d_greed_island.pb.h&quot;           // for rep_E_C2S_GREED_ISLAND_U...
23: #include &quot;modules/common/module_define.h&quot;    // for GreedIslandCurseCardId
24: #include &quot;proto_macro.h&quot;                     // for REQUEST
25: #include &quot;protocol_define.h&quot;                 // for E_ERROR_TYPE::E_ERROR_PA...
26: // #include &quot;s2s_mmo3d.pb.h&quot;
27: #include &quot;s2s_mmo3d_func_greed_island.pb.h&quot;  // for req_E_GS2SC_GREED_ISLAND...
28: #include &quot;sc_global_data.h&quot;                  // for ScGlobalData, g_ScGlobal...
29: 
30: // 消息注册
31: SCENE_MSG_HANDLE_HOOK(E_GS2SC_GREED_ISLAND_USE_CARD, ScGreedIslandModule::OnMsgUseCard);
32: SCENE_MSG_HANDLE_HOOK(E_GS2SC_GREED_ISLAND_SYNC_INFO, ScGreedIslandModule::OnMsgSyncInfo);
33: SCENE_MSG_HANDLE_HOOK(E_C2S_GREED_ISLAND_USE_CARD_IN_BATTLE, ScGreedIslandModule::OnMsgUseCardInBattle);
34: SCENE_MSG_HANDLE_HOOK(E_C2S_GREED_ISLAND_SELECT_CARD, ScGreedIslandModule::OnMsgSelectCard);
35: SCENE_MSG_HANDLE_HOOK(E_GS2SC_GREED_ISLAND_HP_INFO, ScGreedIslandModule::OnMsgHpInfo);
36: 
37: ScGreedIslandModule::ScGreedIslandModule() : IBaseModule()
38: {
39: }
40: 
41: ScGreedIslandModule::~ScGreedIslandModule()
42: {
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/sc_greed_island.cpp" line="33" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_GREED_ISLAND_USE_CARD_IN_BATTLE::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_GREED_ISLAND_USE_CARD_IN_BATTLE::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_GREED_ISLAND_USE_CARD_IN_BATTLE" content="23: #include &quot;modules/common/module_define.h&quot;    // for GreedIslandCurseCardId
24: #include &quot;proto_macro.h&quot;                     // for REQUEST
25: #include &quot;protocol_define.h&quot;                 // for E_ERROR_TYPE::E_ERROR_PA...
26: // #include &quot;s2s_mmo3d.pb.h&quot;
27: #include &quot;s2s_mmo3d_func_greed_island.pb.h&quot;  // for req_E_GS2SC_GREED_ISLAND...
28: #include &quot;sc_global_data.h&quot;                  // for ScGlobalData, g_ScGlobal...
29: 
30: // 消息注册
31: SCENE_MSG_HANDLE_HOOK(E_GS2SC_GREED_ISLAND_USE_CARD, ScGreedIslandModule::OnMsgUseCard);
32: SCENE_MSG_HANDLE_HOOK(E_GS2SC_GREED_ISLAND_SYNC_INFO, ScGreedIslandModule::OnMsgSyncInfo);
33: SCENE_MSG_HANDLE_HOOK(E_C2S_GREED_ISLAND_USE_CARD_IN_BATTLE, ScGreedIslandModule::OnMsgUseCardInBattle);
34: SCENE_MSG_HANDLE_HOOK(E_C2S_GREED_ISLAND_SELECT_CARD, ScGreedIslandModule::OnMsgSelectCard);
35: SCENE_MSG_HANDLE_HOOK(E_GS2SC_GREED_ISLAND_HP_INFO, ScGreedIslandModule::OnMsgHpInfo);
36: 
37: ScGreedIslandModule::ScGreedIslandModule() : IBaseModule()
38: {
39: }
40: 
41: ScGreedIslandModule::~ScGreedIslandModule()
42: {
43: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/sc_greed_island.cpp" line="34" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_GREED_ISLAND_SELECT_CARD::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_GREED_ISLAND_SELECT_CARD::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_GREED_ISLAND_SELECT_CARD" content="24: #include &quot;proto_macro.h&quot;                     // for REQUEST
25: #include &quot;protocol_define.h&quot;                 // for E_ERROR_TYPE::E_ERROR_PA...
26: // #include &quot;s2s_mmo3d.pb.h&quot;
27: #include &quot;s2s_mmo3d_func_greed_island.pb.h&quot;  // for req_E_GS2SC_GREED_ISLAND...
28: #include &quot;sc_global_data.h&quot;                  // for ScGlobalData, g_ScGlobal...
29: 
30: // 消息注册
31: SCENE_MSG_HANDLE_HOOK(E_GS2SC_GREED_ISLAND_USE_CARD, ScGreedIslandModule::OnMsgUseCard);
32: SCENE_MSG_HANDLE_HOOK(E_GS2SC_GREED_ISLAND_SYNC_INFO, ScGreedIslandModule::OnMsgSyncInfo);
33: SCENE_MSG_HANDLE_HOOK(E_C2S_GREED_ISLAND_USE_CARD_IN_BATTLE, ScGreedIslandModule::OnMsgUseCardInBattle);
34: SCENE_MSG_HANDLE_HOOK(E_C2S_GREED_ISLAND_SELECT_CARD, ScGreedIslandModule::OnMsgSelectCard);
35: SCENE_MSG_HANDLE_HOOK(E_GS2SC_GREED_ISLAND_HP_INFO, ScGreedIslandModule::OnMsgHpInfo);
36: 
37: ScGreedIslandModule::ScGreedIslandModule() : IBaseModule()
38: {
39: }
40: 
41: ScGreedIslandModule::~ScGreedIslandModule()
42: {
43: }
44: 
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/sc_greed_island.cpp" line="35" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_GS2SC_GREED_ISLAND_HP_INFO::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_GS2SC_GREED_ISLAND_HP_INFO::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_GS2SC_GREED_ISLAND_HP_INFO" content="25: #include &quot;protocol_define.h&quot;                 // for E_ERROR_TYPE::E_ERROR_PA...
26: // #include &quot;s2s_mmo3d.pb.h&quot;
27: #include &quot;s2s_mmo3d_func_greed_island.pb.h&quot;  // for req_E_GS2SC_GREED_ISLAND...
28: #include &quot;sc_global_data.h&quot;                  // for ScGlobalData, g_ScGlobal...
29: 
30: // 消息注册
31: SCENE_MSG_HANDLE_HOOK(E_GS2SC_GREED_ISLAND_USE_CARD, ScGreedIslandModule::OnMsgUseCard);
32: SCENE_MSG_HANDLE_HOOK(E_GS2SC_GREED_ISLAND_SYNC_INFO, ScGreedIslandModule::OnMsgSyncInfo);
33: SCENE_MSG_HANDLE_HOOK(E_C2S_GREED_ISLAND_USE_CARD_IN_BATTLE, ScGreedIslandModule::OnMsgUseCardInBattle);
34: SCENE_MSG_HANDLE_HOOK(E_C2S_GREED_ISLAND_SELECT_CARD, ScGreedIslandModule::OnMsgSelectCard);
35: SCENE_MSG_HANDLE_HOOK(E_GS2SC_GREED_ISLAND_HP_INFO, ScGreedIslandModule::OnMsgHpInfo);
36: 
37: ScGreedIslandModule::ScGreedIslandModule() : IBaseModule()
38: {
39: }
40: 
41: ScGreedIslandModule::~ScGreedIslandModule()
42: {
43: }
44: 
45: void ScGreedIslandModule::Init()
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/sc_task_trigger.cpp" line="284" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [player_] suggests that it may be null, but it has already been dereferenced at line 274." web_identify="{&quot;identify&quot;:&quot;player_&quot;}" func_info="void ScTaskTriggerManager::HandleAddBuff ( const AddBuffTaskTriggerParser &amp; trigger_parser )" content="274:         if (player_-&gt;is_on_carrier())
275:         {
276:             Carrier* c = player_-&gt;m_carrier;
277:             c-&gt;add_buff(trigger_parser.buff_id_, trigger_parser.buff_msec_, 0, player_);
278:         }
279:         else
280:         {
281:             player_-&gt;add_buff(trigger_parser.buff_id_, trigger_parser.buff_msec_, 0, player_);
282:         }
283:     }
284:     else if (player_ &amp;&amp; player_-&gt;m_scene)
285:     {
286:         // 表示给场景里的怪加buff
287:         for (auto it = player_-&gt;m_scene-&gt;m_monster2s.begin(); it != player_-&gt;m_scene-&gt;m_monster2s.end(); ++it)
288:         {
289:             if (it-&gt;second-&gt;m_monster_id == trigger_parser.obj_)
290:             {
291:                 it-&gt;second-&gt;add_buff(trigger_parser.buff_id_, trigger_parser.buff_msec_, 0, player_);
292:             }
293:         }
294:     }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/data/sc_task_trigger.cpp" line="489" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [player_] suggests that it may be null, but it has already been dereferenced at line 487." web_identify="{&quot;identify&quot;:&quot;player_&quot;}" func_info="void ScTaskTriggerManager::HandleRemoveBuff ( const RemoveBuffTaskTriggerParser &amp; trigger_parser )" content="479: 
480:     return key;
481: }
482: 
483: void ScTaskTriggerManager::HandleRemoveBuff(RemoveBuffTaskTriggerParser const&amp; trigger_parser)
484: {
485:     if (trigger_parser.obj_id_ &lt;= 1)
486:     {
487:         player_-&gt;remove_appoint_buff(trigger_parser.buff_id_);
488:     }
489:     else if (player_ &amp;&amp; player_-&gt;m_scene)
490:     {
491:         // 表示给场景里的怪加buff
492:         for (auto it = player_-&gt;m_scene-&gt;m_monster2s.begin(); it != player_-&gt;m_scene-&gt;m_monster2s.end(); ++it)
493:         {
494:             if (it-&gt;second-&gt;m_monster_id == trigger_parser.obj_id_)
495:             {
496:                 it-&gt;second-&gt;remove_appoint_buff(trigger_parser.buff_id_);
497:             }
498:         }
499:     }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="1000" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 997 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_castSkill00 ( lua_State * tolua_S )" content="990:  else
991: #endif
992:  {
993:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
994:    int skill_id = ((  int)  tolua_tonumber(tolua_S,2,0));
995:    int obj_id = ((  int)  tolua_tonumber(tolua_S,3,0));
996: #ifndef TOLUA_RELEASE
997:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_castSkill&apos;&quot;, NULL);
998: #endif
999:   {
1000:     int tolua_ret = (  int)  self-&gt;bt_castSkill(skill_id,obj_id);
1001:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
1002:   }
1003:  }
1004:  return 1;
1005: #ifndef TOLUA_RELEASE
1006:  tolua_lerror:
1007:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_castSkill&apos;.&quot;,&amp;tolua_err);
1008:  return 0;
1009: #endif
1010: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="10006" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 10003 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_setSpeed00 ( lua_State * tolua_S )" content="9996:   goto tolua_lerror;
9997:  else
9998: #endif
9999:  {
10000:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
10001:    int speed = ((  int)  tolua_tonumber(tolua_S,2,0));
10002: #ifndef TOLUA_RELEASE
10003:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_setSpeed&apos;&quot;, NULL);
10004: #endif
10005:   {
10006:    self-&gt;bt_setSpeed(speed);
10007:   }
10008:  }
10009:  return 0;
10010: #ifndef TOLUA_RELEASE
10011:  tolua_lerror:
10012:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_setSpeed&apos;.&quot;,&amp;tolua_err);
10013:  return 0;
10014: #endif
10015: }
10016: #endif //#ifndef TOLUA_DISABLE
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="10041" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 10038 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getNearParterCount00 ( lua_State * tolua_S )" content="10031:  else
10032: #endif
10033:  {
10034:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
10035:    int sid = ((  int)  tolua_tonumber(tolua_S,2,0));
10036:    int dist = ((  int)  tolua_tonumber(tolua_S,3,0));
10037: #ifndef TOLUA_RELEASE
10038:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getNearParterCount&apos;&quot;, NULL);
10039: #endif
10040:   {
10041:     int tolua_ret = (  int)  self-&gt;bt_getNearParterCount(sid,dist);
10042:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
10043:   }
10044:  }
10045:  return 1;
10046: #ifndef TOLUA_RELEASE
10047:  tolua_lerror:
10048:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getNearParterCount&apos;.&quot;,&amp;tolua_err);
10049:  return 0;
10050: #endif
10051: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="10075" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 10072 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getNearParterIndex00 ( lua_State * tolua_S )" content="10065:   goto tolua_lerror;
10066:  else
10067: #endif
10068:  {
10069:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
10070:    int sid = ((  int)  tolua_tonumber(tolua_S,2,0));
10071: #ifndef TOLUA_RELEASE
10072:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getNearParterIndex&apos;&quot;, NULL);
10073: #endif
10074:   {
10075:     int tolua_ret = (  int)  self-&gt;bt_getNearParterIndex(sid);
10076:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
10077:   }
10078:  }
10079:  return 1;
10080: #ifndef TOLUA_RELEASE
10081:  tolua_lerror:
10082:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getNearParterIndex&apos;.&quot;,&amp;tolua_err);
10083:  return 0;
10084: #endif
10085: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="10109" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 10106 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_randomNearPos00 ( lua_State * tolua_S )" content="10099:   goto tolua_lerror;
10100:  else
10101: #endif
10102:  {
10103:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
10104:    int distance = ((  int)  tolua_tonumber(tolua_S,2,0));
10105: #ifndef TOLUA_RELEASE
10106:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_randomNearPos&apos;&quot;, NULL);
10107: #endif
10108:   {
10109:    bt_location tolua_ret = (bt_location)  self-&gt;bt_randomNearPos(distance);
10110:    {
10111: #ifdef __cplusplus
10112:     void* tolua_obj = Mtolua_new((bt_location)(tolua_ret));
10113:      tolua_pushusertype(tolua_S,tolua_obj,&quot;bt_location&quot;);
10114:     tolua_register_gc(tolua_S,lua_gettop(tolua_S));
10115: #else
10116:     void* tolua_obj = tolua_copy(tolua_S,(void*)&amp;tolua_ret,sizeof(bt_location));
10117:      tolua_pushusertype(tolua_S,tolua_obj,&quot;bt_location&quot;);
10118:     tolua_register_gc(tolua_S,lua_gettop(tolua_S));
10119: #endif
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="10151" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 10148 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_canMove00 ( lua_State * tolua_S )" content="10141:  )
10142:   goto tolua_lerror;
10143:  else
10144: #endif
10145:  {
10146:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
10147: #ifndef TOLUA_RELEASE
10148:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_canMove&apos;&quot;, NULL);
10149: #endif
10150:   {
10151:    bool tolua_ret = (bool)  self-&gt;bt_canMove();
10152:    tolua_pushboolean(tolua_S,(bool)tolua_ret);
10153:   }
10154:  }
10155:  return 1;
10156: #ifndef TOLUA_RELEASE
10157:  tolua_lerror:
10158:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_canMove&apos;.&quot;,&amp;tolua_err);
10159:  return 0;
10160: #endif
10161: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="10187" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 10184 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getTargetRangeObjs00 ( lua_State * tolua_S )" content="10177:  else
10178: #endif
10179:  {
10180:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
10181:    int target_sid = ((  int)  tolua_tonumber(tolua_S,2,0));
10182:    int distance = ((  int)  tolua_tonumber(tolua_S,3,0));
10183: #ifndef TOLUA_RELEASE
10184:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getTargetRangeObjs&apos;&quot;, NULL);
10185: #endif
10186:   {
10187:    behaviac::vector&lt;int32_t&gt; tolua_ret = (behaviac::vector&lt;int32_t&gt;)  self-&gt;bt_getTargetRangeObjs(target_sid,distance);
10188:    {
10189: #ifdef __cplusplus
10190:     void* tolua_obj = Mtolua_new((behaviac::vector&lt;int32_t&gt;)(tolua_ret));
10191:      tolua_pushusertype(tolua_S,tolua_obj,&quot;behaviac::vector&lt;int32_t&gt;&quot;);
10192:     tolua_register_gc(tolua_S,lua_gettop(tolua_S));
10193: #else
10194:     void* tolua_obj = tolua_copy(tolua_S,(void*)&amp;tolua_ret,sizeof(behaviac::vector&lt;int32_t&gt;));
10195:      tolua_pushusertype(tolua_S,tolua_obj,&quot;behaviac::vector&lt;int32_t&gt;&quot;);
10196:     tolua_register_gc(tolua_S,lua_gettop(tolua_S));
10197: #endif
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="10231" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 10228 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getTargetAttackers00 ( lua_State * tolua_S )" content="10221:   goto tolua_lerror;
10222:  else
10223: #endif
10224:  {
10225:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
10226:    int target_sid = ((  int)  tolua_tonumber(tolua_S,2,0));
10227: #ifndef TOLUA_RELEASE
10228:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getTargetAttackers&apos;&quot;, NULL);
10229: #endif
10230:   {
10231:    behaviac::vector&lt;int32_t&gt; tolua_ret = (behaviac::vector&lt;int32_t&gt;)  self-&gt;bt_getTargetAttackers(target_sid);
10232:    {
10233: #ifdef __cplusplus
10234:     void* tolua_obj = Mtolua_new((behaviac::vector&lt;int32_t&gt;)(tolua_ret));
10235:      tolua_pushusertype(tolua_S,tolua_obj,&quot;behaviac::vector&lt;int32_t&gt;&quot;);
10236:     tolua_register_gc(tolua_S,lua_gettop(tolua_S));
10237: #else
10238:     void* tolua_obj = tolua_copy(tolua_S,(void*)&amp;tolua_ret,sizeof(behaviac::vector&lt;int32_t&gt;));
10239:      tolua_pushusertype(tolua_S,tolua_obj,&quot;behaviac::vector&lt;int32_t&gt;&quot;);
10240:     tolua_register_gc(tolua_S,lua_gettop(tolua_S));
10241: #endif
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="10275" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 10272 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_changeState00 ( lua_State * tolua_S )" content="10265:   goto tolua_lerror;
10266:  else
10267: #endif
10268:  {
10269:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
10270:    int state = ((  int)  tolua_tonumber(tolua_S,2,0));
10271: #ifndef TOLUA_RELEASE
10272:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_changeState&apos;&quot;, NULL);
10273: #endif
10274:   {
10275:    self-&gt;bt_changeState(state);
10276:   }
10277:  }
10278:  return 0;
10279: #ifndef TOLUA_RELEASE
10280:  tolua_lerror:
10281:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_changeState&apos;.&quot;,&amp;tolua_err);
10282:  return 0;
10283: #endif
10284: }
10285: #endif //#ifndef TOLUA_DISABLE
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="10308" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 10305 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_setFocusId00 ( lua_State * tolua_S )" content="10298:   goto tolua_lerror;
10299:  else
10300: #endif
10301:  {
10302:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
10303:    int sid = ((  int)  tolua_tonumber(tolua_S,2,0));
10304: #ifndef TOLUA_RELEASE
10305:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_setFocusId&apos;&quot;, NULL);
10306: #endif
10307:   {
10308:    self-&gt;bt_setFocusId(sid);
10309:   }
10310:  }
10311:  return 0;
10312: #ifndef TOLUA_RELEASE
10313:  tolua_lerror:
10314:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_setFocusId&apos;.&quot;,&amp;tolua_err);
10315:  return 0;
10316: #endif
10317: }
10318: #endif //#ifndef TOLUA_DISABLE
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="10339" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 10336 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getRadius00 ( lua_State * tolua_S )" content="10329:  )
10330:   goto tolua_lerror;
10331:  else
10332: #endif
10333:  {
10334:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
10335: #ifndef TOLUA_RELEASE
10336:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getRadius&apos;&quot;, NULL);
10337: #endif
10338:   {
10339:     int tolua_ret = (  int)  self-&gt;bt_getRadius();
10340:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
10341:   }
10342:  }
10343:  return 1;
10344: #ifndef TOLUA_RELEASE
10345:  tolua_lerror:
10346:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getRadius&apos;.&quot;,&amp;tolua_err);
10347:  return 0;
10348: #endif
10349: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="1034" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 1031 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_canCastSkill00 ( lua_State * tolua_S )" content="1024:   goto tolua_lerror;
1025:  else
1026: #endif
1027:  {
1028:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
1029:    int skill_type = ((  int)  tolua_tonumber(tolua_S,2,0));
1030: #ifndef TOLUA_RELEASE
1031:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_canCastSkill&apos;&quot;, NULL);
1032: #endif
1033:   {
1034:    bool tolua_ret = (bool)  self-&gt;bt_canCastSkill(skill_type);
1035:    tolua_pushboolean(tolua_S,(bool)tolua_ret);
1036:   }
1037:  }
1038:  return 1;
1039: #ifndef TOLUA_RELEASE
1040:  tolua_lerror:
1041:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_canCastSkill&apos;.&quot;,&amp;tolua_err);
1042:  return 0;
1043: #endif
1044: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="10371" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 10368 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_EnClose00 ( lua_State * tolua_S )" content="10361:  )
10362:   goto tolua_lerror;
10363:  else
10364: #endif
10365:  {
10366:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
10367: #ifndef TOLUA_RELEASE
10368:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_EnClose&apos;&quot;, NULL);
10369: #endif
10370:   {
10371:    bool tolua_ret = (bool)  self-&gt;bt_EnClose();
10372:    tolua_pushboolean(tolua_S,(bool)tolua_ret);
10373:   }
10374:  }
10375:  return 1;
10376: #ifndef TOLUA_RELEASE
10377:  tolua_lerror:
10378:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_EnClose&apos;.&quot;,&amp;tolua_err);
10379:  return 0;
10380: #endif
10381: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="10403" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 10400 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_Getqi00 ( lua_State * tolua_S )" content="10393:  )
10394:   goto tolua_lerror;
10395:  else
10396: #endif
10397:  {
10398:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
10399: #ifndef TOLUA_RELEASE
10400:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_Getqi&apos;&quot;, NULL);
10401: #endif
10402:   {
10403:     int tolua_ret = (  int)  self-&gt;bt_Getqi();
10404:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
10405:   }
10406:  }
10407:  return 1;
10408: #ifndef TOLUA_RELEASE
10409:  tolua_lerror:
10410:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_Getqi&apos;.&quot;,&amp;tolua_err);
10411:  return 0;
10412: #endif
10413: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="10435" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 10432 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_get_robot2monster_id00 ( lua_State * tolua_S )" content="10425:  )
10426:   goto tolua_lerror;
10427:  else
10428: #endif
10429:  {
10430:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
10431: #ifndef TOLUA_RELEASE
10432:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_get_robot2monster_id&apos;&quot;, NULL);
10433: #endif
10434:   {
10435:     int tolua_ret = (  int)  self-&gt;bt_get_robot2monster_id();
10436:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
10437:   }
10438:  }
10439:  return 1;
10440: #ifndef TOLUA_RELEASE
10441:  tolua_lerror:
10442:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_get_robot2monster_id&apos;.&quot;,&amp;tolua_err);
10443:  return 0;
10444: #endif
10445: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="10469" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 10466 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_can_cast_skill_ex00 ( lua_State * tolua_S )" content="10459:   goto tolua_lerror;
10460:  else
10461: #endif
10462:  {
10463:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
10464:   int skill_id = ((int)  tolua_tonumber(tolua_S,2,0));
10465: #ifndef TOLUA_RELEASE
10466:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_can_cast_skill_ex&apos;&quot;, NULL);
10467: #endif
10468:   {
10469:    bool tolua_ret = (bool)  self-&gt;bt_can_cast_skill_ex(skill_id);
10470:    tolua_pushboolean(tolua_S,(bool)tolua_ret);
10471:   }
10472:  }
10473:  return 1;
10474: #ifndef TOLUA_RELEASE
10475:  tolua_lerror:
10476:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_can_cast_skill_ex&apos;.&quot;,&amp;tolua_err);
10477:  return 0;
10478: #endif
10479: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="10505" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 10502 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getHitEdge00 ( lua_State * tolua_S )" content="10495:  else
10496: #endif
10497:  {
10498:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
10499:   bt_location start = *((bt_location*)  tolua_tousertype(tolua_S,2,0));
10500:   bt_location end = *((bt_location*)  tolua_tousertype(tolua_S,3,0));
10501: #ifndef TOLUA_RELEASE
10502:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getHitEdge&apos;&quot;, NULL);
10503: #endif
10504:   {
10505:     int tolua_ret = (  int)  self-&gt;bt_getHitEdge(start,end);
10506:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
10507:   }
10508:  }
10509:  return 1;
10510: #ifndef TOLUA_RELEASE
10511:  tolua_lerror:
10512:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getHitEdge&apos;.&quot;,&amp;tolua_err);
10513:  return 0;
10514: #endif
10515: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="10539" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 10536 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getCurpos00 ( lua_State * tolua_S )" content="10529:   goto tolua_lerror;
10530:  else
10531: #endif
10532:  {
10533:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
10534:    int sid = ((  int)  tolua_tonumber(tolua_S,2,0));
10535: #ifndef TOLUA_RELEASE
10536:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getCurpos&apos;&quot;, NULL);
10537: #endif
10538:   {
10539:    bt_location tolua_ret = (bt_location)  self-&gt;bt_getCurpos(sid);
10540:    {
10541: #ifdef __cplusplus
10542:     void* tolua_obj = Mtolua_new((bt_location)(tolua_ret));
10543:      tolua_pushusertype(tolua_S,tolua_obj,&quot;bt_location&quot;);
10544:     tolua_register_gc(tolua_S,lua_gettop(tolua_S));
10545: #else
10546:     void* tolua_obj = tolua_copy(tolua_S,(void*)&amp;tolua_ret,sizeof(bt_location));
10547:      tolua_pushusertype(tolua_S,tolua_obj,&quot;bt_location&quot;);
10548:     tolua_register_gc(tolua_S,lua_gettop(tolua_S));
10549: #endif
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="10583" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 10580 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getFace00 ( lua_State * tolua_S )" content="10573:   goto tolua_lerror;
10574:  else
10575: #endif
10576:  {
10577:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
10578:    int sid = ((  int)  tolua_tonumber(tolua_S,2,0));
10579: #ifndef TOLUA_RELEASE
10580:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getFace&apos;&quot;, NULL);
10581: #endif
10582:   {
10583:     int tolua_ret = (  int)  self-&gt;bt_getFace(sid);
10584:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
10585:   }
10586:  }
10587:  return 1;
10588: #ifndef TOLUA_RELEASE
10589:  tolua_lerror:
10590:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getFace&apos;.&quot;,&amp;tolua_err);
10591:  return 0;
10592: #endif
10593: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="10617" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 10614 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_towardFace00 ( lua_State * tolua_S )" content="10607:   goto tolua_lerror;
10608:  else
10609: #endif
10610:  {
10611:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
10612:    int sid = ((  int)  tolua_tonumber(tolua_S,2,0));
10613: #ifndef TOLUA_RELEASE
10614:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_towardFace&apos;&quot;, NULL);
10615: #endif
10616:   {
10617:     int tolua_ret = (  int)  self-&gt;bt_towardFace(sid);
10618:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
10619:   }
10620:  }
10621:  return 1;
10622: #ifndef TOLUA_RELEASE
10623:  tolua_lerror:
10624:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_towardFace&apos;.&quot;,&amp;tolua_err);
10625:  return 0;
10626: #endif
10627: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="10653" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 10650 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_DoTriggerNotify00 ( lua_State * tolua_S )" content="10643:  else
10644: #endif
10645:  {
10646:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
10647:    int type = ((  int)  tolua_tonumber(tolua_S,2,0));
10648:   const std::string param = ((const std::string)  tolua_tocppstring(tolua_S,3,0));
10649: #ifndef TOLUA_RELEASE
10650:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_DoTriggerNotify&apos;&quot;, NULL);
10651: #endif
10652:   {
10653:     int tolua_ret = (  int)  self-&gt;bt_DoTriggerNotify(type,param);
10654:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
10655:    tolua_pushcppstring(tolua_S,(const char*)param);
10656:   }
10657:  }
10658:  return 2;
10659: #ifndef TOLUA_RELEASE
10660:  tolua_lerror:
10661:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_DoTriggerNotify&apos;.&quot;,&amp;tolua_err);
10662:  return 0;
10663: #endif
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="1068" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 1065 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_canCastSkillID00 ( lua_State * tolua_S )" content="1058:   goto tolua_lerror;
1059:  else
1060: #endif
1061:  {
1062:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
1063:    int skill_id = ((  int)  tolua_tonumber(tolua_S,2,0));
1064: #ifndef TOLUA_RELEASE
1065:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_canCastSkillID&apos;&quot;, NULL);
1066: #endif
1067:   {
1068:    bool tolua_ret = (bool)  self-&gt;bt_canCastSkillID(skill_id);
1069:    tolua_pushboolean(tolua_S,(bool)tolua_ret);
1070:   }
1071:  }
1072:  return 1;
1073: #ifndef TOLUA_RELEASE
1074:  tolua_lerror:
1075:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_canCastSkillID&apos;.&quot;,&amp;tolua_err);
1076:  return 0;
1077: #endif
1078: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="10686" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 10683 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getMonsterWaveId00 ( lua_State * tolua_S )" content="10676:  )
10677:   goto tolua_lerror;
10678:  else
10679: #endif
10680:  {
10681:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
10682: #ifndef TOLUA_RELEASE
10683:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getMonsterWaveId&apos;&quot;, NULL);
10684: #endif
10685:   {
10686:     int tolua_ret = (  int)  self-&gt;bt_getMonsterWaveId();
10687:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
10688:   }
10689:  }
10690:  return 1;
10691: #ifndef TOLUA_RELEASE
10692:  tolua_lerror:
10693:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getMonsterWaveId&apos;.&quot;,&amp;tolua_err);
10694:  return 0;
10695: #endif
10696: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="10718" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 10715 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getTeamBehaviorId00 ( lua_State * tolua_S )" content="10708:  )
10709:   goto tolua_lerror;
10710:  else
10711: #endif
10712:  {
10713:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
10714: #ifndef TOLUA_RELEASE
10715:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getTeamBehaviorId&apos;&quot;, NULL);
10716: #endif
10717:   {
10718:     int tolua_ret = (  int)  self-&gt;bt_getTeamBehaviorId();
10719:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
10720:   }
10721:  }
10722:  return 1;
10723: #ifndef TOLUA_RELEASE
10724:  tolua_lerror:
10725:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getTeamBehaviorId&apos;.&quot;,&amp;tolua_err);
10726:  return 0;
10727: #endif
10728: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="10750" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 10747 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getTeamChildCount00 ( lua_State * tolua_S )" content="10740:  )
10741:   goto tolua_lerror;
10742:  else
10743: #endif
10744:  {
10745:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
10746: #ifndef TOLUA_RELEASE
10747:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getTeamChildCount&apos;&quot;, NULL);
10748: #endif
10749:   {
10750:     int tolua_ret = (  int)  self-&gt;bt_getTeamChildCount();
10751:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
10752:   }
10753:  }
10754:  return 1;
10755: #ifndef TOLUA_RELEASE
10756:  tolua_lerror:
10757:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getTeamChildCount&apos;.&quot;,&amp;tolua_err);
10758:  return 0;
10759: #endif
10760: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="10782" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 10779 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getIsHit00 ( lua_State * tolua_S )" content="10772:  )
10773:   goto tolua_lerror;
10774:  else
10775: #endif
10776:  {
10777:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
10778: #ifndef TOLUA_RELEASE
10779:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getIsHit&apos;&quot;, NULL);
10780: #endif
10781:   {
10782:    bool tolua_ret = (bool)  self-&gt;bt_getIsHit();
10783:    tolua_pushboolean(tolua_S,(bool)tolua_ret);
10784:   }
10785:  }
10786:  return 1;
10787: #ifndef TOLUA_RELEASE
10788:  tolua_lerror:
10789:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getIsHit&apos;.&quot;,&amp;tolua_err);
10790:  return 0;
10791: #endif
10792: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="10814" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 10811 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getQiStatus00 ( lua_State * tolua_S )" content="10804:  )
10805:   goto tolua_lerror;
10806:  else
10807: #endif
10808:  {
10809:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
10810: #ifndef TOLUA_RELEASE
10811:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getQiStatus&apos;&quot;, NULL);
10812: #endif
10813:   {
10814:    int tolua_ret = (int)  self-&gt;bt_getQiStatus();
10815:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
10816:   }
10817:  }
10818:  return 1;
10819: #ifndef TOLUA_RELEASE
10820:  tolua_lerror:
10821:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getQiStatus&apos;.&quot;,&amp;tolua_err);
10822:  return 0;
10823: #endif
10824: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="10848" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 10845 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getSkillIsHit00 ( lua_State * tolua_S )" content="10838:   goto tolua_lerror;
10839:  else
10840: #endif
10841:  {
10842:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
10843:    int skill_id = ((  int)  tolua_tonumber(tolua_S,2,0));
10844: #ifndef TOLUA_RELEASE
10845:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getSkillIsHit&apos;&quot;, NULL);
10846: #endif
10847:   {
10848:    bool tolua_ret = (bool)  self-&gt;bt_getSkillIsHit(skill_id);
10849:    tolua_pushboolean(tolua_S,(bool)tolua_ret);
10850:   }
10851:  }
10852:  return 1;
10853: #ifndef TOLUA_RELEASE
10854:  tolua_lerror:
10855:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getSkillIsHit&apos;.&quot;,&amp;tolua_err);
10856:  return 0;
10857: #endif
10858: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="10880" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 10877 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getNpcID00 ( lua_State * tolua_S )" content="10870:  )
10871:   goto tolua_lerror;
10872:  else
10873: #endif
10874:  {
10875:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
10876: #ifndef TOLUA_RELEASE
10877:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getNpcID&apos;&quot;, NULL);
10878: #endif
10879:   {
10880:     int tolua_ret = (  int)  self-&gt;bt_getNpcID();
10881:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
10882:   }
10883:  }
10884:  return 1;
10885: #ifndef TOLUA_RELEASE
10886:  tolua_lerror:
10887:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getNpcID&apos;.&quot;,&amp;tolua_err);
10888:  return 0;
10889: #endif
10890: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="10914" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 10911 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_setMoveType00 ( lua_State * tolua_S )" content="10904:   goto tolua_lerror;
10905:  else
10906: #endif
10907:  {
10908:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
10909:    int move_type = ((  int)  tolua_tonumber(tolua_S,2,0));
10910: #ifndef TOLUA_RELEASE
10911:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_setMoveType&apos;&quot;, NULL);
10912: #endif
10913:   {
10914:     int tolua_ret = (  int)  self-&gt;bt_setMoveType(move_type);
10915:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
10916:   }
10917:  }
10918:  return 1;
10919: #ifndef TOLUA_RELEASE
10920:  tolua_lerror:
10921:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_setMoveType&apos;.&quot;,&amp;tolua_err);
10922:  return 0;
10923: #endif
10924: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="10948" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 10945 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_ExistElementShield00 ( lua_State * tolua_S )" content="10938:   goto tolua_lerror;
10939:  else
10940: #endif
10941:  {
10942:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
10943:    int shiled_id = ((  int)  tolua_tonumber(tolua_S,2,0));
10944: #ifndef TOLUA_RELEASE
10945:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_ExistElementShield&apos;&quot;, NULL);
10946: #endif
10947:   {
10948:    bool tolua_ret = (bool)  self-&gt;bt_ExistElementShield(shiled_id);
10949:    tolua_pushboolean(tolua_S,(bool)tolua_ret);
10950:   }
10951:  }
10952:  return 1;
10953: #ifndef TOLUA_RELEASE
10954:  tolua_lerror:
10955:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_ExistElementShield&apos;.&quot;,&amp;tolua_err);
10956:  return 0;
10957: #endif
10958: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="10980" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 10977 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_GetElementShield00 ( lua_State * tolua_S )" content="10970:  )
10971:   goto tolua_lerror;
10972:  else
10973: #endif
10974:  {
10975:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
10976: #ifndef TOLUA_RELEASE
10977:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_GetElementShield&apos;&quot;, NULL);
10978: #endif
10979:   {
10980:     int tolua_ret = (  int)  self-&gt;bt_GetElementShield();
10981:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
10982:   }
10983:  }
10984:  return 1;
10985: #ifndef TOLUA_RELEASE
10986:  tolua_lerror:
10987:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_GetElementShield&apos;.&quot;,&amp;tolua_err);
10988:  return 0;
10989: #endif
10990: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="11014" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 11011 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_GetAliveCardNum00 ( lua_State * tolua_S )" content="11004:   goto tolua_lerror;
11005:  else
11006: #endif
11007:  {
11008:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
11009:    int object_type = ((  int)  tolua_tonumber(tolua_S,2,0));
11010: #ifndef TOLUA_RELEASE
11011:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_GetAliveCardNum&apos;&quot;, NULL);
11012: #endif
11013:   {
11014:     int tolua_ret = (  int)  self-&gt;bt_GetAliveCardNum(object_type);
11015:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
11016:   }
11017:  }
11018:  return 1;
11019: #ifndef TOLUA_RELEASE
11020:  tolua_lerror:
11021:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_GetAliveCardNum&apos;.&quot;,&amp;tolua_err);
11022:  return 0;
11023: #endif
11024: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="1102" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 1099 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_isEnergyFull00 ( lua_State * tolua_S )" content="1092:   goto tolua_lerror;
1093:  else
1094: #endif
1095:  {
1096:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
1097:    int cid = ((  int)  tolua_tonumber(tolua_S,2,0));
1098: #ifndef TOLUA_RELEASE
1099:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_isEnergyFull&apos;&quot;, NULL);
1100: #endif
1101:   {
1102:    bool tolua_ret = (bool)  self-&gt;bt_isEnergyFull(cid);
1103:    tolua_pushboolean(tolua_S,(bool)tolua_ret);
1104:   }
1105:  }
1106:  return 1;
1107: #ifndef TOLUA_RELEASE
1108:  tolua_lerror:
1109:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_isEnergyFull&apos;.&quot;,&amp;tolua_err);
1110:  return 0;
1111: #endif
1112: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="113" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 111 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_get_bt_location_x ( lua_State * tolua_S )" content="103: #endif //#ifndef TOLUA_DISABLE
104: 
105: /* get function: x of class  bt_location */
106: #ifndef TOLUA_DISABLE_tolua_get_bt_location_x
107: static int tolua_get_bt_location_x(lua_State* tolua_S)
108: {
109:   bt_location* self = (bt_location*)  tolua_tousertype(tolua_S,1,0);
110: #ifndef TOLUA_RELEASE
111:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in accessing variable &apos;x&apos;&quot;,NULL);
112: #endif
113:   tolua_pushnumber(tolua_S,(lua_Number)self-&gt;x);
114:  return 1;
115: }
116: #endif //#ifndef TOLUA_DISABLE
117: 
118: /* set function: x of class  bt_location */
119: #ifndef TOLUA_DISABLE_tolua_set_bt_location_x
120: static int tolua_set_bt_location_x(lua_State* tolua_S)
121: {
122:   bt_location* self = (bt_location*)  tolua_tousertype(tolua_S,1,0);
123: #ifndef TOLUA_RELEASE
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="1136" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 1133 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_isBackCanCast00 ( lua_State * tolua_S )" content="1126:   goto tolua_lerror;
1127:  else
1128: #endif
1129:  {
1130:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
1131:    int cid = ((  int)  tolua_tonumber(tolua_S,2,0));
1132: #ifndef TOLUA_RELEASE
1133:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_isBackCanCast&apos;&quot;, NULL);
1134: #endif
1135:   {
1136:    bool tolua_ret = (bool)  self-&gt;bt_isBackCanCast(cid);
1137:    tolua_pushboolean(tolua_S,(bool)tolua_ret);
1138:   }
1139:  }
1140:  return 1;
1141: #ifndef TOLUA_RELEASE
1142:  tolua_lerror:
1143:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_isBackCanCast&apos;.&quot;,&amp;tolua_err);
1144:  return 0;
1145: #endif
1146: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="1170" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 1167 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getCastSkillType00 ( lua_State * tolua_S )" content="1160:   goto tolua_lerror;
1161:  else
1162: #endif
1163:  {
1164:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
1165:    int sid = ((  int)  tolua_tonumber(tolua_S,2,0));
1166: #ifndef TOLUA_RELEASE
1167:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getCastSkillType&apos;&quot;, NULL);
1168: #endif
1169:   {
1170:     int tolua_ret = (  int)  self-&gt;bt_getCastSkillType(sid);
1171:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
1172:   }
1173:  }
1174:  return 1;
1175: #ifndef TOLUA_RELEASE
1176:  tolua_lerror:
1177:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getCastSkillType&apos;.&quot;,&amp;tolua_err);
1178:  return 0;
1179: #endif
1180: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="1202" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 1199 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getGate00 ( lua_State * tolua_S )" content="1192:  )
1193:   goto tolua_lerror;
1194:  else
1195: #endif
1196:  {
1197:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
1198: #ifndef TOLUA_RELEASE
1199:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getGate&apos;&quot;, NULL);
1200: #endif
1201:   {
1202:     int tolua_ret = (  int)  self-&gt;bt_getGate();
1203:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
1204:   }
1205:  }
1206:  return 1;
1207: #ifndef TOLUA_RELEASE
1208:  tolua_lerror:
1209:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getGate&apos;.&quot;,&amp;tolua_err);
1210:  return 0;
1211: #endif
1212: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="1238" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 1235 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getDistance00 ( lua_State * tolua_S )" content="1228:  else
1229: #endif
1230:  {
1231:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
1232:    int obj_id = ((  int)  tolua_tonumber(tolua_S,2,0));
1233:   bool same_layer = ((bool)  tolua_toboolean(tolua_S,3,true));
1234: #ifndef TOLUA_RELEASE
1235:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getDistance&apos;&quot;, NULL);
1236: #endif
1237:   {
1238:     int tolua_ret = (  int)  self-&gt;bt_getDistance(obj_id,same_layer);
1239:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
1240:   }
1241:  }
1242:  return 1;
1243: #ifndef TOLUA_RELEASE
1244:  tolua_lerror:
1245:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getDistance&apos;.&quot;,&amp;tolua_err);
1246:  return 0;
1247: #endif
1248: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="1272" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 1269 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_objectToInitpos00 ( lua_State * tolua_S )" content="1262:   goto tolua_lerror;
1263:  else
1264: #endif
1265:  {
1266:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
1267:    int obj_id = ((  int)  tolua_tonumber(tolua_S,2,0));
1268: #ifndef TOLUA_RELEASE
1269:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_objectToInitpos&apos;&quot;, NULL);
1270: #endif
1271:   {
1272:     int tolua_ret = (  int)  self-&gt;bt_objectToInitpos(obj_id);
1273:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
1274:   }
1275:  }
1276:  return 1;
1277: #ifndef TOLUA_RELEASE
1278:  tolua_lerror:
1279:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_objectToInitpos&apos;.&quot;,&amp;tolua_err);
1280:  return 0;
1281: #endif
1282: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="129" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 125 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_set_bt_location_x ( lua_State * tolua_S )" content="119: #ifndef TOLUA_DISABLE_tolua_set_bt_location_x
120: static int tolua_set_bt_location_x(lua_State* tolua_S)
121: {
122:   bt_location* self = (bt_location*)  tolua_tousertype(tolua_S,1,0);
123: #ifndef TOLUA_RELEASE
124:   tolua_Error tolua_err;
125:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in accessing variable &apos;x&apos;&quot;,NULL);
126:   if (!tolua_isnumber(tolua_S,2,0,&amp;tolua_err))
127:    tolua_error(tolua_S,&quot;#vinvalid type in variable assignment.&quot;,&amp;tolua_err);
128: #endif
129:   self-&gt;x = ((  int)  tolua_tonumber(tolua_S,2,0))
130: ;
131:  return 0;
132: }
133: #endif //#ifndef TOLUA_DISABLE
134: 
135: /* get function: y of class  bt_location */
136: #ifndef TOLUA_DISABLE_tolua_get_bt_location_y
137: static int tolua_get_bt_location_y(lua_State* tolua_S)
138: {
139:   bt_location* self = (bt_location*)  tolua_tousertype(tolua_S,1,0);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="1306" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 1303 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_targetSkillLinearReachable00 ( lua_State * tolua_S )" content="1296:   goto tolua_lerror;
1297:  else
1298: #endif
1299:  {
1300:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
1301:    int obj_id = ((  int)  tolua_tonumber(tolua_S,2,0));
1302: #ifndef TOLUA_RELEASE
1303:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_targetSkillLinearReachable&apos;&quot;, NULL);
1304: #endif
1305:   {
1306:    bool tolua_ret = (bool)  self-&gt;bt_targetSkillLinearReachable(obj_id);
1307:    tolua_pushboolean(tolua_S,(bool)tolua_ret);
1308:   }
1309:  }
1310:  return 1;
1311: #ifndef TOLUA_RELEASE
1312:  tolua_lerror:
1313:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_targetSkillLinearReachable&apos;.&quot;,&amp;tolua_err);
1314:  return 0;
1315: #endif
1316: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="1338" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 1335 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getHpPercent00 ( lua_State * tolua_S )" content="1328:  )
1329:   goto tolua_lerror;
1330:  else
1331: #endif
1332:  {
1333:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
1334: #ifndef TOLUA_RELEASE
1335:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getHpPercent&apos;&quot;, NULL);
1336: #endif
1337:   {
1338:     char tolua_ret = (  char)  self-&gt;bt_getHpPercent();
1339:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
1340:   }
1341:  }
1342:  return 1;
1343: #ifndef TOLUA_RELEASE
1344:  tolua_lerror:
1345:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getHpPercent&apos;.&quot;,&amp;tolua_err);
1346:  return 0;
1347: #endif
1348: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="1372" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 1369 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getEnergyPercent00 ( lua_State * tolua_S )" content="1362:   goto tolua_lerror;
1363:  else
1364: #endif
1365:  {
1366:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
1367:    int card_id = ((  int)  tolua_tonumber(tolua_S,2,0));
1368: #ifndef TOLUA_RELEASE
1369:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getEnergyPercent&apos;&quot;, NULL);
1370: #endif
1371:   {
1372:     char tolua_ret = (  char)  self-&gt;bt_getEnergyPercent(card_id);
1373:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
1374:   }
1375:  }
1376:  return 1;
1377: #ifndef TOLUA_RELEASE
1378:  tolua_lerror:
1379:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getEnergyPercent&apos;.&quot;,&amp;tolua_err);
1380:  return 0;
1381: #endif
1382: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="1408" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 1405 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getLowestHpPlayer00 ( lua_State * tolua_S )" content="1398:  else
1399: #endif
1400:  {
1401:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
1402:    int dis = ((  int)  tolua_tonumber(tolua_S,2,0));
1403:    int percent = ((  int)  tolua_tonumber(tolua_S,3,0));
1404: #ifndef TOLUA_RELEASE
1405:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getLowestHpPlayer&apos;&quot;, NULL);
1406: #endif
1407:   {
1408:     int tolua_ret = (  int)  self-&gt;bt_getLowestHpPlayer(dis,percent);
1409:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
1410:   }
1411:  }
1412:  return 1;
1413: #ifndef TOLUA_RELEASE
1414:  tolua_lerror:
1415:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getLowestHpPlayer&apos;.&quot;,&amp;tolua_err);
1416:  return 0;
1417: #endif
1418: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="143" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 141 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_get_bt_location_y ( lua_State * tolua_S )" content="133: #endif //#ifndef TOLUA_DISABLE
134: 
135: /* get function: y of class  bt_location */
136: #ifndef TOLUA_DISABLE_tolua_get_bt_location_y
137: static int tolua_get_bt_location_y(lua_State* tolua_S)
138: {
139:   bt_location* self = (bt_location*)  tolua_tousertype(tolua_S,1,0);
140: #ifndef TOLUA_RELEASE
141:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in accessing variable &apos;y&apos;&quot;,NULL);
142: #endif
143:   tolua_pushnumber(tolua_S,(lua_Number)self-&gt;y);
144:  return 1;
145: }
146: #endif //#ifndef TOLUA_DISABLE
147: 
148: /* set function: y of class  bt_location */
149: #ifndef TOLUA_DISABLE_tolua_set_bt_location_y
150: static int tolua_set_bt_location_y(lua_State* tolua_S)
151: {
152:   bt_location* self = (bt_location*)  tolua_tousertype(tolua_S,1,0);
153: #ifndef TOLUA_RELEASE
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="1440" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 1437 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getSelf00 ( lua_State * tolua_S )" content="1430:  )
1431:   goto tolua_lerror;
1432:  else
1433: #endif
1434:  {
1435:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
1436: #ifndef TOLUA_RELEASE
1437:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getSelf&apos;&quot;, NULL);
1438: #endif
1439:   {
1440:     int tolua_ret = (  int)  self-&gt;bt_getSelf();
1441:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
1442:   }
1443:  }
1444:  return 1;
1445: #ifndef TOLUA_RELEASE
1446:  tolua_lerror:
1447:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getSelf&apos;.&quot;,&amp;tolua_err);
1448:  return 0;
1449: #endif
1450: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="1474" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 1471 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_skillExist00 ( lua_State * tolua_S )" content="1464:   goto tolua_lerror;
1465:  else
1466: #endif
1467:  {
1468:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
1469:    int skill_id = ((  int)  tolua_tonumber(tolua_S,2,0));
1470: #ifndef TOLUA_RELEASE
1471:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_skillExist&apos;&quot;, NULL);
1472: #endif
1473:   {
1474:    bool tolua_ret = (bool)  self-&gt;bt_skillExist(skill_id);
1475:    tolua_pushboolean(tolua_S,(bool)tolua_ret);
1476:   }
1477:  }
1478:  return 1;
1479: #ifndef TOLUA_RELEASE
1480:  tolua_lerror:
1481:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_skillExist&apos;.&quot;,&amp;tolua_err);
1482:  return 0;
1483: #endif
1484: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="1508" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 1505 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_skillCanUse00 ( lua_State * tolua_S )" content="1498:   goto tolua_lerror;
1499:  else
1500: #endif
1501:  {
1502:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
1503:    int skill_id = ((  int)  tolua_tonumber(tolua_S,2,0));
1504: #ifndef TOLUA_RELEASE
1505:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_skillCanUse&apos;&quot;, NULL);
1506: #endif
1507:   {
1508:    bool tolua_ret = (bool)  self-&gt;bt_skillCanUse(skill_id);
1509:    tolua_pushboolean(tolua_S,(bool)tolua_ret);
1510:   }
1511:  }
1512:  return 1;
1513: #ifndef TOLUA_RELEASE
1514:  tolua_lerror:
1515:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_skillCanUse&apos;.&quot;,&amp;tolua_err);
1516:  return 0;
1517: #endif
1518: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="1542" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 1539 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getNearEnemyNum00 ( lua_State * tolua_S )" content="1532:   goto tolua_lerror;
1533:  else
1534: #endif
1535:  {
1536:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
1537:    int dis = ((  int)  tolua_tonumber(tolua_S,2,0));
1538: #ifndef TOLUA_RELEASE
1539:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getNearEnemyNum&apos;&quot;, NULL);
1540: #endif
1541:   {
1542:     int tolua_ret = (  int)  self-&gt;bt_getNearEnemyNum(dis);
1543:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
1544:   }
1545:  }
1546:  return 1;
1547: #ifndef TOLUA_RELEASE
1548:  tolua_lerror:
1549:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getNearEnemyNum&apos;.&quot;,&amp;tolua_err);
1550:  return 0;
1551: #endif
1552: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="1574" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 1571 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getCurrentEnemy00 ( lua_State * tolua_S )" content="1564:  )
1565:   goto tolua_lerror;
1566:  else
1567: #endif
1568:  {
1569:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
1570: #ifndef TOLUA_RELEASE
1571:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getCurrentEnemy&apos;&quot;, NULL);
1572: #endif
1573:   {
1574:     int tolua_ret = (  int)  self-&gt;bt_getCurrentEnemy();
1575:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
1576:   }
1577:  }
1578:  return 1;
1579: #ifndef TOLUA_RELEASE
1580:  tolua_lerror:
1581:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getCurrentEnemy&apos;.&quot;,&amp;tolua_err);
1582:  return 0;
1583: #endif
1584: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="159" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 155 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_set_bt_location_y ( lua_State * tolua_S )" content="149: #ifndef TOLUA_DISABLE_tolua_set_bt_location_y
150: static int tolua_set_bt_location_y(lua_State* tolua_S)
151: {
152:   bt_location* self = (bt_location*)  tolua_tousertype(tolua_S,1,0);
153: #ifndef TOLUA_RELEASE
154:   tolua_Error tolua_err;
155:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in accessing variable &apos;y&apos;&quot;,NULL);
156:   if (!tolua_isnumber(tolua_S,2,0,&amp;tolua_err))
157:    tolua_error(tolua_S,&quot;#vinvalid type in variable assignment.&quot;,&amp;tolua_err);
158: #endif
159:   self-&gt;y = ((  int)  tolua_tonumber(tolua_S,2,0))
160: ;
161:  return 0;
162: }
163: #endif //#ifndef TOLUA_DISABLE
164: 
165: /* method: new of class  bt_location */
166: #ifndef TOLUA_DISABLE_tolua_lua_export_bt_location_new00
167: static int tolua_lua_export_bt_location_new00(lua_State* tolua_S)
168: {
169: #ifndef TOLUA_RELEASE
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="1608" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 1605 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getStronghold00 ( lua_State * tolua_S )" content="1598:   goto tolua_lerror;
1599:  else
1600: #endif
1601:  {
1602:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
1603:    int sh_id = ((  int)  tolua_tonumber(tolua_S,2,0));
1604: #ifndef TOLUA_RELEASE
1605:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getStronghold&apos;&quot;, NULL);
1606: #endif
1607:   {
1608:     int tolua_ret = (  int)  self-&gt;bt_getStronghold(sh_id);
1609:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
1610:   }
1611:  }
1612:  return 1;
1613: #ifndef TOLUA_RELEASE
1614:  tolua_lerror:
1615:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getStronghold&apos;.&quot;,&amp;tolua_err);
1616:  return 0;
1617: #endif
1618: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="1644" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 1641 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getNegativePos00 ( lua_State * tolua_S )" content="1634:  else
1635: #endif
1636:  {
1637:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
1638:    int obj_id = ((  int)  tolua_tonumber(tolua_S,2,0));
1639:    int dis = ((  int)  tolua_tonumber(tolua_S,3,0));
1640: #ifndef TOLUA_RELEASE
1641:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getNegativePos&apos;&quot;, NULL);
1642: #endif
1643:   {
1644:    bt_location tolua_ret = (bt_location)  self-&gt;bt_getNegativePos(obj_id,dis);
1645:    {
1646: #ifdef __cplusplus
1647:     void* tolua_obj = Mtolua_new((bt_location)(tolua_ret));
1648:      tolua_pushusertype(tolua_S,tolua_obj,&quot;bt_location&quot;);
1649:     tolua_register_gc(tolua_S,lua_gettop(tolua_S));
1650: #else
1651:     void* tolua_obj = tolua_copy(tolua_S,(void*)&amp;tolua_ret,sizeof(bt_location));
1652:      tolua_pushusertype(tolua_S,tolua_obj,&quot;bt_location&quot;);
1653:     tolua_register_gc(tolua_S,lua_gettop(tolua_S));
1654: #endif
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="1686" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 1683 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getCurLocation00 ( lua_State * tolua_S )" content="1676:  )
1677:   goto tolua_lerror;
1678:  else
1679: #endif
1680:  {
1681:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
1682: #ifndef TOLUA_RELEASE
1683:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getCurLocation&apos;&quot;, NULL);
1684: #endif
1685:   {
1686:    bt_location tolua_ret = (bt_location)  self-&gt;bt_getCurLocation();
1687:    {
1688: #ifdef __cplusplus
1689:     void* tolua_obj = Mtolua_new((bt_location)(tolua_ret));
1690:      tolua_pushusertype(tolua_S,tolua_obj,&quot;bt_location&quot;);
1691:     tolua_register_gc(tolua_S,lua_gettop(tolua_S));
1692: #else
1693:     void* tolua_obj = tolua_copy(tolua_S,(void*)&amp;tolua_ret,sizeof(bt_location));
1694:      tolua_pushusertype(tolua_S,tolua_obj,&quot;bt_location&quot;);
1695:     tolua_register_gc(tolua_S,lua_gettop(tolua_S));
1696: #endif
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="1728" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 1725 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getTime00 ( lua_State * tolua_S )" content="1718:  )
1719:   goto tolua_lerror;
1720:  else
1721: #endif
1722:  {
1723:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
1724: #ifndef TOLUA_RELEASE
1725:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getTime&apos;&quot;, NULL);
1726: #endif
1727:   {
1728:     int tolua_ret = (  int)  self-&gt;bt_getTime();
1729:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
1730:   }
1731:  }
1732:  return 1;
1733: #ifndef TOLUA_RELEASE
1734:  tolua_lerror:
1735:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getTime&apos;.&quot;,&amp;tolua_err);
1736:  return 0;
1737: #endif
1738: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="1762" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 1759 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getDistancePos00 ( lua_State * tolua_S )" content="1752:   goto tolua_lerror;
1753:  else
1754: #endif
1755:  {
1756:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
1757:   bt_location bpos = *((bt_location*)  tolua_tousertype(tolua_S,2,0));
1758: #ifndef TOLUA_RELEASE
1759:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getDistancePos&apos;&quot;, NULL);
1760: #endif
1761:   {
1762:     int tolua_ret = (  int)  self-&gt;bt_getDistancePos(bpos);
1763:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
1764:   }
1765:  }
1766:  return 1;
1767: #ifndef TOLUA_RELEASE
1768:  tolua_lerror:
1769:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getDistancePos&apos;.&quot;,&amp;tolua_err);
1770:  return 0;
1771: #endif
1772: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="1796" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 1793 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getNearFriendNum00 ( lua_State * tolua_S )" content="1786:   goto tolua_lerror;
1787:  else
1788: #endif
1789:  {
1790:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
1791:    int dis = ((  int)  tolua_tonumber(tolua_S,2,0));
1792: #ifndef TOLUA_RELEASE
1793:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getNearFriendNum&apos;&quot;, NULL);
1794: #endif
1795:   {
1796:     int tolua_ret = (  int)  self-&gt;bt_getNearFriendNum(dis);
1797:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
1798:   }
1799:  }
1800:  return 1;
1801: #ifndef TOLUA_RELEASE
1802:  tolua_lerror:
1803:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getNearFriendNum&apos;.&quot;,&amp;tolua_err);
1804:  return 0;
1805: #endif
1806: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="1828" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 1825 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getClosestSkillBall00 ( lua_State * tolua_S )" content="1818:  )
1819:   goto tolua_lerror;
1820:  else
1821: #endif
1822:  {
1823:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
1824: #ifndef TOLUA_RELEASE
1825:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getClosestSkillBall&apos;&quot;, NULL);
1826: #endif
1827:   {
1828:     int tolua_ret = (  int)  self-&gt;bt_getClosestSkillBall();
1829:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
1830:   }
1831:  }
1832:  return 1;
1833: #ifndef TOLUA_RELEASE
1834:  tolua_lerror:
1835:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getClosestSkillBall&apos;.&quot;,&amp;tolua_err);
1836:  return 0;
1837: #endif
1838: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="1862" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 1859 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_pickupSkillBall00 ( lua_State * tolua_S )" content="1852:   goto tolua_lerror;
1853:  else
1854: #endif
1855:  {
1856:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
1857:    int obj_id = ((  int)  tolua_tonumber(tolua_S,2,0));
1858: #ifndef TOLUA_RELEASE
1859:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_pickupSkillBall&apos;&quot;, NULL);
1860: #endif
1861:   {
1862:     int tolua_ret = (  int)  self-&gt;bt_pickupSkillBall(obj_id);
1863:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
1864:   }
1865:  }
1866:  return 1;
1867: #ifndef TOLUA_RELEASE
1868:  tolua_lerror:
1869:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_pickupSkillBall&apos;.&quot;,&amp;tolua_err);
1870:  return 0;
1871: #endif
1872: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="1898" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 1895 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getCarrierById00 ( lua_State * tolua_S )" content="1888:  else
1889: #endif
1890:  {
1891:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
1892:    int carrier_id = ((  int)  tolua_tonumber(tolua_S,2,0));
1893:    int carrier_type = ((  int)  tolua_tonumber(tolua_S,3,0));
1894: #ifndef TOLUA_RELEASE
1895:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getCarrierById&apos;&quot;, NULL);
1896: #endif
1897:   {
1898:     int tolua_ret = (  int)  self-&gt;bt_getCarrierById(carrier_id,carrier_type);
1899:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
1900:   }
1901:  }
1902:  return 1;
1903: #ifndef TOLUA_RELEASE
1904:  tolua_lerror:
1905:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getCarrierById&apos;.&quot;,&amp;tolua_err);
1906:  return 0;
1907: #endif
1908: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="1934" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 1931 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_get_LCarrierById00 ( lua_State * tolua_S )" content="1924:  else
1925: #endif
1926:  {
1927:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
1928:    int carrier_id = ((  int)  tolua_tonumber(tolua_S,2,0));
1929:    int carrier_type = ((  int)  tolua_tonumber(tolua_S,3,0));
1930: #ifndef TOLUA_RELEASE
1931:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_get_LCarrierById&apos;&quot;, NULL);
1932: #endif
1933:   {
1934:     int tolua_ret = (  int)  self-&gt;bt_get_LCarrierById(carrier_id,carrier_type);
1935:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
1936:   }
1937:  }
1938:  return 1;
1939: #ifndef TOLUA_RELEASE
1940:  tolua_lerror:
1941:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_get_LCarrierById&apos;.&quot;,&amp;tolua_err);
1942:  return 0;
1943: #endif
1944: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="1968" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 1965 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_preUseCarrierById00 ( lua_State * tolua_S )" content="1958:   goto tolua_lerror;
1959:  else
1960: #endif
1961:  {
1962:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
1963:    int cid = ((  int)  tolua_tonumber(tolua_S,2,0));
1964: #ifndef TOLUA_RELEASE
1965:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_preUseCarrierById&apos;&quot;, NULL);
1966: #endif
1967:   {
1968:     int tolua_ret = (  int)  self-&gt;bt_preUseCarrierById(cid);
1969:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
1970:   }
1971:  }
1972:  return 1;
1973: #ifndef TOLUA_RELEASE
1974:  tolua_lerror:
1975:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_preUseCarrierById&apos;.&quot;,&amp;tolua_err);
1976:  return 0;
1977: #endif
1978: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="2002" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 1999 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getCarrierCanUse00 ( lua_State * tolua_S )" content="1992:   goto tolua_lerror;
1993:  else
1994: #endif
1995:  {
1996:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
1997:    int obj_id = ((  int)  tolua_tonumber(tolua_S,2,0));
1998: #ifndef TOLUA_RELEASE
1999:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getCarrierCanUse&apos;&quot;, NULL);
2000: #endif
2001:   {
2002:    bool tolua_ret = (bool)  self-&gt;bt_getCarrierCanUse(obj_id);
2003:    tolua_pushboolean(tolua_S,(bool)tolua_ret);
2004:   }
2005:  }
2006:  return 1;
2007: #ifndef TOLUA_RELEASE
2008:  tolua_lerror:
2009:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getCarrierCanUse&apos;.&quot;,&amp;tolua_err);
2010:  return 0;
2011: #endif
2012: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="2042" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 2039 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getCarrierNum00 ( lua_State * tolua_S )" content="2032:  {
2033:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
2034:    int sh_id = ((  int)  tolua_tonumber(tolua_S,2,0));
2035:    int car_id = ((  int)  tolua_tonumber(tolua_S,3,0));
2036:    int _faction = ((  int)  tolua_tonumber(tolua_S,4,0));
2037:   bool is_use = ((bool)  tolua_toboolean(tolua_S,5,false));
2038: #ifndef TOLUA_RELEASE
2039:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getCarrierNum&apos;&quot;, NULL);
2040: #endif
2041:   {
2042:     int tolua_ret = (  int)  self-&gt;bt_getCarrierNum(sh_id,car_id,_faction,is_use);
2043:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
2044:   }
2045:  }
2046:  return 1;
2047: #ifndef TOLUA_RELEASE
2048:  tolua_lerror:
2049:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getCarrierNum&apos;.&quot;,&amp;tolua_err);
2050:  return 0;
2051: #endif
2052: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="2076" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 2073 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getOnCarrier00 ( lua_State * tolua_S )" content="2066:   goto tolua_lerror;
2067:  else
2068: #endif
2069:  {
2070:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
2071:    int obj_id = ((  int)  tolua_tonumber(tolua_S,2,0));
2072: #ifndef TOLUA_RELEASE
2073:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getOnCarrier&apos;&quot;, NULL);
2074: #endif
2075:   {
2076:     int tolua_ret = (  int)  self-&gt;bt_getOnCarrier(obj_id);
2077:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
2078:   }
2079:  }
2080:  return 1;
2081: #ifndef TOLUA_RELEASE
2082:  tolua_lerror:
2083:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getOnCarrier&apos;.&quot;,&amp;tolua_err);
2084:  return 0;
2085: #endif
2086: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="2108" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 2105 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getOffCarrier00 ( lua_State * tolua_S )" content="2098:  )
2099:   goto tolua_lerror;
2100:  else
2101: #endif
2102:  {
2103:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
2104: #ifndef TOLUA_RELEASE
2105:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getOffCarrier&apos;&quot;, NULL);
2106: #endif
2107:   {
2108:     int tolua_ret = (  int)  self-&gt;bt_getOffCarrier();
2109:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
2110:   }
2111:  }
2112:  return 1;
2113: #ifndef TOLUA_RELEASE
2114:  tolua_lerror:
2115:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getOffCarrier&apos;.&quot;,&amp;tolua_err);
2116:  return 0;
2117: #endif
2118: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="2140" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 2137 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getOnWhichCarrier00 ( lua_State * tolua_S )" content="2130:  )
2131:   goto tolua_lerror;
2132:  else
2133: #endif
2134:  {
2135:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
2136: #ifndef TOLUA_RELEASE
2137:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getOnWhichCarrier&apos;&quot;, NULL);
2138: #endif
2139:   {
2140:     int tolua_ret = (  int)  self-&gt;bt_getOnWhichCarrier();
2141:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
2142:   }
2143:  }
2144:  return 1;
2145: #ifndef TOLUA_RELEASE
2146:  tolua_lerror:
2147:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getOnWhichCarrier&apos;.&quot;,&amp;tolua_err);
2148:  return 0;
2149: #endif
2150: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="2172" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 2169 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_get_OnWhichLCarrier00 ( lua_State * tolua_S )" content="2162:  )
2163:   goto tolua_lerror;
2164:  else
2165: #endif
2166:  {
2167:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
2168: #ifndef TOLUA_RELEASE
2169:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_get_OnWhichLCarrier&apos;&quot;, NULL);
2170: #endif
2171:   {
2172:     int tolua_ret = (  int)  self-&gt;bt_get_OnWhichLCarrier();
2173:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
2174:   }
2175:  }
2176:  return 1;
2177: #ifndef TOLUA_RELEASE
2178:  tolua_lerror:
2179:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_get_OnWhichLCarrier&apos;.&quot;,&amp;tolua_err);
2180:  return 0;
2181: #endif
2182: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="2206" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 2203 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getBuilding00 ( lua_State * tolua_S )" content="2196:   goto tolua_lerror;
2197:  else
2198: #endif
2199:  {
2200:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
2201:    int bid = ((  int)  tolua_tonumber(tolua_S,2,0));
2202: #ifndef TOLUA_RELEASE
2203:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getBuilding&apos;&quot;, NULL);
2204: #endif
2205:   {
2206:     int tolua_ret = (  int)  self-&gt;bt_getBuilding(bid);
2207:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
2208:   }
2209:  }
2210:  return 1;
2211: #ifndef TOLUA_RELEASE
2212:  tolua_lerror:
2213:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getBuilding&apos;.&quot;,&amp;tolua_err);
2214:  return 0;
2215: #endif
2216: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="2240" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 2237 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getLadderCanUse00 ( lua_State * tolua_S )" content="2230:   goto tolua_lerror;
2231:  else
2232: #endif
2233:  {
2234:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
2235:    int obj_id = ((  int)  tolua_tonumber(tolua_S,2,0));
2236: #ifndef TOLUA_RELEASE
2237:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getLadderCanUse&apos;&quot;, NULL);
2238: #endif
2239:   {
2240:    bool tolua_ret = (bool)  self-&gt;bt_getLadderCanUse(obj_id);
2241:    tolua_pushboolean(tolua_S,(bool)tolua_ret);
2242:   }
2243:  }
2244:  return 1;
2245: #ifndef TOLUA_RELEASE
2246:  tolua_lerror:
2247:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getLadderCanUse&apos;.&quot;,&amp;tolua_err);
2248:  return 0;
2249: #endif
2250: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="2274" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 2271 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_climUpLadder00 ( lua_State * tolua_S )" content="2264:   goto tolua_lerror;
2265:  else
2266: #endif
2267:  {
2268:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
2269:    int obj_id = ((  int)  tolua_tonumber(tolua_S,2,0));
2270: #ifndef TOLUA_RELEASE
2271:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_climUpLadder&apos;&quot;, NULL);
2272: #endif
2273:   {
2274:     int tolua_ret = (  int)  self-&gt;bt_climUpLadder(obj_id);
2275:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
2276:   }
2277:  }
2278:  return 1;
2279: #ifndef TOLUA_RELEASE
2280:  tolua_lerror:
2281:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_climUpLadder&apos;.&quot;,&amp;tolua_err);
2282:  return 0;
2283: #endif
2284: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="2308" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 2305 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_get_Ladder00 ( lua_State * tolua_S )" content="2298:   goto tolua_lerror;
2299:  else
2300: #endif
2301:  {
2302:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
2303:    int type = ((  int)  tolua_tonumber(tolua_S,2,0));
2304: #ifndef TOLUA_RELEASE
2305:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_get_Ladder&apos;&quot;, NULL);
2306: #endif
2307:   {
2308:     int tolua_ret = (  int)  self-&gt;bt_get_Ladder(type);
2309:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
2310:   }
2311:  }
2312:  return 1;
2313: #ifndef TOLUA_RELEASE
2314:  tolua_lerror:
2315:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_get_Ladder&apos;.&quot;,&amp;tolua_err);
2316:  return 0;
2317: #endif
2318: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="2342" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 2339 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_get_PTTroll00 ( lua_State * tolua_S )" content="2332:   goto tolua_lerror;
2333:  else
2334: #endif
2335:  {
2336:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
2337:    int type = ((  int)  tolua_tonumber(tolua_S,2,0));
2338: #ifndef TOLUA_RELEASE
2339:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_get_PTTroll&apos;&quot;, NULL);
2340: #endif
2341:   {
2342:     int tolua_ret = (  int)  self-&gt;bt_get_PTTroll(type);
2343:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
2344:   }
2345:  }
2346:  return 1;
2347: #ifndef TOLUA_RELEASE
2348:  tolua_lerror:
2349:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_get_PTTroll&apos;.&quot;,&amp;tolua_err);
2350:  return 0;
2351: #endif
2352: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="2376" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 2373 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_get_PTTrollState00 ( lua_State * tolua_S )" content="2366:   goto tolua_lerror;
2367:  else
2368: #endif
2369:  {
2370:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
2371:    int type = ((  int)  tolua_tonumber(tolua_S,2,0));
2372: #ifndef TOLUA_RELEASE
2373:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_get_PTTrollState&apos;&quot;, NULL);
2374: #endif
2375:   {
2376:     int tolua_ret = (  int)  self-&gt;bt_get_PTTrollState(type);
2377:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
2378:   }
2379:  }
2380:  return 1;
2381: #ifndef TOLUA_RELEASE
2382:  tolua_lerror:
2383:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_get_PTTrollState&apos;.&quot;,&amp;tolua_err);
2384:  return 0;
2385: #endif
2386: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="2410" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 2407 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_Spur00 ( lua_State * tolua_S )" content="2400:   goto tolua_lerror;
2401:  else
2402: #endif
2403:  {
2404:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
2405:    int sid = ((  int)  tolua_tonumber(tolua_S,2,0));
2406: #ifndef TOLUA_RELEASE
2407:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_Spur&apos;&quot;, NULL);
2408: #endif
2409:   {
2410:     int tolua_ret = (  int)  self-&gt;bt_Spur(sid);
2411:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
2412:   }
2413:  }
2414:  return 1;
2415: #ifndef TOLUA_RELEASE
2416:  tolua_lerror:
2417:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_Spur&apos;.&quot;,&amp;tolua_err);
2418:  return 0;
2419: #endif
2420: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="2442" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 2439 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_get_SetObj00 ( lua_State * tolua_S )" content="2432:  )
2433:   goto tolua_lerror;
2434:  else
2435: #endif
2436:  {
2437:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
2438: #ifndef TOLUA_RELEASE
2439:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_get_SetObj&apos;&quot;, NULL);
2440: #endif
2441:   {
2442:     int tolua_ret = (  int)  self-&gt;bt_get_SetObj();
2443:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
2444:   }
2445:  }
2446:  return 1;
2447: #ifndef TOLUA_RELEASE
2448:  tolua_lerror:
2449:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_get_SetObj&apos;.&quot;,&amp;tolua_err);
2450:  return 0;
2451: #endif
2452: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="2476" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 2473 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_respondSet00 ( lua_State * tolua_S )" content="2466:   goto tolua_lerror;
2467:  else
2468: #endif
2469:  {
2470:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
2471:    int sid = ((  int)  tolua_tonumber(tolua_S,2,0));
2472: #ifndef TOLUA_RELEASE
2473:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_respondSet&apos;&quot;, NULL);
2474: #endif
2475:   {
2476:     int tolua_ret = (  int)  self-&gt;bt_respondSet(sid);
2477:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
2478:   }
2479:  }
2480:  return 1;
2481: #ifndef TOLUA_RELEASE
2482:  tolua_lerror:
2483:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_respondSet&apos;.&quot;,&amp;tolua_err);
2484:  return 0;
2485: #endif
2486: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="2508" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 2505 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_get_SceneID00 ( lua_State * tolua_S )" content="2498:  )
2499:   goto tolua_lerror;
2500:  else
2501: #endif
2502:  {
2503:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
2504: #ifndef TOLUA_RELEASE
2505:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_get_SceneID&apos;&quot;, NULL);
2506: #endif
2507:   {
2508:     int tolua_ret = (  int)  self-&gt;bt_get_SceneID();
2509:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
2510:   }
2511:  }
2512:  return 1;
2513: #ifndef TOLUA_RELEASE
2514:  tolua_lerror:
2515:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_get_SceneID&apos;.&quot;,&amp;tolua_err);
2516:  return 0;
2517: #endif
2518: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="2540" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 2537 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_get_OffAndDef00 ( lua_State * tolua_S )" content="2530:  )
2531:   goto tolua_lerror;
2532:  else
2533: #endif
2534:  {
2535:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
2536: #ifndef TOLUA_RELEASE
2537:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_get_OffAndDef&apos;&quot;, NULL);
2538: #endif
2539:   {
2540:     int tolua_ret = (  int)  self-&gt;bt_get_OffAndDef();
2541:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
2542:   }
2543:  }
2544:  return 1;
2545: #ifndef TOLUA_RELEASE
2546:  tolua_lerror:
2547:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_get_OffAndDef&apos;.&quot;,&amp;tolua_err);
2548:  return 0;
2549: #endif
2550: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="2572" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 2569 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_get_mine00 ( lua_State * tolua_S )" content="2562:  )
2563:   goto tolua_lerror;
2564:  else
2565: #endif
2566:  {
2567:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
2568: #ifndef TOLUA_RELEASE
2569:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_get_mine&apos;&quot;, NULL);
2570: #endif
2571:   {
2572:     int tolua_ret = (  int)  self-&gt;bt_get_mine();
2573:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
2574:   }
2575:  }
2576:  return 1;
2577: #ifndef TOLUA_RELEASE
2578:  tolua_lerror:
2579:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_get_mine&apos;.&quot;,&amp;tolua_err);
2580:  return 0;
2581: #endif
2582: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="2604" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 2601 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_before_collection_mine00 ( lua_State * tolua_S )" content="2594:  )
2595:   goto tolua_lerror;
2596:  else
2597: #endif
2598:  {
2599:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
2600: #ifndef TOLUA_RELEASE
2601:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_before_collection_mine&apos;&quot;, NULL);
2602: #endif
2603:   {
2604:    bool tolua_ret = (bool)  self-&gt;bt_before_collection_mine();
2605:    tolua_pushboolean(tolua_S,(bool)tolua_ret);
2606:   }
2607:  }
2608:  return 1;
2609: #ifndef TOLUA_RELEASE
2610:  tolua_lerror:
2611:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_before_collection_mine&apos;.&quot;,&amp;tolua_err);
2612:  return 0;
2613: #endif
2614: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="2636" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 2633 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_get_wall_state00 ( lua_State * tolua_S )" content="2626:  )
2627:   goto tolua_lerror;
2628:  else
2629: #endif
2630:  {
2631:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
2632: #ifndef TOLUA_RELEASE
2633:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_get_wall_state&apos;&quot;, NULL);
2634: #endif
2635:   {
2636:    bool tolua_ret = (bool)  self-&gt;bt_get_wall_state();
2637:    tolua_pushboolean(tolua_S,(bool)tolua_ret);
2638:   }
2639:  }
2640:  return 1;
2641: #ifndef TOLUA_RELEASE
2642:  tolua_lerror:
2643:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_get_wall_state&apos;.&quot;,&amp;tolua_err);
2644:  return 0;
2645: #endif
2646: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="2668" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 2665 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_open_gate00 ( lua_State * tolua_S )" content="2658:  )
2659:   goto tolua_lerror;
2660:  else
2661: #endif
2662:  {
2663:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
2664: #ifndef TOLUA_RELEASE
2665:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_open_gate&apos;&quot;, NULL);
2666: #endif
2667:   {
2668:    self-&gt;bt_open_gate();
2669:   }
2670:  }
2671:  return 0;
2672: #ifndef TOLUA_RELEASE
2673:  tolua_lerror:
2674:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_open_gate&apos;.&quot;,&amp;tolua_err);
2675:  return 0;
2676: #endif
2677: }
2678: #endif //#ifndef TOLUA_DISABLE
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="2701" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 2698 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_get_materialSH00 ( lua_State * tolua_S )" content="2691:   goto tolua_lerror;
2692:  else
2693: #endif
2694:  {
2695:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
2696:    int type = ((  int)  tolua_tonumber(tolua_S,2,0));
2697: #ifndef TOLUA_RELEASE
2698:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_get_materialSH&apos;&quot;, NULL);
2699: #endif
2700:   {
2701:     int tolua_ret = (  int)  self-&gt;bt_get_materialSH(type);
2702:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
2703:   }
2704:  }
2705:  return 1;
2706: #ifndef TOLUA_RELEASE
2707:  tolua_lerror:
2708:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_get_materialSH&apos;.&quot;,&amp;tolua_err);
2709:  return 0;
2710: #endif
2711: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="2735" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 2732 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_get_materialSH_state00 ( lua_State * tolua_S )" content="2725:   goto tolua_lerror;
2726:  else
2727: #endif
2728:  {
2729:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
2730:    int obj_sid = ((  int)  tolua_tonumber(tolua_S,2,0));
2731: #ifndef TOLUA_RELEASE
2732:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_get_materialSH_state&apos;&quot;, NULL);
2733: #endif
2734:   {
2735:     int tolua_ret = (  int)  self-&gt;bt_get_materialSH_state(obj_sid);
2736:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
2737:   }
2738:  }
2739:  return 1;
2740: #ifndef TOLUA_RELEASE
2741:  tolua_lerror:
2742:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_get_materialSH_state&apos;.&quot;,&amp;tolua_err);
2743:  return 0;
2744: #endif
2745: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="2769" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 2766 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_collect_materialSH00 ( lua_State * tolua_S )" content="2759:   goto tolua_lerror;
2760:  else
2761: #endif
2762:  {
2763:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
2764:    int num = ((  int)  tolua_tonumber(tolua_S,2,0));
2765: #ifndef TOLUA_RELEASE
2766:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_collect_materialSH&apos;&quot;, NULL);
2767: #endif
2768:   {
2769:     int tolua_ret = (  int)  self-&gt;bt_collect_materialSH(num);
2770:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
2771:   }
2772:  }
2773:  return 1;
2774: #ifndef TOLUA_RELEASE
2775:  tolua_lerror:
2776:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_collect_materialSH&apos;.&quot;,&amp;tolua_err);
2777:  return 0;
2778: #endif
2779: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="2803" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 2800 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_collection_mine00 ( lua_State * tolua_S )" content="2793:   goto tolua_lerror;
2794:  else
2795: #endif
2796:  {
2797:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
2798:    int obj_sid = ((  int)  tolua_tonumber(tolua_S,2,0));
2799: #ifndef TOLUA_RELEASE
2800:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_collection_mine&apos;&quot;, NULL);
2801: #endif
2802:   {
2803:    self-&gt;bt_collection_mine(obj_sid);
2804:   }
2805:  }
2806:  return 0;
2807: #ifndef TOLUA_RELEASE
2808:  tolua_lerror:
2809:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_collection_mine&apos;.&quot;,&amp;tolua_err);
2810:  return 0;
2811: #endif
2812: }
2813: #endif //#ifndef TOLUA_DISABLE
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="2836" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 2833 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_collect_goodwar00 ( lua_State * tolua_S )" content="2826:   goto tolua_lerror;
2827:  else
2828: #endif
2829:  {
2830:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
2831:    int obj_sid = ((  int)  tolua_tonumber(tolua_S,2,0));
2832: #ifndef TOLUA_RELEASE
2833:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_collect_goodwar&apos;&quot;, NULL);
2834: #endif
2835:   {
2836:    self-&gt;bt_collect_goodwar(obj_sid);
2837:   }
2838:  }
2839:  return 0;
2840: #ifndef TOLUA_RELEASE
2841:  tolua_lerror:
2842:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_collect_goodwar&apos;.&quot;,&amp;tolua_err);
2843:  return 0;
2844: #endif
2845: }
2846: #endif //#ifndef TOLUA_DISABLE
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="2867" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 2864 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_closest_goodwar00 ( lua_State * tolua_S )" content="2857:  )
2858:   goto tolua_lerror;
2859:  else
2860: #endif
2861:  {
2862:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
2863: #ifndef TOLUA_RELEASE
2864:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_closest_goodwar&apos;&quot;, NULL);
2865: #endif
2866:   {
2867:     int tolua_ret = (  int)  self-&gt;bt_closest_goodwar();
2868:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
2869:   }
2870:  }
2871:  return 1;
2872: #ifndef TOLUA_RELEASE
2873:  tolua_lerror:
2874:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_closest_goodwar&apos;.&quot;,&amp;tolua_err);
2875:  return 0;
2876: #endif
2877: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="2901" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 2898 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_is_have_goods00 ( lua_State * tolua_S )" content="2891:   goto tolua_lerror;
2892:  else
2893: #endif
2894:  {
2895:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
2896:    int obj_sid = ((  int)  tolua_tonumber(tolua_S,2,0));
2897: #ifndef TOLUA_RELEASE
2898:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_is_have_goods&apos;&quot;, NULL);
2899: #endif
2900:   {
2901:    bool tolua_ret = (bool)  self-&gt;bt_is_have_goods(obj_sid);
2902:    tolua_pushboolean(tolua_S,(bool)tolua_ret);
2903:   }
2904:  }
2905:  return 1;
2906: #ifndef TOLUA_RELEASE
2907:  tolua_lerror:
2908:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_is_have_goods&apos;.&quot;,&amp;tolua_err);
2909:  return 0;
2910: #endif
2911: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="2935" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 2932 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_repair_buliding00 ( lua_State * tolua_S )" content="2925:   goto tolua_lerror;
2926:  else
2927: #endif
2928:  {
2929:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
2930:    int obj_sid = ((  int)  tolua_tonumber(tolua_S,2,0));
2931: #ifndef TOLUA_RELEASE
2932:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_repair_buliding&apos;&quot;, NULL);
2933: #endif
2934:   {
2935:    self-&gt;bt_repair_buliding(obj_sid);
2936:   }
2937:  }
2938:  return 0;
2939: #ifndef TOLUA_RELEASE
2940:  tolua_lerror:
2941:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_repair_buliding&apos;.&quot;,&amp;tolua_err);
2942:  return 0;
2943: #endif
2944: }
2945: #endif //#ifndef TOLUA_DISABLE
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="2966" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 2963 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_put_in_goods00 ( lua_State * tolua_S )" content="2956:  )
2957:   goto tolua_lerror;
2958:  else
2959: #endif
2960:  {
2961:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
2962: #ifndef TOLUA_RELEASE
2963:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_put_in_goods&apos;&quot;, NULL);
2964: #endif
2965:   {
2966:    self-&gt;bt_put_in_goods();
2967:   }
2968:  }
2969:  return 0;
2970: #ifndef TOLUA_RELEASE
2971:  tolua_lerror:
2972:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_put_in_goods&apos;.&quot;,&amp;tolua_err);
2973:  return 0;
2974: #endif
2975: }
2976: #endif //#ifndef TOLUA_DISABLE
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="2999" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 2996 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_Recovery_Point00 ( lua_State * tolua_S )" content="2989:   goto tolua_lerror;
2990:  else
2991: #endif
2992:  {
2993:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
2994:    int type = ((  int)  tolua_tonumber(tolua_S,2,0));
2995: #ifndef TOLUA_RELEASE
2996:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_Recovery_Point&apos;&quot;, NULL);
2997: #endif
2998:   {
2999:     int tolua_ret = (  int)  self-&gt;bt_Recovery_Point(type);
3000:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
3001:   }
3002:  }
3003:  return 1;
3004: #ifndef TOLUA_RELEASE
3005:  tolua_lerror:
3006:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_Recovery_Point&apos;.&quot;,&amp;tolua_err);
3007:  return 0;
3008: #endif
3009: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="300" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 297 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_revive00 ( lua_State * tolua_S )" content="290:  )
291:   goto tolua_lerror;
292:  else
293: #endif
294:  {
295:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
296: #ifndef TOLUA_RELEASE
297:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_revive&apos;&quot;, NULL);
298: #endif
299:   {
300:     int tolua_ret = (  int)  self-&gt;bt_revive();
301:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
302:   }
303:  }
304:  return 1;
305: #ifndef TOLUA_RELEASE
306:  tolua_lerror:
307:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_revive&apos;.&quot;,&amp;tolua_err);
308:  return 0;
309: #endif
310: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="3033" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 3030 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_recovery_HP00 ( lua_State * tolua_S )" content="3023:   goto tolua_lerror;
3024:  else
3025: #endif
3026:  {
3027:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
3028:    int sid = ((  int)  tolua_tonumber(tolua_S,2,0));
3029: #ifndef TOLUA_RELEASE
3030:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_recovery_HP&apos;&quot;, NULL);
3031: #endif
3032:   {
3033:    self-&gt;bt_recovery_HP(sid);
3034:   }
3035:  }
3036:  return 0;
3037: #ifndef TOLUA_RELEASE
3038:  tolua_lerror:
3039:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_recovery_HP&apos;.&quot;,&amp;tolua_err);
3040:  return 0;
3041: #endif
3042: }
3043: #endif //#ifndef TOLUA_DISABLE
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="3064" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 3061 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_get_AbsorbRadius00 ( lua_State * tolua_S )" content="3054:  )
3055:   goto tolua_lerror;
3056:  else
3057: #endif
3058:  {
3059:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
3060: #ifndef TOLUA_RELEASE
3061:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_get_AbsorbRadius&apos;&quot;, NULL);
3062: #endif
3063:   {
3064:     int tolua_ret = (  int)  self-&gt;bt_get_AbsorbRadius();
3065:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
3066:   }
3067:  }
3068:  return 1;
3069: #ifndef TOLUA_RELEASE
3070:  tolua_lerror:
3071:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_get_AbsorbRadius&apos;.&quot;,&amp;tolua_err);
3072:  return 0;
3073: #endif
3074: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="3096" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 3093 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_get_UseRadius00 ( lua_State * tolua_S )" content="3086:  )
3087:   goto tolua_lerror;
3088:  else
3089: #endif
3090:  {
3091:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
3092: #ifndef TOLUA_RELEASE
3093:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_get_UseRadius&apos;&quot;, NULL);
3094: #endif
3095:   {
3096:     int tolua_ret = (  int)  self-&gt;bt_get_UseRadius();
3097:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
3098:   }
3099:  }
3100:  return 1;
3101: #ifndef TOLUA_RELEASE
3102:  tolua_lerror:
3103:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_get_UseRadius&apos;.&quot;,&amp;tolua_err);
3104:  return 0;
3105: #endif
3106: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="3128" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 3125 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_get_ClosestFriend00 ( lua_State * tolua_S )" content="3118:  )
3119:   goto tolua_lerror;
3120:  else
3121: #endif
3122:  {
3123:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
3124: #ifndef TOLUA_RELEASE
3125:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_get_ClosestFriend&apos;&quot;, NULL);
3126: #endif
3127:   {
3128:     int tolua_ret = (  int)  self-&gt;bt_get_ClosestFriend();
3129:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
3130:   }
3131:  }
3132:  return 1;
3133: #ifndef TOLUA_RELEASE
3134:  tolua_lerror:
3135:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_get_ClosestFriend&apos;.&quot;,&amp;tolua_err);
3136:  return 0;
3137: #endif
3138: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="3160" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 3157 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_get_DropCoordinate00 ( lua_State * tolua_S )" content="3150:  )
3151:   goto tolua_lerror;
3152:  else
3153: #endif
3154:  {
3155:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
3156: #ifndef TOLUA_RELEASE
3157:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_get_DropCoordinate&apos;&quot;, NULL);
3158: #endif
3159:   {
3160:    bt_location tolua_ret = (bt_location)  self-&gt;bt_get_DropCoordinate();
3161:    {
3162: #ifdef __cplusplus
3163:     void* tolua_obj = Mtolua_new((bt_location)(tolua_ret));
3164:      tolua_pushusertype(tolua_S,tolua_obj,&quot;bt_location&quot;);
3165:     tolua_register_gc(tolua_S,lua_gettop(tolua_S));
3166: #else
3167:     void* tolua_obj = tolua_copy(tolua_S,(void*)&amp;tolua_ret,sizeof(bt_location));
3168:      tolua_pushusertype(tolua_S,tolua_obj,&quot;bt_location&quot;);
3169:     tolua_register_gc(tolua_S,lua_gettop(tolua_S));
3170: #endif
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="3202" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 3199 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_get_serial_number00 ( lua_State * tolua_S )" content="3192:  )
3193:   goto tolua_lerror;
3194:  else
3195: #endif
3196:  {
3197:   const SPlayer* self = (const SPlayer*)  tolua_tousertype(tolua_S,1,0);
3198: #ifndef TOLUA_RELEASE
3199:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_get_serial_number&apos;&quot;, NULL);
3200: #endif
3201:   {
3202:     int tolua_ret = (  int)  self-&gt;bt_get_serial_number();
3203:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
3204:   }
3205:  }
3206:  return 1;
3207: #ifndef TOLUA_RELEASE
3208:  tolua_lerror:
3209:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_get_serial_number&apos;.&quot;,&amp;tolua_err);
3210:  return 0;
3211: #endif
3212: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="3234" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 3231 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getCurlLayer00 ( lua_State * tolua_S )" content="3224:  )
3225:   goto tolua_lerror;
3226:  else
3227: #endif
3228:  {
3229:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
3230: #ifndef TOLUA_RELEASE
3231:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getCurlLayer&apos;&quot;, NULL);
3232: #endif
3233:   {
3234:     int tolua_ret = (  int)  self-&gt;bt_getCurlLayer();
3235:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
3236:   }
3237:  }
3238:  return 1;
3239: #ifndef TOLUA_RELEASE
3240:  tolua_lerror:
3241:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getCurlLayer&apos;.&quot;,&amp;tolua_err);
3242:  return 0;
3243: #endif
3244: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="3268" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 3265 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getTransPoint00 ( lua_State * tolua_S )" content="3258:   goto tolua_lerror;
3259:  else
3260: #endif
3261:  {
3262:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
3263:    int tid = ((  int)  tolua_tonumber(tolua_S,2,0));
3264: #ifndef TOLUA_RELEASE
3265:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getTransPoint&apos;&quot;, NULL);
3266: #endif
3267:   {
3268:     int tolua_ret = (  int)  self-&gt;bt_getTransPoint(tid);
3269:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
3270:   }
3271:  }
3272:  return 1;
3273: #ifndef TOLUA_RELEASE
3274:  tolua_lerror:
3275:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getTransPoint&apos;.&quot;,&amp;tolua_err);
3276:  return 0;
3277: #endif
3278: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="3302" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 3299 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_useTransfer00 ( lua_State * tolua_S )" content="3292:   goto tolua_lerror;
3293:  else
3294: #endif
3295:  {
3296:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
3297:    int obj_id = ((  int)  tolua_tonumber(tolua_S,2,0));
3298: #ifndef TOLUA_RELEASE
3299:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_useTransfer&apos;&quot;, NULL);
3300: #endif
3301:   {
3302:     int tolua_ret = (  int)  self-&gt;bt_useTransfer(obj_id);
3303:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
3304:   }
3305:  }
3306:  return 1;
3307: #ifndef TOLUA_RELEASE
3308:  tolua_lerror:
3309:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_useTransfer&apos;.&quot;,&amp;tolua_err);
3310:  return 0;
3311: #endif
3312: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="332" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 329 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_randMove00 ( lua_State * tolua_S )" content="322:  )
323:   goto tolua_lerror;
324:  else
325: #endif
326:  {
327:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
328: #ifndef TOLUA_RELEASE
329:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_randMove&apos;&quot;, NULL);
330: #endif
331:   {
332:    self-&gt;bt_randMove();
333:   }
334:  }
335:  return 0;
336: #ifndef TOLUA_RELEASE
337:  tolua_lerror:
338:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_randMove&apos;.&quot;,&amp;tolua_err);
339:  return 0;
340: #endif
341: }
342: #endif //#ifndef TOLUA_DISABLE
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="3334" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 3331 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getNearTransPoint00 ( lua_State * tolua_S )" content="3324:  )
3325:   goto tolua_lerror;
3326:  else
3327: #endif
3328:  {
3329:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
3330: #ifndef TOLUA_RELEASE
3331:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getNearTransPoint&apos;&quot;, NULL);
3332: #endif
3333:   {
3334:     int tolua_ret = (  int)  self-&gt;bt_getNearTransPoint();
3335:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
3336:   }
3337:  }
3338:  return 1;
3339: #ifndef TOLUA_RELEASE
3340:  tolua_lerror:
3341:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getNearTransPoint&apos;.&quot;,&amp;tolua_err);
3342:  return 0;
3343: #endif
3344: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="3368" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 3365 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getObjCharid00 ( lua_State * tolua_S )" content="3358:   goto tolua_lerror;
3359:  else
3360: #endif
3361:  {
3362:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
3363:    int sid = ((  int)  tolua_tonumber(tolua_S,2,0));
3364: #ifndef TOLUA_RELEASE
3365:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getObjCharid&apos;&quot;, NULL);
3366: #endif
3367:   {
3368:     int tolua_ret = (  int)  self-&gt;bt_getObjCharid(sid);
3369:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
3370:   }
3371:  }
3372:  return 1;
3373: #ifndef TOLUA_RELEASE
3374:  tolua_lerror:
3375:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getObjCharid&apos;.&quot;,&amp;tolua_err);
3376:  return 0;
3377: #endif
3378: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="3400" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 3397 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getFaction00 ( lua_State * tolua_S )" content="3390:  )
3391:   goto tolua_lerror;
3392:  else
3393: #endif
3394:  {
3395:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
3396: #ifndef TOLUA_RELEASE
3397:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getFaction&apos;&quot;, NULL);
3398: #endif
3399:   {
3400:     int tolua_ret = (  int)  self-&gt;bt_getFaction();
3401:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
3402:   }
3403:  }
3404:  return 1;
3405: #ifndef TOLUA_RELEASE
3406:  tolua_lerror:
3407:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getFaction&apos;.&quot;,&amp;tolua_err);
3408:  return 0;
3409: #endif
3410: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="3432" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 3429 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getTodoId00 ( lua_State * tolua_S )" content="3422:  )
3423:   goto tolua_lerror;
3424:  else
3425: #endif
3426:  {
3427:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
3428: #ifndef TOLUA_RELEASE
3429:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getTodoId&apos;&quot;, NULL);
3430: #endif
3431:   {
3432:     int tolua_ret = (  int)  self-&gt;bt_getTodoId();
3433:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
3434:   }
3435:  }
3436:  return 1;
3437: #ifndef TOLUA_RELEASE
3438:  tolua_lerror:
3439:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getTodoId&apos;.&quot;,&amp;tolua_err);
3440:  return 0;
3441: #endif
3442: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="3464" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 3461 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getTodoType00 ( lua_State * tolua_S )" content="3454:  )
3455:   goto tolua_lerror;
3456:  else
3457: #endif
3458:  {
3459:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
3460: #ifndef TOLUA_RELEASE
3461:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getTodoType&apos;&quot;, NULL);
3462: #endif
3463:   {
3464:     int tolua_ret = (  int)  self-&gt;bt_getTodoType();
3465:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
3466:   }
3467:  }
3468:  return 1;
3469: #ifndef TOLUA_RELEASE
3470:  tolua_lerror:
3471:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getTodoType&apos;.&quot;,&amp;tolua_err);
3472:  return 0;
3473: #endif
3474: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="3496" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 3493 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getTodoObject00 ( lua_State * tolua_S )" content="3486:  )
3487:   goto tolua_lerror;
3488:  else
3489: #endif
3490:  {
3491:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
3492: #ifndef TOLUA_RELEASE
3493:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getTodoObject&apos;&quot;, NULL);
3494: #endif
3495:   {
3496:     int tolua_ret = (  int)  self-&gt;bt_getTodoObject();
3497:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
3498:   }
3499:  }
3500:  return 1;
3501: #ifndef TOLUA_RELEASE
3502:  tolua_lerror:
3503:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getTodoObject&apos;.&quot;,&amp;tolua_err);
3504:  return 0;
3505: #endif
3506: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="3530" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 3527 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_setCurrentEnemy00 ( lua_State * tolua_S )" content="3520:   goto tolua_lerror;
3521:  else
3522: #endif
3523:  {
3524:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
3525:    int obj_id = ((  int)  tolua_tonumber(tolua_S,2,0));
3526: #ifndef TOLUA_RELEASE
3527:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_setCurrentEnemy&apos;&quot;, NULL);
3528: #endif
3529:   {
3530:    self-&gt;bt_setCurrentEnemy(obj_id);
3531:   }
3532:  }
3533:  return 0;
3534: #ifndef TOLUA_RELEASE
3535:  tolua_lerror:
3536:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_setCurrentEnemy&apos;.&quot;,&amp;tolua_err);
3537:  return 0;
3538: #endif
3539: }
3540: #endif //#ifndef TOLUA_DISABLE
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="3561" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 3558 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_clearCurrentEnemy00 ( lua_State * tolua_S )" content="3551:  )
3552:   goto tolua_lerror;
3553:  else
3554: #endif
3555:  {
3556:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
3557: #ifndef TOLUA_RELEASE
3558:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_clearCurrentEnemy&apos;&quot;, NULL);
3559: #endif
3560:   {
3561:    self-&gt;bt_clearCurrentEnemy();
3562:   }
3563:  }
3564:  return 0;
3565: #ifndef TOLUA_RELEASE
3566:  tolua_lerror:
3567:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_clearCurrentEnemy&apos;.&quot;,&amp;tolua_err);
3568:  return 0;
3569: #endif
3570: }
3571: #endif //#ifndef TOLUA_DISABLE
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="3594" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 3591 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getObjectType00 ( lua_State * tolua_S )" content="3584:   goto tolua_lerror;
3585:  else
3586: #endif
3587:  {
3588:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
3589:    int obj_id = ((  int)  tolua_tonumber(tolua_S,2,0));
3590: #ifndef TOLUA_RELEASE
3591:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getObjectType&apos;&quot;, NULL);
3592: #endif
3593:   {
3594:     int tolua_ret = (  int)  self-&gt;bt_getObjectType(obj_id);
3595:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
3596:   }
3597:  }
3598:  return 1;
3599: #ifndef TOLUA_RELEASE
3600:  tolua_lerror:
3601:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getObjectType&apos;.&quot;,&amp;tolua_err);
3602:  return 0;
3603: #endif
3604: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="3628" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 3625 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getObjectState00 ( lua_State * tolua_S )" content="3618:   goto tolua_lerror;
3619:  else
3620: #endif
3621:  {
3622:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
3623:    int obj_id = ((  int)  tolua_tonumber(tolua_S,2,0));
3624: #ifndef TOLUA_RELEASE
3625:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getObjectState&apos;&quot;, NULL);
3626: #endif
3627:   {
3628:     int tolua_ret = (  int)  self-&gt;bt_getObjectState(obj_id);
3629:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
3630:   }
3631:  }
3632:  return 1;
3633: #ifndef TOLUA_RELEASE
3634:  tolua_lerror:
3635:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getObjectState&apos;.&quot;,&amp;tolua_err);
3636:  return 0;
3637: #endif
3638: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="363" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 360 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_stopMove00 ( lua_State * tolua_S )" content="353:  )
354:   goto tolua_lerror;
355:  else
356: #endif
357:  {
358:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
359: #ifndef TOLUA_RELEASE
360:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_stopMove&apos;&quot;, NULL);
361: #endif
362:   {
363:    self-&gt;bt_stopMove();
364:   }
365:  }
366:  return 0;
367: #ifndef TOLUA_RELEASE
368:  tolua_lerror:
369:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_stopMove&apos;.&quot;,&amp;tolua_err);
370:  return 0;
371: #endif
372: }
373: #endif //#ifndef TOLUA_DISABLE
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="3662" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 3659 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getObjectLayer00 ( lua_State * tolua_S )" content="3652:   goto tolua_lerror;
3653:  else
3654: #endif
3655:  {
3656:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
3657:    int obj_id = ((  int)  tolua_tonumber(tolua_S,2,0));
3658: #ifndef TOLUA_RELEASE
3659:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getObjectLayer&apos;&quot;, NULL);
3660: #endif
3661:   {
3662:     int tolua_ret = (  int)  self-&gt;bt_getObjectLayer(obj_id);
3663:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
3664:   }
3665:  }
3666:  return 1;
3667: #ifndef TOLUA_RELEASE
3668:  tolua_lerror:
3669:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getObjectLayer&apos;.&quot;,&amp;tolua_err);
3670:  return 0;
3671: #endif
3672: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="3696" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 3693 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_isInStronghold00 ( lua_State * tolua_S )" content="3686:   goto tolua_lerror;
3687:  else
3688: #endif
3689:  {
3690:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
3691:    int sh_id = ((  int)  tolua_tonumber(tolua_S,2,0));
3692: #ifndef TOLUA_RELEASE
3693:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_isInStronghold&apos;&quot;, NULL);
3694: #endif
3695:   {
3696:    bool tolua_ret = (bool)  self-&gt;bt_isInStronghold(sh_id);
3697:    tolua_pushboolean(tolua_S,(bool)tolua_ret);
3698:   }
3699:  }
3700:  return 1;
3701: #ifndef TOLUA_RELEASE
3702:  tolua_lerror:
3703:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_isInStronghold&apos;.&quot;,&amp;tolua_err);
3704:  return 0;
3705: #endif
3706: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="3728" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 3725 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getWarStep00 ( lua_State * tolua_S )" content="3718:  )
3719:   goto tolua_lerror;
3720:  else
3721: #endif
3722:  {
3723:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
3724: #ifndef TOLUA_RELEASE
3725:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getWarStep&apos;&quot;, NULL);
3726: #endif
3727:   {
3728:     int tolua_ret = (  int)  self-&gt;bt_getWarStep();
3729:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
3730:   }
3731:  }
3732:  return 1;
3733: #ifndef TOLUA_RELEASE
3734:  tolua_lerror:
3735:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getWarStep&apos;.&quot;,&amp;tolua_err);
3736:  return 0;
3737: #endif
3738: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="3762" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 3759 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getFactionShNum00 ( lua_State * tolua_S )" content="3752:   goto tolua_lerror;
3753:  else
3754: #endif
3755:  {
3756:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
3757:    int _faction = ((  int)  tolua_tonumber(tolua_S,2,0));
3758: #ifndef TOLUA_RELEASE
3759:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getFactionShNum&apos;&quot;, NULL);
3760: #endif
3761:   {
3762:     int tolua_ret = (  int)  self-&gt;bt_getFactionShNum(_faction);
3763:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
3764:   }
3765:  }
3766:  return 1;
3767: #ifndef TOLUA_RELEASE
3768:  tolua_lerror:
3769:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getFactionShNum&apos;.&quot;,&amp;tolua_err);
3770:  return 0;
3771: #endif
3772: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="3794" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 3791 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getTeamLeader00 ( lua_State * tolua_S )" content="3784:  )
3785:   goto tolua_lerror;
3786:  else
3787: #endif
3788:  {
3789:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
3790: #ifndef TOLUA_RELEASE
3791:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getTeamLeader&apos;&quot;, NULL);
3792: #endif
3793:   {
3794:     int tolua_ret = (  int)  self-&gt;bt_getTeamLeader();
3795:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
3796:   }
3797:  }
3798:  return 1;
3799: #ifndef TOLUA_RELEASE
3800:  tolua_lerror:
3801:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getTeamLeader&apos;.&quot;,&amp;tolua_err);
3802:  return 0;
3803: #endif
3804: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="3826" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 3823 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getTeamAIAction00 ( lua_State * tolua_S )" content="3816:  )
3817:   goto tolua_lerror;
3818:  else
3819: #endif
3820:  {
3821:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
3822: #ifndef TOLUA_RELEASE
3823:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getTeamAIAction&apos;&quot;, NULL);
3824: #endif
3825:   {
3826:     int tolua_ret = (  int)  self-&gt;bt_getTeamAIAction();
3827:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
3828:   }
3829:  }
3830:  return 1;
3831: #ifndef TOLUA_RELEASE
3832:  tolua_lerror:
3833:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getTeamAIAction&apos;.&quot;,&amp;tolua_err);
3834:  return 0;
3835: #endif
3836: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="3860" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 3857 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_setAIAction00 ( lua_State * tolua_S )" content="3850:   goto tolua_lerror;
3851:  else
3852: #endif
3853:  {
3854:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
3855:    int ai_action = ((  int)  tolua_tonumber(tolua_S,2,0));
3856: #ifndef TOLUA_RELEASE
3857:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_setAIAction&apos;&quot;, NULL);
3858: #endif
3859:   {
3860:    self-&gt;bt_setAIAction(ai_action);
3861:   }
3862:  }
3863:  return 0;
3864: #ifndef TOLUA_RELEASE
3865:  tolua_lerror:
3866:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_setAIAction&apos;.&quot;,&amp;tolua_err);
3867:  return 0;
3868: #endif
3869: }
3870: #endif //#ifndef TOLUA_DISABLE
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="3891" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 3888 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_canAction00 ( lua_State * tolua_S )" content="3881:  )
3882:   goto tolua_lerror;
3883:  else
3884: #endif
3885:  {
3886:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
3887: #ifndef TOLUA_RELEASE
3888:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_canAction&apos;&quot;, NULL);
3889: #endif
3890:   {
3891:    bool tolua_ret = (bool)  self-&gt;bt_canAction();
3892:    tolua_pushboolean(tolua_S,(bool)tolua_ret);
3893:   }
3894:  }
3895:  return 1;
3896: #ifndef TOLUA_RELEASE
3897:  tolua_lerror:
3898:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_canAction&apos;.&quot;,&amp;tolua_err);
3899:  return 0;
3900: #endif
3901: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="3923" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 3920 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getLeaderAttacker00 ( lua_State * tolua_S )" content="3913:  )
3914:   goto tolua_lerror;
3915:  else
3916: #endif
3917:  {
3918:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
3919: #ifndef TOLUA_RELEASE
3920:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getLeaderAttacker&apos;&quot;, NULL);
3921: #endif
3922:   {
3923:     int tolua_ret = (  int)  self-&gt;bt_getLeaderAttacker();
3924:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
3925:   }
3926:  }
3927:  return 1;
3928: #ifndef TOLUA_RELEASE
3929:  tolua_lerror:
3930:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getLeaderAttacker&apos;.&quot;,&amp;tolua_err);
3931:  return 0;
3932: #endif
3933: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="3961" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 3958 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_checkObjBuff00 ( lua_State * tolua_S )" content="3951: #endif
3952:  {
3953:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
3954:    int sid = ((  int)  tolua_tonumber(tolua_S,2,0));
3955:    int buff_class = ((  int)  tolua_tonumber(tolua_S,3,0));
3956:    int attr_type = ((  int)  tolua_tonumber(tolua_S,4,0));
3957: #ifndef TOLUA_RELEASE
3958:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_checkObjBuff&apos;&quot;, NULL);
3959: #endif
3960:   {
3961:    bool tolua_ret = (bool)  self-&gt;bt_checkObjBuff(sid,buff_class,attr_type);
3962:    tolua_pushboolean(tolua_S,(bool)tolua_ret);
3963:   }
3964:  }
3965:  return 1;
3966: #ifndef TOLUA_RELEASE
3967:  tolua_lerror:
3968:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_checkObjBuff&apos;.&quot;,&amp;tolua_err);
3969:  return 0;
3970: #endif
3971: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="398" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 395 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_catchUpPos00 ( lua_State * tolua_S )" content="388:  else
389: #endif
390:  {
391:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
392:   bt_location b_pos = *((bt_location*)  tolua_tousertype(tolua_S,2,0));
393:    int move_dir = ((  int)  tolua_tonumber(tolua_S,3,-1));
394: #ifndef TOLUA_RELEASE
395:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_catchUpPos&apos;&quot;, NULL);
396: #endif
397:   {
398:    self-&gt;bt_catchUpPos(b_pos,move_dir);
399:   }
400:  }
401:  return 0;
402: #ifndef TOLUA_RELEASE
403:  tolua_lerror:
404:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_catchUpPos&apos;.&quot;,&amp;tolua_err);
405:  return 0;
406: #endif
407: }
408: #endif //#ifndef TOLUA_DISABLE
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="3995" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 3992 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getObjCareer00 ( lua_State * tolua_S )" content="3985:   goto tolua_lerror;
3986:  else
3987: #endif
3988:  {
3989:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
3990:    int sid = ((  int)  tolua_tonumber(tolua_S,2,0));
3991: #ifndef TOLUA_RELEASE
3992:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getObjCareer&apos;&quot;, NULL);
3993: #endif
3994:   {
3995:     int tolua_ret = (  int)  self-&gt;bt_getObjCareer(sid);
3996:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
3997:   }
3998:  }
3999:  return 1;
4000: #ifndef TOLUA_RELEASE
4001:  tolua_lerror:
4002:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getObjCareer&apos;.&quot;,&amp;tolua_err);
4003:  return 0;
4004: #endif
4005: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="4029" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 4026 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getObjCareerBranch00 ( lua_State * tolua_S )" content="4019:   goto tolua_lerror;
4020:  else
4021: #endif
4022:  {
4023:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
4024:    int sid = ((  int)  tolua_tonumber(tolua_S,2,0));
4025: #ifndef TOLUA_RELEASE
4026:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getObjCareerBranch&apos;&quot;, NULL);
4027: #endif
4028:   {
4029:     int tolua_ret = (  int)  self-&gt;bt_getObjCareerBranch(sid);
4030:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
4031:   }
4032:  }
4033:  return 1;
4034: #ifndef TOLUA_RELEASE
4035:  tolua_lerror:
4036:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getObjCareerBranch&apos;.&quot;,&amp;tolua_err);
4037:  return 0;
4038: #endif
4039: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="4063" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 4060 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getObjFaction00 ( lua_State * tolua_S )" content="4053:   goto tolua_lerror;
4054:  else
4055: #endif
4056:  {
4057:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
4058:    int sid = ((  int)  tolua_tonumber(tolua_S,2,0));
4059: #ifndef TOLUA_RELEASE
4060:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getObjFaction&apos;&quot;, NULL);
4061: #endif
4062:   {
4063:     int tolua_ret = (  int)  self-&gt;bt_getObjFaction(sid);
4064:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
4065:   }
4066:  }
4067:  return 1;
4068: #ifndef TOLUA_RELEASE
4069:  tolua_lerror:
4070:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getObjFaction&apos;.&quot;,&amp;tolua_err);
4071:  return 0;
4072: #endif
4073: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="4097" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 4094 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getTeamAttacker00 ( lua_State * tolua_S )" content="4087:   goto tolua_lerror;
4088:  else
4089: #endif
4090:  {
4091:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
4092:    int dis = ((  int)  tolua_tonumber(tolua_S,2,0));
4093: #ifndef TOLUA_RELEASE
4094:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getTeamAttacker&apos;&quot;, NULL);
4095: #endif
4096:   {
4097:     int tolua_ret = (  int)  self-&gt;bt_getTeamAttacker(dis);
4098:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
4099:   }
4100:  }
4101:  return 1;
4102: #ifndef TOLUA_RELEASE
4103:  tolua_lerror:
4104:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getTeamAttacker&apos;.&quot;,&amp;tolua_err);
4105:  return 0;
4106: #endif
4107: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="4129" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 4126 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getCrossbowAttacker00 ( lua_State * tolua_S )" content="4119:  )
4120:   goto tolua_lerror;
4121:  else
4122: #endif
4123:  {
4124:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
4125: #ifndef TOLUA_RELEASE
4126:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getCrossbowAttacker&apos;&quot;, NULL);
4127: #endif
4128:   {
4129:     int tolua_ret = (  int)  self-&gt;bt_getCrossbowAttacker();
4130:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
4131:   }
4132:  }
4133:  return 1;
4134: #ifndef TOLUA_RELEASE
4135:  tolua_lerror:
4136:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getCrossbowAttacker&apos;.&quot;,&amp;tolua_err);
4137:  return 0;
4138: #endif
4139: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="4161" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 4158 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getCurrentMp00 ( lua_State * tolua_S )" content="4151:  )
4152:   goto tolua_lerror;
4153:  else
4154: #endif
4155:  {
4156:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
4157: #ifndef TOLUA_RELEASE
4158:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getCurrentMp&apos;&quot;, NULL);
4159: #endif
4160:   {
4161:     int tolua_ret = (  int)  self-&gt;bt_getCurrentMp();
4162:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
4163:   }
4164:  }
4165:  return 1;
4166: #ifndef TOLUA_RELEASE
4167:  tolua_lerror:
4168:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getCurrentMp&apos;.&quot;,&amp;tolua_err);
4169:  return 0;
4170: #endif
4171: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="4195" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 4192 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getSkillMP00 ( lua_State * tolua_S )" content="4185:   goto tolua_lerror;
4186:  else
4187: #endif
4188:  {
4189:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
4190:    int skill_id = ((  int)  tolua_tonumber(tolua_S,2,0));
4191: #ifndef TOLUA_RELEASE
4192:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getSkillMP&apos;&quot;, NULL);
4193: #endif
4194:   {
4195:     int tolua_ret = (  int)  self-&gt;bt_getSkillMP(skill_id);
4196:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
4197:   }
4198:  }
4199:  return 1;
4200: #ifndef TOLUA_RELEASE
4201:  tolua_lerror:
4202:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getSkillMP&apos;.&quot;,&amp;tolua_err);
4203:  return 0;
4204: #endif
4205: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="4229" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 4226 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getSkillTrigger00 ( lua_State * tolua_S )" content="4219:   goto tolua_lerror;
4220:  else
4221: #endif
4222:  {
4223:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
4224:    int skill_id = ((  int)  tolua_tonumber(tolua_S,2,0));
4225: #ifndef TOLUA_RELEASE
4226:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getSkillTrigger&apos;&quot;, NULL);
4227: #endif
4228:   {
4229:    bool tolua_ret = (bool)  self-&gt;bt_getSkillTrigger(skill_id);
4230:    tolua_pushboolean(tolua_S,(bool)tolua_ret);
4231:   }
4232:  }
4233:  return 1;
4234: #ifndef TOLUA_RELEASE
4235:  tolua_lerror:
4236:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getSkillTrigger&apos;.&quot;,&amp;tolua_err);
4237:  return 0;
4238: #endif
4239: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="4263" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 4260 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getSkillEnergy00 ( lua_State * tolua_S )" content="4253:   goto tolua_lerror;
4254:  else
4255: #endif
4256:  {
4257:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
4258:    int skill_id = ((  int)  tolua_tonumber(tolua_S,2,0));
4259: #ifndef TOLUA_RELEASE
4260:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getSkillEnergy&apos;&quot;, NULL);
4261: #endif
4262:   {
4263:     int tolua_ret = (  int)  self-&gt;bt_getSkillEnergy(skill_id);
4264:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
4265:   }
4266:  }
4267:  return 1;
4268: #ifndef TOLUA_RELEASE
4269:  tolua_lerror:
4270:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getSkillEnergy&apos;.&quot;,&amp;tolua_err);
4271:  return 0;
4272: #endif
4273: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="429" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 426 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getCareer00 ( lua_State * tolua_S )" content="419:  )
420:   goto tolua_lerror;
421:  else
422: #endif
423:  {
424:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
425: #ifndef TOLUA_RELEASE
426:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getCareer&apos;&quot;, NULL);
427: #endif
428:   {
429:     int tolua_ret = (  int)  self-&gt;bt_getCareer();
430:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
431:   }
432:  }
433:  return 1;
434: #ifndef TOLUA_RELEASE
435:  tolua_lerror:
436:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getCareer&apos;.&quot;,&amp;tolua_err);
437:  return 0;
438: #endif
439: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="4297" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 4294 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getTopHatredSid00 ( lua_State * tolua_S )" content="4287:   goto tolua_lerror;
4288:  else
4289: #endif
4290:  {
4291:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
4292:    int index = ((  int)  tolua_tonumber(tolua_S,2,0));
4293: #ifndef TOLUA_RELEASE
4294:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getTopHatredSid&apos;&quot;, NULL);
4295: #endif
4296:   {
4297:     int tolua_ret = (  int)  self-&gt;bt_getTopHatredSid(index);
4298:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
4299:   }
4300:  }
4301:  return 1;
4302: #ifndef TOLUA_RELEASE
4303:  tolua_lerror:
4304:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getTopHatredSid&apos;.&quot;,&amp;tolua_err);
4305:  return 0;
4306: #endif
4307: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="4329" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 4326 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_reset_TopHatredSid00 ( lua_State * tolua_S )" content="4319:  )
4320:   goto tolua_lerror;
4321:  else
4322: #endif
4323:  {
4324:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
4325: #ifndef TOLUA_RELEASE
4326:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_reset_TopHatredSid&apos;&quot;, NULL);
4327: #endif
4328:   {
4329:    self-&gt;bt_reset_TopHatredSid();
4330:   }
4331:  }
4332:  return 0;
4333: #ifndef TOLUA_RELEASE
4334:  tolua_lerror:
4335:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_reset_TopHatredSid&apos;.&quot;,&amp;tolua_err);
4336:  return 0;
4337: #endif
4338: }
4339: #endif //#ifndef TOLUA_DISABLE
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="4360" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 4357 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_is_in_war00 ( lua_State * tolua_S )" content="4350:  )
4351:   goto tolua_lerror;
4352:  else
4353: #endif
4354:  {
4355:   const SPlayer* self = (const SPlayer*)  tolua_tousertype(tolua_S,1,0);
4356: #ifndef TOLUA_RELEASE
4357:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_is_in_war&apos;&quot;, NULL);
4358: #endif
4359:   {
4360:    bool tolua_ret = (bool)  self-&gt;bt_is_in_war();
4361:    tolua_pushboolean(tolua_S,(bool)tolua_ret);
4362:   }
4363:  }
4364:  return 1;
4365: #ifndef TOLUA_RELEASE
4366:  tolua_lerror:
4367:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_is_in_war&apos;.&quot;,&amp;tolua_err);
4368:  return 0;
4369: #endif
4370: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="4394" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 4391 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_is_skill_not_cd00 ( lua_State * tolua_S )" content="4384:   goto tolua_lerror;
4385:  else
4386: #endif
4387:  {
4388:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
4389:    int skill_id = ((  int)  tolua_tonumber(tolua_S,2,0));
4390: #ifndef TOLUA_RELEASE
4391:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_is_skill_not_cd&apos;&quot;, NULL);
4392: #endif
4393:   {
4394:    bool tolua_ret = (bool)  self-&gt;bt_is_skill_not_cd(skill_id);
4395:    tolua_pushboolean(tolua_S,(bool)tolua_ret);
4396:   }
4397:  }
4398:  return 1;
4399: #ifndef TOLUA_RELEASE
4400:  tolua_lerror:
4401:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_is_skill_not_cd&apos;.&quot;,&amp;tolua_err);
4402:  return 0;
4403: #endif
4404: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="4426" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 4423 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_get_name_id00 ( lua_State * tolua_S )" content="4416:  )
4417:   goto tolua_lerror;
4418:  else
4419: #endif
4420:  {
4421:   const SPlayer* self = (const SPlayer*)  tolua_tousertype(tolua_S,1,0);
4422: #ifndef TOLUA_RELEASE
4423:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_get_name_id&apos;&quot;, NULL);
4424: #endif
4425:   {
4426:     int tolua_ret = (  int)  self-&gt;bt_get_name_id();
4427:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
4428:   }
4429:  }
4430:  return 1;
4431: #ifndef TOLUA_RELEASE
4432:  tolua_lerror:
4433:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_get_name_id&apos;.&quot;,&amp;tolua_err);
4434:  return 0;
4435: #endif
4436: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="4460" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 4457 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_get_win_progress00 ( lua_State * tolua_S )" content="4450:   goto tolua_lerror;
4451:  else
4452: #endif
4453:  {
4454:   const SPlayer* self = (const SPlayer*)  tolua_tousertype(tolua_S,1,0);
4455:    int self_team = ((  int)  tolua_tonumber(tolua_S,2,0));
4456: #ifndef TOLUA_RELEASE
4457:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_get_win_progress&apos;&quot;, NULL);
4458: #endif
4459:   {
4460:     int tolua_ret = (  int)  self-&gt;bt_get_win_progress(self_team);
4461:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
4462:   }
4463:  }
4464:  return 1;
4465: #ifndef TOLUA_RELEASE
4466:  tolua_lerror:
4467:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_get_win_progress&apos;.&quot;,&amp;tolua_err);
4468:  return 0;
4469: #endif
4470: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="4492" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 4489 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_get_Victory_Condition00 ( lua_State * tolua_S )" content="4482:  )
4483:   goto tolua_lerror;
4484:  else
4485: #endif
4486:  {
4487:   const SPlayer* self = (const SPlayer*)  tolua_tousertype(tolua_S,1,0);
4488: #ifndef TOLUA_RELEASE
4489:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_get_Victory_Condition&apos;&quot;, NULL);
4490: #endif
4491:   {
4492:     int tolua_ret = (  int)  self-&gt;bt_get_Victory_Condition();
4493:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
4494:   }
4495:  }
4496:  return 1;
4497: #ifndef TOLUA_RELEASE
4498:  tolua_lerror:
4499:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_get_Victory_Condition&apos;.&quot;,&amp;tolua_err);
4500:  return 0;
4501: #endif
4502: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="4524" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 4521 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_get_Score_Master00 ( lua_State * tolua_S )" content="4514:  )
4515:   goto tolua_lerror;
4516:  else
4517: #endif
4518:  {
4519:   const SPlayer* self = (const SPlayer*)  tolua_tousertype(tolua_S,1,0);
4520: #ifndef TOLUA_RELEASE
4521:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_get_Score_Master&apos;&quot;, NULL);
4522: #endif
4523:   {
4524:     int tolua_ret = (  int)  self-&gt;bt_get_Score_Master();
4525:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
4526:   }
4527:  }
4528:  return 1;
4529: #ifndef TOLUA_RELEASE
4530:  tolua_lerror:
4531:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_get_Score_Master&apos;.&quot;,&amp;tolua_err);
4532:  return 0;
4533: #endif
4534: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="4558" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 4555 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_collect_Goods00 ( lua_State * tolua_S )" content="4548:   goto tolua_lerror;
4549:  else
4550: #endif
4551:  {
4552:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
4553:    int sid = ((  int)  tolua_tonumber(tolua_S,2,0));
4554: #ifndef TOLUA_RELEASE
4555:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_collect_Goods&apos;&quot;, NULL);
4556: #endif
4557:   {
4558:     int tolua_ret = (  int)  self-&gt;bt_collect_Goods(sid);
4559:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
4560:   }
4561:  }
4562:  return 1;
4563: #ifndef TOLUA_RELEASE
4564:  tolua_lerror:
4565:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_collect_Goods&apos;.&quot;,&amp;tolua_err);
4566:  return 0;
4567: #endif
4568: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="4590" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 4587 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_Closest_Goods00 ( lua_State * tolua_S )" content="4580:  )
4581:   goto tolua_lerror;
4582:  else
4583: #endif
4584:  {
4585:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
4586: #ifndef TOLUA_RELEASE
4587:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_Closest_Goods&apos;&quot;, NULL);
4588: #endif
4589:   {
4590:     int tolua_ret = (  int)  self-&gt;bt_Closest_Goods();
4591:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
4592:   }
4593:  }
4594:  return 1;
4595: #ifndef TOLUA_RELEASE
4596:  tolua_lerror:
4597:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_Closest_Goods&apos;.&quot;,&amp;tolua_err);
4598:  return 0;
4599: #endif
4600: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="461" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 458 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getSkills00 ( lua_State * tolua_S )" content="451:  )
452:   goto tolua_lerror;
453:  else
454: #endif
455:  {
456:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
457: #ifndef TOLUA_RELEASE
458:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getSkills&apos;&quot;, NULL);
459: #endif
460:   {
461:    behaviac::vector&lt;int32_t&gt; tolua_ret = (behaviac::vector&lt;int32_t&gt;)  self-&gt;bt_getSkills();
462:    {
463: #ifdef __cplusplus
464:     void* tolua_obj = Mtolua_new((behaviac::vector&lt;int32_t&gt;)(tolua_ret));
465:      tolua_pushusertype(tolua_S,tolua_obj,&quot;behaviac::vector&lt;int32_t&gt;&quot;);
466:     tolua_register_gc(tolua_S,lua_gettop(tolua_S));
467: #else
468:     void* tolua_obj = tolua_copy(tolua_S,(void*)&amp;tolua_ret,sizeof(behaviac::vector&lt;int32_t&gt;));
469:      tolua_pushusertype(tolua_S,tolua_obj,&quot;behaviac::vector&lt;int32_t&gt;&quot;);
470:     tolua_register_gc(tolua_S,lua_gettop(tolua_S));
471: #endif
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="4622" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 4619 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_isOnCarrier00 ( lua_State * tolua_S )" content="4612:  )
4613:   goto tolua_lerror;
4614:  else
4615: #endif
4616:  {
4617:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
4618: #ifndef TOLUA_RELEASE
4619:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_isOnCarrier&apos;&quot;, NULL);
4620: #endif
4621:   {
4622:    bool tolua_ret = (bool)  self-&gt;bt_isOnCarrier();
4623:    tolua_pushboolean(tolua_S,(bool)tolua_ret);
4624:   }
4625:  }
4626:  return 1;
4627: #ifndef TOLUA_RELEASE
4628:  tolua_lerror:
4629:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_isOnCarrier&apos;.&quot;,&amp;tolua_err);
4630:  return 0;
4631: #endif
4632: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="4654" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 4651 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getCharid00 ( lua_State * tolua_S )" content="4644:  )
4645:   goto tolua_lerror;
4646:  else
4647: #endif
4648:  {
4649:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
4650: #ifndef TOLUA_RELEASE
4651:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getCharid&apos;&quot;, NULL);
4652: #endif
4653:   {
4654:     int tolua_ret = (  int)  self-&gt;bt_getCharid();
4655:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
4656:   }
4657:  }
4658:  return 1;
4659: #ifndef TOLUA_RELEASE
4660:  tolua_lerror:
4661:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getCharid&apos;.&quot;,&amp;tolua_err);
4662:  return 0;
4663: #endif
4664: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="4686" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 4683 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getAreaNo00 ( lua_State * tolua_S )" content="4676:  )
4677:   goto tolua_lerror;
4678:  else
4679: #endif
4680:  {
4681:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
4682: #ifndef TOLUA_RELEASE
4683:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getAreaNo&apos;&quot;, NULL);
4684: #endif
4685:   {
4686:     int tolua_ret = (  int)  self-&gt;bt_getAreaNo();
4687:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
4688:   }
4689:  }
4690:  return 1;
4691: #ifndef TOLUA_RELEASE
4692:  tolua_lerror:
4693:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getAreaNo&apos;.&quot;,&amp;tolua_err);
4694:  return 0;
4695: #endif
4696: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="4718" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 4715 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_isInArena00 ( lua_State * tolua_S )" content="4708:  )
4709:   goto tolua_lerror;
4710:  else
4711: #endif
4712:  {
4713:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
4714: #ifndef TOLUA_RELEASE
4715:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_isInArena&apos;&quot;, NULL);
4716: #endif
4717:   {
4718:     int tolua_ret = (  int)  self-&gt;bt_isInArena();
4719:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
4720:   }
4721:  }
4722:  return 1;
4723: #ifndef TOLUA_RELEASE
4724:  tolua_lerror:
4725:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_isInArena&apos;.&quot;,&amp;tolua_err);
4726:  return 0;
4727: #endif
4728: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="4750" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 4747 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getCollisionBoss00 ( lua_State * tolua_S )" content="4740:  )
4741:   goto tolua_lerror;
4742:  else
4743: #endif
4744:  {
4745:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
4746: #ifndef TOLUA_RELEASE
4747:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getCollisionBoss&apos;&quot;, NULL);
4748: #endif
4749:   {
4750:     int tolua_ret = (  int)  self-&gt;bt_getCollisionBoss();
4751:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
4752:   }
4753:  }
4754:  return 1;
4755: #ifndef TOLUA_RELEASE
4756:  tolua_lerror:
4757:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getCollisionBoss&apos;.&quot;,&amp;tolua_err);
4758:  return 0;
4759: #endif
4760: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="4782" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 4779 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getDungeonTask00 ( lua_State * tolua_S )" content="4772:  )
4773:   goto tolua_lerror;
4774:  else
4775: #endif
4776:  {
4777:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
4778: #ifndef TOLUA_RELEASE
4779:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getDungeonTask&apos;&quot;, NULL);
4780: #endif
4781:   {
4782:     int tolua_ret = (  int)  self-&gt;bt_getDungeonTask();
4783:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
4784:   }
4785:  }
4786:  return 1;
4787: #ifndef TOLUA_RELEASE
4788:  tolua_lerror:
4789:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getDungeonTask&apos;.&quot;,&amp;tolua_err);
4790:  return 0;
4791: #endif
4792: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="4816" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 4813 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getSelfRemove00 ( lua_State * tolua_S )" content="4806:   goto tolua_lerror;
4807:  else
4808: #endif
4809:  {
4810:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
4811:    int push_type = ((  int)  tolua_tonumber(tolua_S,2,0));
4812: #ifndef TOLUA_RELEASE
4813:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getSelfRemove&apos;&quot;, NULL);
4814: #endif
4815:   {
4816:    self-&gt;bt_getSelfRemove(push_type);
4817:   }
4818:  }
4819:  return 0;
4820: #ifndef TOLUA_RELEASE
4821:  tolua_lerror:
4822:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getSelfRemove&apos;.&quot;,&amp;tolua_err);
4823:  return 0;
4824: #endif
4825: }
4826: #endif //#ifndef TOLUA_DISABLE
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="4847" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 4844 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_reviveAtOnce00 ( lua_State * tolua_S )" content="4837:  )
4838:   goto tolua_lerror;
4839:  else
4840: #endif
4841:  {
4842:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
4843: #ifndef TOLUA_RELEASE
4844:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_reviveAtOnce&apos;&quot;, NULL);
4845: #endif
4846:   {
4847:    self-&gt;bt_reviveAtOnce();
4848:   }
4849:  }
4850:  return 0;
4851: #ifndef TOLUA_RELEASE
4852:  tolua_lerror:
4853:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_reviveAtOnce&apos;.&quot;,&amp;tolua_err);
4854:  return 0;
4855: #endif
4856: }
4857: #endif //#ifndef TOLUA_DISABLE
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="4880" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 4877 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_removeSkill00 ( lua_State * tolua_S )" content="4870:   goto tolua_lerror;
4871:  else
4872: #endif
4873:  {
4874:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
4875:    int skillId = ((  int)  tolua_tonumber(tolua_S,2,0));
4876: #ifndef TOLUA_RELEASE
4877:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_removeSkill&apos;&quot;, NULL);
4878: #endif
4879:   {
4880:    self-&gt;bt_removeSkill(skillId);
4881:   }
4882:  }
4883:  return 0;
4884: #ifndef TOLUA_RELEASE
4885:  tolua_lerror:
4886:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_removeSkill&apos;.&quot;,&amp;tolua_err);
4887:  return 0;
4888: #endif
4889: }
4890: #endif //#ifndef TOLUA_DISABLE
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="4915" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 4912 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getObjByMonsterType00 ( lua_State * tolua_S )" content="4905:  else
4906: #endif
4907:  {
4908:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
4909:    int range = ((  int)  tolua_tonumber(tolua_S,2,0));
4910:    int type = ((  int)  tolua_tonumber(tolua_S,3,0));
4911: #ifndef TOLUA_RELEASE
4912:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getObjByMonsterType&apos;&quot;, NULL);
4913: #endif
4914:   {
4915:     int tolua_ret = (  int)  self-&gt;bt_getObjByMonsterType(range,type);
4916:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
4917:   }
4918:  }
4919:  return 1;
4920: #ifndef TOLUA_RELEASE
4921:  tolua_lerror:
4922:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getObjByMonsterType&apos;.&quot;,&amp;tolua_err);
4923:  return 0;
4924: #endif
4925: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="4949" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 4946 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getSkillAutoAttackTime00 ( lua_State * tolua_S )" content="4939:   goto tolua_lerror;
4940:  else
4941: #endif
4942:  {
4943:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
4944:    int skill_id = ((  int)  tolua_tonumber(tolua_S,2,0));
4945: #ifndef TOLUA_RELEASE
4946:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getSkillAutoAttackTime&apos;&quot;, NULL);
4947: #endif
4948:   {
4949:     int tolua_ret = (  int)  self-&gt;bt_getSkillAutoAttackTime(skill_id);
4950:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
4951:   }
4952:  }
4953:  return 1;
4954: #ifndef TOLUA_RELEASE
4955:  tolua_lerror:
4956:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getSkillAutoAttackTime&apos;.&quot;,&amp;tolua_err);
4957:  return 0;
4958: #endif
4959: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="4983" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 4980 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getObjLv00 ( lua_State * tolua_S )" content="4973:   goto tolua_lerror;
4974:  else
4975: #endif
4976:  {
4977:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
4978:    int id = ((  int)  tolua_tonumber(tolua_S,2,0));
4979: #ifndef TOLUA_RELEASE
4980:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getObjLv&apos;&quot;, NULL);
4981: #endif
4982:   {
4983:     int tolua_ret = (  int)  self-&gt;bt_getObjLv(id);
4984:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
4985:   }
4986:  }
4987:  return 1;
4988: #ifndef TOLUA_RELEASE
4989:  tolua_lerror:
4990:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getObjLv&apos;.&quot;,&amp;tolua_err);
4991:  return 0;
4992: #endif
4993: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="5019" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 5016 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getMonsterTarget00 ( lua_State * tolua_S )" content="5009:  else
5010: #endif
5011:  {
5012:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
5013:    int monsterId = ((  int)  tolua_tonumber(tolua_S,2,0));
5014:    int num = ((  int)  tolua_tonumber(tolua_S,3,0));
5015: #ifndef TOLUA_RELEASE
5016:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getMonsterTarget&apos;&quot;, NULL);
5017: #endif
5018:   {
5019:     int tolua_ret = (  int)  self-&gt;bt_getMonsterTarget(monsterId,num);
5020:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
5021:   }
5022:  }
5023:  return 1;
5024: #ifndef TOLUA_RELEASE
5025:  tolua_lerror:
5026:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getMonsterTarget&apos;.&quot;,&amp;tolua_err);
5027:  return 0;
5028: #endif
5029: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="505" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 502 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getSkillCDTime00 ( lua_State * tolua_S )" content="495:   goto tolua_lerror;
496:  else
497: #endif
498:  {
499:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
500:    int skill_id = ((  int)  tolua_tonumber(tolua_S,2,0));
501: #ifndef TOLUA_RELEASE
502:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getSkillCDTime&apos;&quot;, NULL);
503: #endif
504:   {
505:     int tolua_ret = (  int)  self-&gt;bt_getSkillCDTime(skill_id);
506:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
507:   }
508:  }
509:  return 1;
510: #ifndef TOLUA_RELEASE
511:  tolua_lerror:
512:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getSkillCDTime&apos;.&quot;,&amp;tolua_err);
513:  return 0;
514: #endif
515: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="5051" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 5048 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_debugInfo00 ( lua_State * tolua_S )" content="5041:  )
5042:   goto tolua_lerror;
5043:  else
5044: #endif
5045:  {
5046:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
5047: #ifndef TOLUA_RELEASE
5048:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_debugInfo&apos;&quot;, NULL);
5049: #endif
5050:   {
5051:    std::string tolua_ret = (std::string)  self-&gt;bt_debugInfo();
5052:    tolua_pushcppstring(tolua_S,(const char*)tolua_ret);
5053:   }
5054:  }
5055:  return 1;
5056: #ifndef TOLUA_RELEASE
5057:  tolua_lerror:
5058:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_debugInfo&apos;.&quot;,&amp;tolua_err);
5059:  return 0;
5060: #endif
5061: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="5083" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 5080 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getGuildParty00 ( lua_State * tolua_S )" content="5073:  )
5074:   goto tolua_lerror;
5075:  else
5076: #endif
5077:  {
5078:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
5079: #ifndef TOLUA_RELEASE
5080:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getGuildParty&apos;&quot;, NULL);
5081: #endif
5082:   {
5083:     int tolua_ret = (  int)  self-&gt;bt_getGuildParty();
5084:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
5085:   }
5086:  }
5087:  return 1;
5088: #ifndef TOLUA_RELEASE
5089:  tolua_lerror:
5090:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getGuildParty&apos;.&quot;,&amp;tolua_err);
5091:  return 0;
5092: #endif
5093: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="5117" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 5114 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getGuildPartyFoodList00 ( lua_State * tolua_S )" content="5107:   goto tolua_lerror;
5108:  else
5109: #endif
5110:  {
5111:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
5112:   int num = ((int)  tolua_tonumber(tolua_S,2,0));
5113: #ifndef TOLUA_RELEASE
5114:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getGuildPartyFoodList&apos;&quot;, NULL);
5115: #endif
5116:   {
5117:     int tolua_ret = (  int)  self-&gt;bt_getGuildPartyFoodList(num);
5118:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
5119:   }
5120:  }
5121:  return 1;
5122: #ifndef TOLUA_RELEASE
5123:  tolua_lerror:
5124:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getGuildPartyFoodList&apos;.&quot;,&amp;tolua_err);
5125:  return 0;
5126: #endif
5127: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="5151" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 5148 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getObjModelRadius00 ( lua_State * tolua_S )" content="5141:   goto tolua_lerror;
5142:  else
5143: #endif
5144:  {
5145:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
5146:    int objid = ((  int)  tolua_tonumber(tolua_S,2,0));
5147: #ifndef TOLUA_RELEASE
5148:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getObjModelRadius&apos;&quot;, NULL);
5149: #endif
5150:   {
5151:     int tolua_ret = (  int)  self-&gt;bt_getObjModelRadius(objid);
5152:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
5153:   }
5154:  }
5155:  return 1;
5156: #ifndef TOLUA_RELEASE
5157:  tolua_lerror:
5158:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getObjModelRadius&apos;.&quot;,&amp;tolua_err);
5159:  return 0;
5160: #endif
5161: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="5185" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 5182 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getSpeedMode00 ( lua_State * tolua_S )" content="5175:   goto tolua_lerror;
5176:  else
5177: #endif
5178:  {
5179:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
5180:    int objId = ((  int)  tolua_tonumber(tolua_S,2,0));
5181: #ifndef TOLUA_RELEASE
5182:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getSpeedMode&apos;&quot;, NULL);
5183: #endif
5184:   {
5185:     int tolua_ret = (  int)  self-&gt;bt_getSpeedMode(objId);
5186:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
5187:   }
5188:  }
5189:  return 1;
5190: #ifndef TOLUA_RELEASE
5191:  tolua_lerror:
5192:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getSpeedMode&apos;.&quot;,&amp;tolua_err);
5193:  return 0;
5194: #endif
5195: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="5219" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 5216 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_setSpeedMode00 ( lua_State * tolua_S )" content="5209:   goto tolua_lerror;
5210:  else
5211: #endif
5212:  {
5213:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
5214:    int modeId = ((  int)  tolua_tonumber(tolua_S,2,0));
5215: #ifndef TOLUA_RELEASE
5216:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_setSpeedMode&apos;&quot;, NULL);
5217: #endif
5218:   {
5219:    self-&gt;bt_setSpeedMode(modeId);
5220:   }
5221:  }
5222:  return 0;
5223: #ifndef TOLUA_RELEASE
5224:  tolua_lerror:
5225:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_setSpeedMode&apos;.&quot;,&amp;tolua_err);
5226:  return 0;
5227: #endif
5228: }
5229: #endif //#ifndef TOLUA_DISABLE
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="5252" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 5249 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_setSpeed00 ( lua_State * tolua_S )" content="5242:   goto tolua_lerror;
5243:  else
5244: #endif
5245:  {
5246:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
5247:    int speed = ((  int)  tolua_tonumber(tolua_S,2,0));
5248: #ifndef TOLUA_RELEASE
5249:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_setSpeed&apos;&quot;, NULL);
5250: #endif
5251:   {
5252:    self-&gt;bt_setSpeed(speed);
5253:   }
5254:  }
5255:  return 0;
5256: #ifndef TOLUA_RELEASE
5257:  tolua_lerror:
5258:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_setSpeed&apos;.&quot;,&amp;tolua_err);
5259:  return 0;
5260: #endif
5261: }
5262: #endif //#ifndef TOLUA_DISABLE
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="5283" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 5280 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getSpeed00 ( lua_State * tolua_S )" content="5273:  )
5274:   goto tolua_lerror;
5275:  else
5276: #endif
5277:  {
5278:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
5279: #ifndef TOLUA_RELEASE
5280:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getSpeed&apos;&quot;, NULL);
5281: #endif
5282:   {
5283:     int tolua_ret = (  int)  self-&gt;bt_getSpeed();
5284:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
5285:   }
5286:  }
5287:  return 1;
5288: #ifndef TOLUA_RELEASE
5289:  tolua_lerror:
5290:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getSpeed&apos;.&quot;,&amp;tolua_err);
5291:  return 0;
5292: #endif
5293: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="5315" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 5312 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getFlag00 ( lua_State * tolua_S )" content="5305:  )
5306:   goto tolua_lerror;
5307:  else
5308: #endif
5309:  {
5310:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
5311: #ifndef TOLUA_RELEASE
5312:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getFlag&apos;&quot;, NULL);
5313: #endif
5314:   {
5315:    behaviac::vector&lt;int32_t&gt; tolua_ret = (behaviac::vector&lt;int32_t&gt;)  self-&gt;bt_getFlag();
5316:    {
5317: #ifdef __cplusplus
5318:     void* tolua_obj = Mtolua_new((behaviac::vector&lt;int32_t&gt;)(tolua_ret));
5319:      tolua_pushusertype(tolua_S,tolua_obj,&quot;behaviac::vector&lt;int32_t&gt;&quot;);
5320:     tolua_register_gc(tolua_S,lua_gettop(tolua_S));
5321: #else
5322:     void* tolua_obj = tolua_copy(tolua_S,(void*)&amp;tolua_ret,sizeof(behaviac::vector&lt;int32_t&gt;));
5323:      tolua_pushusertype(tolua_S,tolua_obj,&quot;behaviac::vector&lt;int32_t&gt;&quot;);
5324:     tolua_register_gc(tolua_S,lua_gettop(tolua_S));
5325: #endif
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="5359" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 5356 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getFlagState00 ( lua_State * tolua_S )" content="5349:   goto tolua_lerror;
5350:  else
5351: #endif
5352:  {
5353:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
5354:    int sid = ((  int)  tolua_tonumber(tolua_S,2,0));
5355: #ifndef TOLUA_RELEASE
5356:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getFlagState&apos;&quot;, NULL);
5357: #endif
5358:   {
5359:    int tolua_ret = (int)  self-&gt;bt_getFlagState(sid);
5360:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
5361:   }
5362:  }
5363:  return 1;
5364: #ifndef TOLUA_RELEASE
5365:  tolua_lerror:
5366:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getFlagState&apos;.&quot;,&amp;tolua_err);
5367:  return 0;
5368: #endif
5369: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="539" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 536 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getSkillComboTime00 ( lua_State * tolua_S )" content="529:   goto tolua_lerror;
530:  else
531: #endif
532:  {
533:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
534:    int skill_id = ((  int)  tolua_tonumber(tolua_S,2,0));
535: #ifndef TOLUA_RELEASE
536:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getSkillComboTime&apos;&quot;, NULL);
537: #endif
538:   {
539:    float tolua_ret = (float)  self-&gt;bt_getSkillComboTime(skill_id);
540:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
541:   }
542:  }
543:  return 1;
544: #ifndef TOLUA_RELEASE
545:  tolua_lerror:
546:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getSkillComboTime&apos;.&quot;,&amp;tolua_err);
547:  return 0;
548: #endif
549: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="5393" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 5390 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_captureFlag00 ( lua_State * tolua_S )" content="5383:   goto tolua_lerror;
5384:  else
5385: #endif
5386:  {
5387:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
5388:    int sid = ((  int)  tolua_tonumber(tolua_S,2,0));
5389: #ifndef TOLUA_RELEASE
5390:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_captureFlag&apos;&quot;, NULL);
5391: #endif
5392:   {
5393:    bool tolua_ret = (bool)  self-&gt;bt_captureFlag(sid);
5394:    tolua_pushboolean(tolua_S,(bool)tolua_ret);
5395:   }
5396:  }
5397:  return 1;
5398: #ifndef TOLUA_RELEASE
5399:  tolua_lerror:
5400:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_captureFlag&apos;.&quot;,&amp;tolua_err);
5401:  return 0;
5402: #endif
5403: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="5425" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 5422 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_stopcaptureFlag00 ( lua_State * tolua_S )" content="5415:  )
5416:   goto tolua_lerror;
5417:  else
5418: #endif
5419:  {
5420:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
5421: #ifndef TOLUA_RELEASE
5422:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_stopcaptureFlag&apos;&quot;, NULL);
5423: #endif
5424:   {
5425:    self-&gt;bt_stopcaptureFlag();
5426:   }
5427:  }
5428:  return 0;
5429: #ifndef TOLUA_RELEASE
5430:  tolua_lerror:
5431:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_stopcaptureFlag&apos;.&quot;,&amp;tolua_err);
5432:  return 0;
5433: #endif
5434: }
5435: #endif //#ifndef TOLUA_DISABLE
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="5456" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 5453 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getCurCardID00 ( lua_State * tolua_S )" content="5446:  )
5447:   goto tolua_lerror;
5448:  else
5449: #endif
5450:  {
5451:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
5452: #ifndef TOLUA_RELEASE
5453:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getCurCardID&apos;&quot;, NULL);
5454: #endif
5455:   {
5456:     int tolua_ret = (  int)  self-&gt;bt_getCurCardID();
5457:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
5458:   }
5459:  }
5460:  return 1;
5461: #ifndef TOLUA_RELEASE
5462:  tolua_lerror:
5463:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getCurCardID&apos;.&quot;,&amp;tolua_err);
5464:  return 0;
5465: #endif
5466: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="5488" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 5485 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getCards00 ( lua_State * tolua_S )" content="5478:  )
5479:   goto tolua_lerror;
5480:  else
5481: #endif
5482:  {
5483:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
5484: #ifndef TOLUA_RELEASE
5485:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getCards&apos;&quot;, NULL);
5486: #endif
5487:   {
5488:    behaviac::vector&lt;int32_t&gt; tolua_ret = (behaviac::vector&lt;int32_t&gt;)  self-&gt;bt_getCards();
5489:    {
5490: #ifdef __cplusplus
5491:     void* tolua_obj = Mtolua_new((behaviac::vector&lt;int32_t&gt;)(tolua_ret));
5492:      tolua_pushusertype(tolua_S,tolua_obj,&quot;behaviac::vector&lt;int32_t&gt;&quot;);
5493:     tolua_register_gc(tolua_S,lua_gettop(tolua_S));
5494: #else
5495:     void* tolua_obj = tolua_copy(tolua_S,(void*)&amp;tolua_ret,sizeof(behaviac::vector&lt;int32_t&gt;));
5496:      tolua_pushusertype(tolua_S,tolua_obj,&quot;behaviac::vector&lt;int32_t&gt;&quot;);
5497:     tolua_register_gc(tolua_S,lua_gettop(tolua_S));
5498: #endif
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="5532" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 5529 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getCardHp00 ( lua_State * tolua_S )" content="5522:   goto tolua_lerror;
5523:  else
5524: #endif
5525:  {
5526:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
5527:    int card_id = ((  int)  tolua_tonumber(tolua_S,2,0));
5528: #ifndef TOLUA_RELEASE
5529:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getCardHp&apos;&quot;, NULL);
5530: #endif
5531:   {
5532:     int tolua_ret = (  int)  self-&gt;bt_getCardHp(card_id);
5533:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
5534:   }
5535:  }
5536:  return 1;
5537: #ifndef TOLUA_RELEASE
5538:  tolua_lerror:
5539:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getCardHp&apos;.&quot;,&amp;tolua_err);
5540:  return 0;
5541: #endif
5542: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="5564" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 5561 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getRobotID00 ( lua_State * tolua_S )" content="5554:  )
5555:   goto tolua_lerror;
5556:  else
5557: #endif
5558:  {
5559:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
5560: #ifndef TOLUA_RELEASE
5561:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getRobotID&apos;&quot;, NULL);
5562: #endif
5563:   {
5564:     int tolua_ret = (  int)  self-&gt;bt_getRobotID();
5565:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
5566:   }
5567:  }
5568:  return 1;
5569: #ifndef TOLUA_RELEASE
5570:  tolua_lerror:
5571:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getRobotID&apos;.&quot;,&amp;tolua_err);
5572:  return 0;
5573: #endif
5574: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="5600" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 5597 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_DoTriggerNotify00 ( lua_State * tolua_S )" content="5590:  else
5591: #endif
5592:  {
5593:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
5594:    int type = ((  int)  tolua_tonumber(tolua_S,2,0));
5595:   const std::string param = ((const std::string)  tolua_tocppstring(tolua_S,3,0));
5596: #ifndef TOLUA_RELEASE
5597:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_DoTriggerNotify&apos;&quot;, NULL);
5598: #endif
5599:   {
5600:     int tolua_ret = (  int)  self-&gt;bt_DoTriggerNotify(type,param);
5601:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
5602:    tolua_pushcppstring(tolua_S,(const char*)param);
5603:   }
5604:  }
5605:  return 2;
5606: #ifndef TOLUA_RELEASE
5607:  tolua_lerror:
5608:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_DoTriggerNotify&apos;.&quot;,&amp;tolua_err);
5609:  return 0;
5610: #endif
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="5637" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 5634 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getNearParterCount00 ( lua_State * tolua_S )" content="5627:  else
5628: #endif
5629:  {
5630:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
5631:    int sid = ((  int)  tolua_tonumber(tolua_S,2,0));
5632:    int dist = ((  int)  tolua_tonumber(tolua_S,3,0));
5633: #ifndef TOLUA_RELEASE
5634:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getNearParterCount&apos;&quot;, NULL);
5635: #endif
5636:   {
5637:     int tolua_ret = (  int)  self-&gt;bt_getNearParterCount(sid,dist);
5638:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
5639:   }
5640:  }
5641:  return 1;
5642: #ifndef TOLUA_RELEASE
5643:  tolua_lerror:
5644:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getNearParterCount&apos;.&quot;,&amp;tolua_err);
5645:  return 0;
5646: #endif
5647: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="5671" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 5668 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_randomNearPos00 ( lua_State * tolua_S )" content="5661:   goto tolua_lerror;
5662:  else
5663: #endif
5664:  {
5665:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
5666:    int distance = ((  int)  tolua_tonumber(tolua_S,2,0));
5667: #ifndef TOLUA_RELEASE
5668:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_randomNearPos&apos;&quot;, NULL);
5669: #endif
5670:   {
5671:    bt_location tolua_ret = (bt_location)  self-&gt;bt_randomNearPos(distance);
5672:    {
5673: #ifdef __cplusplus
5674:     void* tolua_obj = Mtolua_new((bt_location)(tolua_ret));
5675:      tolua_pushusertype(tolua_S,tolua_obj,&quot;bt_location&quot;);
5676:     tolua_register_gc(tolua_S,lua_gettop(tolua_S));
5677: #else
5678:     void* tolua_obj = tolua_copy(tolua_S,(void*)&amp;tolua_ret,sizeof(bt_location));
5679:      tolua_pushusertype(tolua_S,tolua_obj,&quot;bt_location&quot;);
5680:     tolua_register_gc(tolua_S,lua_gettop(tolua_S));
5681: #endif
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="5717" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 5714 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getHitEdge00 ( lua_State * tolua_S )" content="5707:  else
5708: #endif
5709:  {
5710:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
5711:   bt_location start = *((bt_location*)  tolua_tousertype(tolua_S,2,0));
5712:   bt_location end = *((bt_location*)  tolua_tousertype(tolua_S,3,0));
5713: #ifndef TOLUA_RELEASE
5714:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getHitEdge&apos;&quot;, NULL);
5715: #endif
5716:   {
5717:     int tolua_ret = (  int)  self-&gt;bt_getHitEdge(start,end);
5718:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
5719:   }
5720:  }
5721:  return 1;
5722: #ifndef TOLUA_RELEASE
5723:  tolua_lerror:
5724:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getHitEdge&apos;.&quot;,&amp;tolua_err);
5725:  return 0;
5726: #endif
5727: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="573" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 570 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getSkillCastDistance00 ( lua_State * tolua_S )" content="563:   goto tolua_lerror;
564:  else
565: #endif
566:  {
567:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
568:    int skill_id = ((  int)  tolua_tonumber(tolua_S,2,0));
569: #ifndef TOLUA_RELEASE
570:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getSkillCastDistance&apos;&quot;, NULL);
571: #endif
572:   {
573:     int tolua_ret = (  int)  self-&gt;bt_getSkillCastDistance(skill_id);
574:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
575:   }
576:  }
577:  return 1;
578: #ifndef TOLUA_RELEASE
579:  tolua_lerror:
580:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getSkillCastDistance&apos;.&quot;,&amp;tolua_err);
581:  return 0;
582: #endif
583: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="5749" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 5746 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_canMove00 ( lua_State * tolua_S )" content="5739:  )
5740:   goto tolua_lerror;
5741:  else
5742: #endif
5743:  {
5744:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
5745: #ifndef TOLUA_RELEASE
5746:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_canMove&apos;&quot;, NULL);
5747: #endif
5748:   {
5749:    bool tolua_ret = (bool)  self-&gt;bt_canMove();
5750:    tolua_pushboolean(tolua_S,(bool)tolua_ret);
5751:   }
5752:  }
5753:  return 1;
5754: #ifndef TOLUA_RELEASE
5755:  tolua_lerror:
5756:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_canMove&apos;.&quot;,&amp;tolua_err);
5757:  return 0;
5758: #endif
5759: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="5781" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 5778 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getRefreshTime00 ( lua_State * tolua_S )" content="5771:  )
5772:   goto tolua_lerror;
5773:  else
5774: #endif
5775:  {
5776:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
5777: #ifndef TOLUA_RELEASE
5778:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getRefreshTime&apos;&quot;, NULL);
5779: #endif
5780:   {
5781:    float tolua_ret = (float)  self-&gt;bt_getRefreshTime();
5782:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
5783:   }
5784:  }
5785:  return 1;
5786: #ifndef TOLUA_RELEASE
5787:  tolua_lerror:
5788:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getRefreshTime&apos;.&quot;,&amp;tolua_err);
5789:  return 0;
5790: #endif
5791: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="5815" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 5812 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getFace00 ( lua_State * tolua_S )" content="5805:   goto tolua_lerror;
5806:  else
5807: #endif
5808:  {
5809:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
5810:    int sid = ((  int)  tolua_tonumber(tolua_S,2,0));
5811: #ifndef TOLUA_RELEASE
5812:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getFace&apos;&quot;, NULL);
5813: #endif
5814:   {
5815:     int tolua_ret = (  int)  self-&gt;bt_getFace(sid);
5816:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
5817:   }
5818:  }
5819:  return 1;
5820: #ifndef TOLUA_RELEASE
5821:  tolua_lerror:
5822:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getFace&apos;.&quot;,&amp;tolua_err);
5823:  return 0;
5824: #endif
5825: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="5849" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 5846 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getSkillIsHit00 ( lua_State * tolua_S )" content="5839:   goto tolua_lerror;
5840:  else
5841: #endif
5842:  {
5843:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
5844:    int skill_id = ((  int)  tolua_tonumber(tolua_S,2,0));
5845: #ifndef TOLUA_RELEASE
5846:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getSkillIsHit&apos;&quot;, NULL);
5847: #endif
5848:   {
5849:    bool tolua_ret = (bool)  self-&gt;bt_getSkillIsHit(skill_id);
5850:    tolua_pushboolean(tolua_S,(bool)tolua_ret);
5851:   }
5852:  }
5853:  return 1;
5854: #ifndef TOLUA_RELEASE
5855:  tolua_lerror:
5856:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getSkillIsHit&apos;.&quot;,&amp;tolua_err);
5857:  return 0;
5858: #endif
5859: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="5883" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 5880 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_towardFace00 ( lua_State * tolua_S )" content="5873:   goto tolua_lerror;
5874:  else
5875: #endif
5876:  {
5877:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
5878:    int sid = ((  int)  tolua_tonumber(tolua_S,2,0));
5879: #ifndef TOLUA_RELEASE
5880:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_towardFace&apos;&quot;, NULL);
5881: #endif
5882:   {
5883:     int tolua_ret = (  int)  self-&gt;bt_towardFace(sid);
5884:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
5885:   }
5886:  }
5887:  return 1;
5888: #ifndef TOLUA_RELEASE
5889:  tolua_lerror:
5890:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_towardFace&apos;.&quot;,&amp;tolua_err);
5891:  return 0;
5892: #endif
5893: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="5917" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 5914 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_changeFace00 ( lua_State * tolua_S )" content="5907:   goto tolua_lerror;
5908:  else
5909: #endif
5910:  {
5911:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
5912:    int face = ((  int)  tolua_tonumber(tolua_S,2,0));
5913: #ifndef TOLUA_RELEASE
5914:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_changeFace&apos;&quot;, NULL);
5915: #endif
5916:   {
5917:    self-&gt;bt_changeFace(face);
5918:   }
5919:  }
5920:  return 0;
5921: #ifndef TOLUA_RELEASE
5922:  tolua_lerror:
5923:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_changeFace&apos;.&quot;,&amp;tolua_err);
5924:  return 0;
5925: #endif
5926: }
5927: #endif //#ifndef TOLUA_DISABLE
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="5950" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 5947 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_switchCard00 ( lua_State * tolua_S )" content="5940:   goto tolua_lerror;
5941:  else
5942: #endif
5943:  {
5944:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
5945:    int card_id = ((  int)  tolua_tonumber(tolua_S,2,0));
5946: #ifndef TOLUA_RELEASE
5947:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_switchCard&apos;&quot;, NULL);
5948: #endif
5949:   {
5950:    bool tolua_ret = (bool)  self-&gt;bt_switchCard(card_id);
5951:    tolua_pushboolean(tolua_S,(bool)tolua_ret);
5952:   }
5953:  }
5954:  return 1;
5955: #ifndef TOLUA_RELEASE
5956:  tolua_lerror:
5957:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_switchCard&apos;.&quot;,&amp;tolua_err);
5958:  return 0;
5959: #endif
5960: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="5982" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 5979 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_GetCardAITeamSid00 ( lua_State * tolua_S )" content="5972:  )
5973:   goto tolua_lerror;
5974:  else
5975: #endif
5976:  {
5977:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
5978: #ifndef TOLUA_RELEASE
5979:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_GetCardAITeamSid&apos;&quot;, NULL);
5980: #endif
5981:   {
5982:    std::string tolua_ret = (std::string)  self-&gt;bt_GetCardAITeamSid();
5983:    tolua_pushcppstring(tolua_S,(const char*)tolua_ret);
5984:   }
5985:  }
5986:  return 1;
5987: #ifndef TOLUA_RELEASE
5988:  tolua_lerror:
5989:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_GetCardAITeamSid&apos;.&quot;,&amp;tolua_err);
5990:  return 0;
5991: #endif
5992: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="6014" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 6011 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_get_robot2monster_id00 ( lua_State * tolua_S )" content="6004:  )
6005:   goto tolua_lerror;
6006:  else
6007: #endif
6008:  {
6009:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
6010: #ifndef TOLUA_RELEASE
6011:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_get_robot2monster_id&apos;&quot;, NULL);
6012: #endif
6013:   {
6014:     int tolua_ret = (  int)  self-&gt;bt_get_robot2monster_id();
6015:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
6016:   }
6017:  }
6018:  return 1;
6019: #ifndef TOLUA_RELEASE
6020:  tolua_lerror:
6021:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_get_robot2monster_id&apos;.&quot;,&amp;tolua_err);
6022:  return 0;
6023: #endif
6024: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="6046" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 6043 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_randMove00 ( lua_State * tolua_S )" content="6036:  )
6037:   goto tolua_lerror;
6038:  else
6039: #endif
6040:  {
6041:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
6042: #ifndef TOLUA_RELEASE
6043:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_randMove&apos;&quot;, NULL);
6044: #endif
6045:   {
6046:    self-&gt;bt_randMove();
6047:   }
6048:  }
6049:  return 0;
6050: #ifndef TOLUA_RELEASE
6051:  tolua_lerror:
6052:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_randMove&apos;.&quot;,&amp;tolua_err);
6053:  return 0;
6054: #endif
6055: }
6056: #endif //#ifndef TOLUA_DISABLE
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="6077" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 6074 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_stopMove00 ( lua_State * tolua_S )" content="6067:  )
6068:   goto tolua_lerror;
6069:  else
6070: #endif
6071:  {
6072:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
6073: #ifndef TOLUA_RELEASE
6074:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_stopMove&apos;&quot;, NULL);
6075: #endif
6076:   {
6077:    self-&gt;bt_stopMove();
6078:   }
6079:  }
6080:  return 0;
6081: #ifndef TOLUA_RELEASE
6082:  tolua_lerror:
6083:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_stopMove&apos;.&quot;,&amp;tolua_err);
6084:  return 0;
6085: #endif
6086: }
6087: #endif //#ifndef TOLUA_DISABLE
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="609" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 606 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_castSkillPos00 ( lua_State * tolua_S )" content="599:  else
600: #endif
601:  {
602:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
603:    int skill_id = ((  int)  tolua_tonumber(tolua_S,2,0));
604:   bt_location b_pos = *((bt_location*)  tolua_tousertype(tolua_S,3,0));
605: #ifndef TOLUA_RELEASE
606:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_castSkillPos&apos;&quot;, NULL);
607: #endif
608:   {
609:     int tolua_ret = (  int)  self-&gt;bt_castSkillPos(skill_id,b_pos);
610:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
611:   }
612:  }
613:  return 1;
614: #ifndef TOLUA_RELEASE
615:  tolua_lerror:
616:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_castSkillPos&apos;.&quot;,&amp;tolua_err);
617:  return 0;
618: #endif
619: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="6110" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 6107 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_catchUp00 ( lua_State * tolua_S )" content="6100:   goto tolua_lerror;
6101:  else
6102: #endif
6103:  {
6104:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
6105:    int obj_id = ((  int)  tolua_tonumber(tolua_S,2,0));
6106: #ifndef TOLUA_RELEASE
6107:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_catchUp&apos;&quot;, NULL);
6108: #endif
6109:   {
6110:    self-&gt;bt_catchUp(obj_id);
6111:   }
6112:  }
6113:  return 0;
6114: #ifndef TOLUA_RELEASE
6115:  tolua_lerror:
6116:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_catchUp&apos;.&quot;,&amp;tolua_err);
6117:  return 0;
6118: #endif
6119: }
6120: #endif //#ifndef TOLUA_DISABLE
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="6145" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 6142 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_catchUpPos00 ( lua_State * tolua_S )" content="6135:  else
6136: #endif
6137:  {
6138:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
6139:   bt_location b_pos = *((bt_location*)  tolua_tousertype(tolua_S,2,0));
6140:    int move_dir = ((  int)  tolua_tonumber(tolua_S,3,-1));
6141: #ifndef TOLUA_RELEASE
6142:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_catchUpPos&apos;&quot;, NULL);
6143: #endif
6144:   {
6145:    bool tolua_ret = (bool)  self-&gt;bt_catchUpPos(b_pos,move_dir);
6146:    tolua_pushboolean(tolua_S,(bool)tolua_ret);
6147:   }
6148:  }
6149:  return 1;
6150: #ifndef TOLUA_RELEASE
6151:  tolua_lerror:
6152:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_catchUpPos&apos;.&quot;,&amp;tolua_err);
6153:  return 0;
6154: #endif
6155: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="6177" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 6174 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getDistance2NavPos00 ( lua_State * tolua_S )" content="6167:  )
6168:   goto tolua_lerror;
6169:  else
6170: #endif
6171:  {
6172:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
6173: #ifndef TOLUA_RELEASE
6174:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getDistance2NavPos&apos;&quot;, NULL);
6175: #endif
6176:   {
6177:     int tolua_ret = (  int)  self-&gt;bt_getDistance2NavPos();
6178:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
6179:   }
6180:  }
6181:  return 1;
6182: #ifndef TOLUA_RELEASE
6183:  tolua_lerror:
6184:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getDistance2NavPos&apos;.&quot;,&amp;tolua_err);
6185:  return 0;
6186: #endif
6187: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="6209" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 6206 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_get_SceneID00 ( lua_State * tolua_S )" content="6199:  )
6200:   goto tolua_lerror;
6201:  else
6202: #endif
6203:  {
6204:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
6205: #ifndef TOLUA_RELEASE
6206:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_get_SceneID&apos;&quot;, NULL);
6207: #endif
6208:   {
6209:     int tolua_ret = (  int)  self-&gt;bt_get_SceneID();
6210:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
6211:   }
6212:  }
6213:  return 1;
6214: #ifndef TOLUA_RELEASE
6215:  tolua_lerror:
6216:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_get_SceneID&apos;.&quot;,&amp;tolua_err);
6217:  return 0;
6218: #endif
6219: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="6241" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 6238 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getSkills00 ( lua_State * tolua_S )" content="6231:  )
6232:   goto tolua_lerror;
6233:  else
6234: #endif
6235:  {
6236:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
6237: #ifndef TOLUA_RELEASE
6238:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getSkills&apos;&quot;, NULL);
6239: #endif
6240:   {
6241:    behaviac::vector&lt;int32_t&gt; tolua_ret = (behaviac::vector&lt;int32_t&gt;)  self-&gt;bt_getSkills();
6242:    {
6243: #ifdef __cplusplus
6244:     void* tolua_obj = Mtolua_new((behaviac::vector&lt;int32_t&gt;)(tolua_ret));
6245:      tolua_pushusertype(tolua_S,tolua_obj,&quot;behaviac::vector&lt;int32_t&gt;&quot;);
6246:     tolua_register_gc(tolua_S,lua_gettop(tolua_S));
6247: #else
6248:     void* tolua_obj = tolua_copy(tolua_S,(void*)&amp;tolua_ret,sizeof(behaviac::vector&lt;int32_t&gt;));
6249:      tolua_pushusertype(tolua_S,tolua_obj,&quot;behaviac::vector&lt;int32_t&gt;&quot;);
6250:     tolua_register_gc(tolua_S,lua_gettop(tolua_S));
6251: #endif
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="6287" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 6284 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_castSkill00 ( lua_State * tolua_S )" content="6277:  else
6278: #endif
6279:  {
6280:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
6281:    int skill_id = ((  int)  tolua_tonumber(tolua_S,2,0));
6282:    int obj_id = ((  int)  tolua_tonumber(tolua_S,3,0));
6283: #ifndef TOLUA_RELEASE
6284:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_castSkill&apos;&quot;, NULL);
6285: #endif
6286:   {
6287:     int tolua_ret = (  int)  self-&gt;bt_castSkill(skill_id,obj_id);
6288:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
6289:   }
6290:  }
6291:  return 1;
6292: #ifndef TOLUA_RELEASE
6293:  tolua_lerror:
6294:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_castSkill&apos;.&quot;,&amp;tolua_err);
6295:  return 0;
6296: #endif
6297: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="6323" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 6320 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_castSkillPos00 ( lua_State * tolua_S )" content="6313:  else
6314: #endif
6315:  {
6316:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
6317:    int skill_id = ((  int)  tolua_tonumber(tolua_S,2,0));
6318:   bt_location b_pos = *((bt_location*)  tolua_tousertype(tolua_S,3,0));
6319: #ifndef TOLUA_RELEASE
6320:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_castSkillPos&apos;&quot;, NULL);
6321: #endif
6322:   {
6323:     int tolua_ret = (  int)  self-&gt;bt_castSkillPos(skill_id,b_pos);
6324:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
6325:   }
6326:  }
6327:  return 1;
6328: #ifndef TOLUA_RELEASE
6329:  tolua_lerror:
6330:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_castSkillPos&apos;.&quot;,&amp;tolua_err);
6331:  return 0;
6332: #endif
6333: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="6357" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 6354 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getSkillCDTime00 ( lua_State * tolua_S )" content="6347:   goto tolua_lerror;
6348:  else
6349: #endif
6350:  {
6351:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
6352:    int skill_id = ((  int)  tolua_tonumber(tolua_S,2,0));
6353: #ifndef TOLUA_RELEASE
6354:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getSkillCDTime&apos;&quot;, NULL);
6355: #endif
6356:   {
6357:     int tolua_ret = (  int)  self-&gt;bt_getSkillCDTime(skill_id);
6358:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
6359:   }
6360:  }
6361:  return 1;
6362: #ifndef TOLUA_RELEASE
6363:  tolua_lerror:
6364:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getSkillCDTime&apos;.&quot;,&amp;tolua_err);
6365:  return 0;
6366: #endif
6367: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="6391" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 6388 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getSkillComboTime00 ( lua_State * tolua_S )" content="6381:   goto tolua_lerror;
6382:  else
6383: #endif
6384:  {
6385:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
6386:    int skill_id = ((  int)  tolua_tonumber(tolua_S,2,0));
6387: #ifndef TOLUA_RELEASE
6388:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getSkillComboTime&apos;&quot;, NULL);
6389: #endif
6390:   {
6391:    float tolua_ret = (float)  self-&gt;bt_getSkillComboTime(skill_id);
6392:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
6393:   }
6394:  }
6395:  return 1;
6396: #ifndef TOLUA_RELEASE
6397:  tolua_lerror:
6398:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getSkillComboTime&apos;.&quot;,&amp;tolua_err);
6399:  return 0;
6400: #endif
6401: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="641" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 638 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_isMoving00 ( lua_State * tolua_S )" content="631:  )
632:   goto tolua_lerror;
633:  else
634: #endif
635:  {
636:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
637: #ifndef TOLUA_RELEASE
638:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_isMoving&apos;&quot;, NULL);
639: #endif
640:   {
641:    bool tolua_ret = (bool)  self-&gt;bt_isMoving();
642:    tolua_pushboolean(tolua_S,(bool)tolua_ret);
643:   }
644:  }
645:  return 1;
646: #ifndef TOLUA_RELEASE
647:  tolua_lerror:
648:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_isMoving&apos;.&quot;,&amp;tolua_err);
649:  return 0;
650: #endif
651: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="6425" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 6422 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getSkillCastDistance00 ( lua_State * tolua_S )" content="6415:   goto tolua_lerror;
6416:  else
6417: #endif
6418:  {
6419:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
6420:    int skill_id = ((  int)  tolua_tonumber(tolua_S,2,0));
6421: #ifndef TOLUA_RELEASE
6422:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getSkillCastDistance&apos;&quot;, NULL);
6423: #endif
6424:   {
6425:     int tolua_ret = (  int)  self-&gt;bt_getSkillCastDistance(skill_id);
6426:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
6427:   }
6428:  }
6429:  return 1;
6430: #ifndef TOLUA_RELEASE
6431:  tolua_lerror:
6432:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getSkillCastDistance&apos;.&quot;,&amp;tolua_err);
6433:  return 0;
6434: #endif
6435: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="6457" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 6454 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getTime00 ( lua_State * tolua_S )" content="6447:  )
6448:   goto tolua_lerror;
6449:  else
6450: #endif
6451:  {
6452:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
6453: #ifndef TOLUA_RELEASE
6454:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getTime&apos;&quot;, NULL);
6455: #endif
6456:   {
6457:     int tolua_ret = (  int)  self-&gt;bt_getTime();
6458:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
6459:   }
6460:  }
6461:  return 1;
6462: #ifndef TOLUA_RELEASE
6463:  tolua_lerror:
6464:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getTime&apos;.&quot;,&amp;tolua_err);
6465:  return 0;
6466: #endif
6467: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="6489" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 6486 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_isMoving00 ( lua_State * tolua_S )" content="6479:  )
6480:   goto tolua_lerror;
6481:  else
6482: #endif
6483:  {
6484:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
6485: #ifndef TOLUA_RELEASE
6486:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_isMoving&apos;&quot;, NULL);
6487: #endif
6488:   {
6489:    bool tolua_ret = (bool)  self-&gt;bt_isMoving();
6490:    tolua_pushboolean(tolua_S,(bool)tolua_ret);
6491:   }
6492:  }
6493:  return 1;
6494: #ifndef TOLUA_RELEASE
6495:  tolua_lerror:
6496:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_isMoving&apos;.&quot;,&amp;tolua_err);
6497:  return 0;
6498: #endif
6499: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="6521" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 6518 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getClosestEnemy00 ( lua_State * tolua_S )" content="6511:  )
6512:   goto tolua_lerror;
6513:  else
6514: #endif
6515:  {
6516:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
6517: #ifndef TOLUA_RELEASE
6518:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getClosestEnemy&apos;&quot;, NULL);
6519: #endif
6520:   {
6521:     int tolua_ret = (  int)  self-&gt;bt_getClosestEnemy();
6522:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
6523:   }
6524:  }
6525:  return 1;
6526: #ifndef TOLUA_RELEASE
6527:  tolua_lerror:
6528:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getClosestEnemy&apos;.&quot;,&amp;tolua_err);
6529:  return 0;
6530: #endif
6531: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="6553" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 6550 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getAttacker00 ( lua_State * tolua_S )" content="6543:  )
6544:   goto tolua_lerror;
6545:  else
6546: #endif
6547:  {
6548:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
6549: #ifndef TOLUA_RELEASE
6550:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getAttacker&apos;&quot;, NULL);
6551: #endif
6552:   {
6553:     int tolua_ret = (  int)  self-&gt;bt_getAttacker();
6554:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
6555:   }
6556:  }
6557:  return 1;
6558: #ifndef TOLUA_RELEASE
6559:  tolua_lerror:
6560:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getAttacker&apos;.&quot;,&amp;tolua_err);
6561:  return 0;
6562: #endif
6563: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="6585" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 6582 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getGate00 ( lua_State * tolua_S )" content="6575:  )
6576:   goto tolua_lerror;
6577:  else
6578: #endif
6579:  {
6580:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
6581: #ifndef TOLUA_RELEASE
6582:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getGate&apos;&quot;, NULL);
6583: #endif
6584:   {
6585:     int tolua_ret = (  int)  self-&gt;bt_getGate();
6586:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
6587:   }
6588:  }
6589:  return 1;
6590: #ifndef TOLUA_RELEASE
6591:  tolua_lerror:
6592:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getGate&apos;.&quot;,&amp;tolua_err);
6593:  return 0;
6594: #endif
6595: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="6617" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 6614 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getCurLocation00 ( lua_State * tolua_S )" content="6607:  )
6608:   goto tolua_lerror;
6609:  else
6610: #endif
6611:  {
6612:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
6613: #ifndef TOLUA_RELEASE
6614:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getCurLocation&apos;&quot;, NULL);
6615: #endif
6616:   {
6617:    bt_location tolua_ret = (bt_location)  self-&gt;bt_getCurLocation();
6618:    {
6619: #ifdef __cplusplus
6620:     void* tolua_obj = Mtolua_new((bt_location)(tolua_ret));
6621:      tolua_pushusertype(tolua_S,tolua_obj,&quot;bt_location&quot;);
6622:     tolua_register_gc(tolua_S,lua_gettop(tolua_S));
6623: #else
6624:     void* tolua_obj = tolua_copy(tolua_S,(void*)&amp;tolua_ret,sizeof(bt_location));
6625:      tolua_pushusertype(tolua_S,tolua_obj,&quot;bt_location&quot;);
6626:     tolua_register_gc(tolua_S,lua_gettop(tolua_S));
6627: #endif
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="6663" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 6660 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getDistance00 ( lua_State * tolua_S )" content="6653:  else
6654: #endif
6655:  {
6656:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
6657:    int obj_id = ((  int)  tolua_tonumber(tolua_S,2,0));
6658:   bool same_layer = ((bool)  tolua_toboolean(tolua_S,3,true));
6659: #ifndef TOLUA_RELEASE
6660:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getDistance&apos;&quot;, NULL);
6661: #endif
6662:   {
6663:     int tolua_ret = (  int)  self-&gt;bt_getDistance(obj_id,same_layer);
6664:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
6665:   }
6666:  }
6667:  return 1;
6668: #ifndef TOLUA_RELEASE
6669:  tolua_lerror:
6670:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getDistance&apos;.&quot;,&amp;tolua_err);
6671:  return 0;
6672: #endif
6673: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="6697" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 6694 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getDistancePos00 ( lua_State * tolua_S )" content="6687:   goto tolua_lerror;
6688:  else
6689: #endif
6690:  {
6691:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
6692:   bt_location pos = *((bt_location*)  tolua_tousertype(tolua_S,2,0));
6693: #ifndef TOLUA_RELEASE
6694:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getDistancePos&apos;&quot;, NULL);
6695: #endif
6696:   {
6697:     int tolua_ret = (  int)  self-&gt;bt_getDistancePos(pos);
6698:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
6699:   }
6700:  }
6701:  return 1;
6702: #ifndef TOLUA_RELEASE
6703:  tolua_lerror:
6704:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getDistancePos&apos;.&quot;,&amp;tolua_err);
6705:  return 0;
6706: #endif
6707: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="6729" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 6726 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_distanceToInitpos00 ( lua_State * tolua_S )" content="6719:  )
6720:   goto tolua_lerror;
6721:  else
6722: #endif
6723:  {
6724:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
6725: #ifndef TOLUA_RELEASE
6726:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_distanceToInitpos&apos;&quot;, NULL);
6727: #endif
6728:   {
6729:     int tolua_ret = (  int)  self-&gt;bt_distanceToInitpos();
6730:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
6731:   }
6732:  }
6733:  return 1;
6734: #ifndef TOLUA_RELEASE
6735:  tolua_lerror:
6736:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_distanceToInitpos&apos;.&quot;,&amp;tolua_err);
6737:  return 0;
6738: #endif
6739: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="673" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 670 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getGateHpPercent00 ( lua_State * tolua_S )" content="663:  )
664:   goto tolua_lerror;
665:  else
666: #endif
667:  {
668:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
669: #ifndef TOLUA_RELEASE
670:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getGateHpPercent&apos;&quot;, NULL);
671: #endif
672:   {
673:     char tolua_ret = (  char)  self-&gt;bt_getGateHpPercent();
674:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
675:   }
676:  }
677:  return 1;
678: #ifndef TOLUA_RELEASE
679:  tolua_lerror:
680:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getGateHpPercent&apos;.&quot;,&amp;tolua_err);
681:  return 0;
682: #endif
683: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="6763" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 6760 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_objectToInitpos00 ( lua_State * tolua_S )" content="6753:   goto tolua_lerror;
6754:  else
6755: #endif
6756:  {
6757:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
6758:    int obj_id = ((  int)  tolua_tonumber(tolua_S,2,0));
6759: #ifndef TOLUA_RELEASE
6760:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_objectToInitpos&apos;&quot;, NULL);
6761: #endif
6762:   {
6763:     int tolua_ret = (  int)  self-&gt;bt_objectToInitpos(obj_id);
6764:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
6765:   }
6766:  }
6767:  return 1;
6768: #ifndef TOLUA_RELEASE
6769:  tolua_lerror:
6770:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_objectToInitpos&apos;.&quot;,&amp;tolua_err);
6771:  return 0;
6772: #endif
6773: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="6795" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 6792 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_intoWarnState00 ( lua_State * tolua_S )" content="6785:  )
6786:   goto tolua_lerror;
6787:  else
6788: #endif
6789:  {
6790:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
6791: #ifndef TOLUA_RELEASE
6792:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_intoWarnState&apos;&quot;, NULL);
6793: #endif
6794:   {
6795:    self-&gt;bt_intoWarnState();
6796:   }
6797:  }
6798:  return 0;
6799: #ifndef TOLUA_RELEASE
6800:  tolua_lerror:
6801:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_intoWarnState&apos;.&quot;,&amp;tolua_err);
6802:  return 0;
6803: #endif
6804: }
6805: #endif //#ifndef TOLUA_DISABLE
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="6826" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 6823 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_isDead00 ( lua_State * tolua_S )" content="6816:  )
6817:   goto tolua_lerror;
6818:  else
6819: #endif
6820:  {
6821:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
6822: #ifndef TOLUA_RELEASE
6823:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_isDead&apos;&quot;, NULL);
6824: #endif
6825:   {
6826:    bool tolua_ret = (bool)  self-&gt;bt_isDead();
6827:    tolua_pushboolean(tolua_S,(bool)tolua_ret);
6828:   }
6829:  }
6830:  return 1;
6831: #ifndef TOLUA_RELEASE
6832:  tolua_lerror:
6833:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_isDead&apos;.&quot;,&amp;tolua_err);
6834:  return 0;
6835: #endif
6836: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="6858" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 6855 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_revive00 ( lua_State * tolua_S )" content="6848:  )
6849:   goto tolua_lerror;
6850:  else
6851: #endif
6852:  {
6853:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
6854: #ifndef TOLUA_RELEASE
6855:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_revive&apos;&quot;, NULL);
6856: #endif
6857:   {
6858:     int tolua_ret = (  int)  self-&gt;bt_revive();
6859:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
6860:   }
6861:  }
6862:  return 1;
6863: #ifndef TOLUA_RELEASE
6864:  tolua_lerror:
6865:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_revive&apos;.&quot;,&amp;tolua_err);
6866:  return 0;
6867: #endif
6868: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="6890" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 6887 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_returnInitPos00 ( lua_State * tolua_S )" content="6880:  )
6881:   goto tolua_lerror;
6882:  else
6883: #endif
6884:  {
6885:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
6886: #ifndef TOLUA_RELEASE
6887:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_returnInitPos&apos;&quot;, NULL);
6888: #endif
6889:   {
6890:    self-&gt;bt_returnInitPos();
6891:   }
6892:  }
6893:  return 0;
6894: #ifndef TOLUA_RELEASE
6895:  tolua_lerror:
6896:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_returnInitPos&apos;.&quot;,&amp;tolua_err);
6897:  return 0;
6898: #endif
6899: }
6900: #endif //#ifndef TOLUA_DISABLE
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="6921" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 6918 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_isBackingInit00 ( lua_State * tolua_S )" content="6911:  )
6912:   goto tolua_lerror;
6913:  else
6914: #endif
6915:  {
6916:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
6917: #ifndef TOLUA_RELEASE
6918:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_isBackingInit&apos;&quot;, NULL);
6919: #endif
6920:   {
6921:    bool tolua_ret = (bool)  self-&gt;bt_isBackingInit();
6922:    tolua_pushboolean(tolua_S,(bool)tolua_ret);
6923:   }
6924:  }
6925:  return 1;
6926: #ifndef TOLUA_RELEASE
6927:  tolua_lerror:
6928:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_isBackingInit&apos;.&quot;,&amp;tolua_err);
6929:  return 0;
6930: #endif
6931: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="6953" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 6950 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_isInDSCScene00 ( lua_State * tolua_S )" content="6943:  )
6944:   goto tolua_lerror;
6945:  else
6946: #endif
6947:  {
6948:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
6949: #ifndef TOLUA_RELEASE
6950:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_isInDSCScene&apos;&quot;, NULL);
6951: #endif
6952:   {
6953:    bool tolua_ret = (bool)  self-&gt;bt_isInDSCScene();
6954:    tolua_pushboolean(tolua_S,(bool)tolua_ret);
6955:   }
6956:  }
6957:  return 1;
6958: #ifndef TOLUA_RELEASE
6959:  tolua_lerror:
6960:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_isInDSCScene&apos;.&quot;,&amp;tolua_err);
6961:  return 0;
6962: #endif
6963: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="6985" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 6982 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getMonsterId00 ( lua_State * tolua_S )" content="6975:  )
6976:   goto tolua_lerror;
6977:  else
6978: #endif
6979:  {
6980:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
6981: #ifndef TOLUA_RELEASE
6982:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getMonsterId&apos;&quot;, NULL);
6983: #endif
6984:   {
6985:     int tolua_ret = (  int)  self-&gt;bt_getMonsterId();
6986:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
6987:   }
6988:  }
6989:  return 1;
6990: #ifndef TOLUA_RELEASE
6991:  tolua_lerror:
6992:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getMonsterId&apos;.&quot;,&amp;tolua_err);
6993:  return 0;
6994: #endif
6995: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="7017" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 7014 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getAttackType00 ( lua_State * tolua_S )" content="7007:  )
7008:   goto tolua_lerror;
7009:  else
7010: #endif
7011:  {
7012:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
7013: #ifndef TOLUA_RELEASE
7014:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getAttackType&apos;&quot;, NULL);
7015: #endif
7016:   {
7017:     int tolua_ret = (  int)  self-&gt;bt_getAttackType();
7018:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
7019:   }
7020:  }
7021:  return 1;
7022: #ifndef TOLUA_RELEASE
7023:  tolua_lerror:
7024:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getAttackType&apos;.&quot;,&amp;tolua_err);
7025:  return 0;
7026: #endif
7027: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="705" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 702 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_distanceToInitpos00 ( lua_State * tolua_S )" content="695:  )
696:   goto tolua_lerror;
697:  else
698: #endif
699:  {
700:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
701: #ifndef TOLUA_RELEASE
702:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_distanceToInitpos&apos;&quot;, NULL);
703: #endif
704:   {
705:     int tolua_ret = (  int)  self-&gt;bt_distanceToInitpos();
706:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
707:   }
708:  }
709:  return 1;
710: #ifndef TOLUA_RELEASE
711:  tolua_lerror:
712:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_distanceToInitpos&apos;.&quot;,&amp;tolua_err);
713:  return 0;
714: #endif
715: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="7053" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 7050 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getLadderPos00 ( lua_State * tolua_S )" content="7043:  else
7044: #endif
7045:  {
7046:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
7047:    int ladder_id = ((  int)  tolua_tonumber(tolua_S,2,0));
7048:   bool is_walk = ((bool)  tolua_toboolean(tolua_S,3,false));
7049: #ifndef TOLUA_RELEASE
7050:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getLadderPos&apos;&quot;, NULL);
7051: #endif
7052:   {
7053:    bt_location tolua_ret = (bt_location)  self-&gt;bt_getLadderPos(ladder_id,is_walk);
7054:    {
7055: #ifdef __cplusplus
7056:     void* tolua_obj = Mtolua_new((bt_location)(tolua_ret));
7057:      tolua_pushusertype(tolua_S,tolua_obj,&quot;bt_location&quot;);
7058:     tolua_register_gc(tolua_S,lua_gettop(tolua_S));
7059: #else
7060:     void* tolua_obj = tolua_copy(tolua_S,(void*)&amp;tolua_ret,sizeof(bt_location));
7061:      tolua_pushusertype(tolua_S,tolua_obj,&quot;bt_location&quot;);
7062:     tolua_register_gc(tolua_S,lua_gettop(tolua_S));
7063: #endif
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="7097" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 7094 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getSelfRemove00 ( lua_State * tolua_S )" content="7087:   goto tolua_lerror;
7088:  else
7089: #endif
7090:  {
7091:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
7092:    int push_type = ((  int)  tolua_tonumber(tolua_S,2,0));
7093: #ifndef TOLUA_RELEASE
7094:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getSelfRemove&apos;&quot;, NULL);
7095: #endif
7096:   {
7097:    self-&gt;bt_getSelfRemove(push_type);
7098:   }
7099:  }
7100:  return 0;
7101: #ifndef TOLUA_RELEASE
7102:  tolua_lerror:
7103:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getSelfRemove&apos;.&quot;,&amp;tolua_err);
7104:  return 0;
7105: #endif
7106: }
7107: #endif //#ifndef TOLUA_DISABLE
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="7130" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 7127 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_buildLadder00 ( lua_State * tolua_S )" content="7120:   goto tolua_lerror;
7121:  else
7122: #endif
7123:  {
7124:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
7125:    int ladder_id = ((  int)  tolua_tonumber(tolua_S,2,0));
7126: #ifndef TOLUA_RELEASE
7127:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_buildLadder&apos;&quot;, NULL);
7128: #endif
7129:   {
7130:    self-&gt;bt_buildLadder(ladder_id);
7131:   }
7132:  }
7133:  return 0;
7134: #ifndef TOLUA_RELEASE
7135:  tolua_lerror:
7136:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_buildLadder&apos;.&quot;,&amp;tolua_err);
7137:  return 0;
7138: #endif
7139: }
7140: #endif //#ifndef TOLUA_DISABLE
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="7161" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 7158 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getRefreshTime00 ( lua_State * tolua_S )" content="7151:  )
7152:   goto tolua_lerror;
7153:  else
7154: #endif
7155:  {
7156:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
7157: #ifndef TOLUA_RELEASE
7158:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getRefreshTime&apos;&quot;, NULL);
7159: #endif
7160:   {
7161:    float tolua_ret = (float)  self-&gt;bt_getRefreshTime();
7162:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
7163:   }
7164:  }
7165:  return 1;
7166: #ifndef TOLUA_RELEASE
7167:  tolua_lerror:
7168:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getRefreshTime&apos;.&quot;,&amp;tolua_err);
7169:  return 0;
7170: #endif
7171: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="7193" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 7190 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getActiveRange00 ( lua_State * tolua_S )" content="7183:  )
7184:   goto tolua_lerror;
7185:  else
7186: #endif
7187:  {
7188:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
7189: #ifndef TOLUA_RELEASE
7190:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getActiveRange&apos;&quot;, NULL);
7191: #endif
7192:   {
7193:     int tolua_ret = (  int)  self-&gt;bt_getActiveRange();
7194:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
7195:   }
7196:  }
7197:  return 1;
7198: #ifndef TOLUA_RELEASE
7199:  tolua_lerror:
7200:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getActiveRange&apos;.&quot;,&amp;tolua_err);
7201:  return 0;
7202: #endif
7203: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="7225" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 7222 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getLeave_range200 ( lua_State * tolua_S )" content="7215:  )
7216:   goto tolua_lerror;
7217:  else
7218: #endif
7219:  {
7220:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
7221: #ifndef TOLUA_RELEASE
7222:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getLeave_range2&apos;&quot;, NULL);
7223: #endif
7224:   {
7225:     int tolua_ret = (  int)  self-&gt;bt_getLeave_range2();
7226:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
7227:   }
7228:  }
7229:  return 1;
7230: #ifndef TOLUA_RELEASE
7231:  tolua_lerror:
7232:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getLeave_range2&apos;.&quot;,&amp;tolua_err);
7233:  return 0;
7234: #endif
7235: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="7259" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 7256 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getObjectState00 ( lua_State * tolua_S )" content="7249:   goto tolua_lerror;
7250:  else
7251: #endif
7252:  {
7253:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
7254:    int obj_id = ((  int)  tolua_tonumber(tolua_S,2,0));
7255: #ifndef TOLUA_RELEASE
7256:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getObjectState&apos;&quot;, NULL);
7257: #endif
7258:   {
7259:     int tolua_ret = (  int)  self-&gt;bt_getObjectState(obj_id);
7260:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
7261:   }
7262:  }
7263:  return 1;
7264: #ifndef TOLUA_RELEASE
7265:  tolua_lerror:
7266:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getObjectState&apos;.&quot;,&amp;tolua_err);
7267:  return 0;
7268: #endif
7269: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="7291" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 7288 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getHpPct00 ( lua_State * tolua_S )" content="7281:  )
7282:   goto tolua_lerror;
7283:  else
7284: #endif
7285:  {
7286:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
7287: #ifndef TOLUA_RELEASE
7288:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getHpPct&apos;&quot;, NULL);
7289: #endif
7290:   {
7291:     int tolua_ret = (  int)  self-&gt;bt_getHpPct();
7292:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
7293:   }
7294:  }
7295:  return 1;
7296: #ifndef TOLUA_RELEASE
7297:  tolua_lerror:
7298:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getHpPct&apos;.&quot;,&amp;tolua_err);
7299:  return 0;
7300: #endif
7301: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="7323" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 7320 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getHp00 ( lua_State * tolua_S )" content="7313:  )
7314:   goto tolua_lerror;
7315:  else
7316: #endif
7317:  {
7318:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
7319: #ifndef TOLUA_RELEASE
7320:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getHp&apos;&quot;, NULL);
7321: #endif
7322:   {
7323:    int64_t tolua_ret = (int64_t)  self-&gt;bt_getHp();
7324:    {
7325: #ifdef __cplusplus
7326:     void* tolua_obj = Mtolua_new((int64_t)(tolua_ret));
7327:      tolua_pushusertype(tolua_S,tolua_obj,&quot;int64_t&quot;);
7328:     tolua_register_gc(tolua_S,lua_gettop(tolua_S));
7329: #else
7330:     void* tolua_obj = tolua_copy(tolua_S,(void*)&amp;tolua_ret,sizeof(int64_t));
7331:      tolua_pushusertype(tolua_S,tolua_obj,&quot;int64_t&quot;);
7332:     tolua_register_gc(tolua_S,lua_gettop(tolua_S));
7333: #endif
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="7367" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 7364 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_setHpPct00 ( lua_State * tolua_S )" content="7357:   goto tolua_lerror;
7358:  else
7359: #endif
7360:  {
7361:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
7362:    int p = ((  int)  tolua_tonumber(tolua_S,2,0));
7363: #ifndef TOLUA_RELEASE
7364:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_setHpPct&apos;&quot;, NULL);
7365: #endif
7366:   {
7367:    self-&gt;bt_setHpPct(p);
7368:   }
7369:  }
7370:  return 0;
7371: #ifndef TOLUA_RELEASE
7372:  tolua_lerror:
7373:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_setHpPct&apos;.&quot;,&amp;tolua_err);
7374:  return 0;
7375: #endif
7376: }
7377: #endif //#ifndef TOLUA_DISABLE
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="737" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 734 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_intoWarnState00 ( lua_State * tolua_S )" content="727:  )
728:   goto tolua_lerror;
729:  else
730: #endif
731:  {
732:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
733: #ifndef TOLUA_RELEASE
734:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_intoWarnState&apos;&quot;, NULL);
735: #endif
736:   {
737:    self-&gt;bt_intoWarnState();
738:   }
739:  }
740:  return 0;
741: #ifndef TOLUA_RELEASE
742:  tolua_lerror:
743:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_intoWarnState&apos;.&quot;,&amp;tolua_err);
744:  return 0;
745: #endif
746: }
747: #endif //#ifndef TOLUA_DISABLE
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="7398" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 7395 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_hasDebuff00 ( lua_State * tolua_S )" content="7388:  )
7389:   goto tolua_lerror;
7390:  else
7391: #endif
7392:  {
7393:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
7394: #ifndef TOLUA_RELEASE
7395:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_hasDebuff&apos;&quot;, NULL);
7396: #endif
7397:   {
7398:    bool tolua_ret = (bool)  self-&gt;bt_hasDebuff();
7399:    tolua_pushboolean(tolua_S,(bool)tolua_ret);
7400:   }
7401:  }
7402:  return 1;
7403: #ifndef TOLUA_RELEASE
7404:  tolua_lerror:
7405:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_hasDebuff&apos;.&quot;,&amp;tolua_err);
7406:  return 0;
7407: #endif
7408: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="7430" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 7427 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getWarnRange00 ( lua_State * tolua_S )" content="7420:  )
7421:   goto tolua_lerror;
7422:  else
7423: #endif
7424:  {
7425:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
7426: #ifndef TOLUA_RELEASE
7427:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getWarnRange&apos;&quot;, NULL);
7428: #endif
7429:   {
7430:     int tolua_ret = (  int)  self-&gt;bt_getWarnRange();
7431:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
7432:   }
7433:  }
7434:  return 1;
7435: #ifndef TOLUA_RELEASE
7436:  tolua_lerror:
7437:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getWarnRange&apos;.&quot;,&amp;tolua_err);
7438:  return 0;
7439: #endif
7440: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="7462" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 7459 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_is_in_war00 ( lua_State * tolua_S )" content="7452:  )
7453:   goto tolua_lerror;
7454:  else
7455: #endif
7456:  {
7457:   const BaseMonster* self = (const BaseMonster*)  tolua_tousertype(tolua_S,1,0);
7458: #ifndef TOLUA_RELEASE
7459:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_is_in_war&apos;&quot;, NULL);
7460: #endif
7461:   {
7462:    bool tolua_ret = (bool)  self-&gt;bt_is_in_war();
7463:    tolua_pushboolean(tolua_S,(bool)tolua_ret);
7464:   }
7465:  }
7466:  return 1;
7467: #ifndef TOLUA_RELEASE
7468:  tolua_lerror:
7469:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_is_in_war&apos;.&quot;,&amp;tolua_err);
7470:  return 0;
7471: #endif
7472: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="7496" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 7493 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_is_skill_not_cd00 ( lua_State * tolua_S )" content="7486:   goto tolua_lerror;
7487:  else
7488: #endif
7489:  {
7490:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
7491:    int skill_id = ((  int)  tolua_tonumber(tolua_S,2,0));
7492: #ifndef TOLUA_RELEASE
7493:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_is_skill_not_cd&apos;&quot;, NULL);
7494: #endif
7495:   {
7496:    bool tolua_ret = (bool)  self-&gt;bt_is_skill_not_cd(skill_id);
7497:    tolua_pushboolean(tolua_S,(bool)tolua_ret);
7498:   }
7499:  }
7500:  return 1;
7501: #ifndef TOLUA_RELEASE
7502:  tolua_lerror:
7503:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_is_skill_not_cd&apos;.&quot;,&amp;tolua_err);
7504:  return 0;
7505: #endif
7506: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="7528" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 7525 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_clear_hate_list00 ( lua_State * tolua_S )" content="7518:  )
7519:   goto tolua_lerror;
7520:  else
7521: #endif
7522:  {
7523:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
7524: #ifndef TOLUA_RELEASE
7525:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_clear_hate_list&apos;&quot;, NULL);
7526: #endif
7527:   {
7528:    self-&gt;bt_clear_hate_list();
7529:   }
7530:  }
7531:  return 0;
7532: #ifndef TOLUA_RELEASE
7533:  tolua_lerror:
7534:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_clear_hate_list&apos;.&quot;,&amp;tolua_err);
7535:  return 0;
7536: #endif
7537: }
7538: #endif //#ifndef TOLUA_DISABLE
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="7559" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 7556 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_reset_TopHatredSid00 ( lua_State * tolua_S )" content="7549:  )
7550:   goto tolua_lerror;
7551:  else
7552: #endif
7553:  {
7554:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
7555: #ifndef TOLUA_RELEASE
7556:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_reset_TopHatredSid&apos;&quot;, NULL);
7557: #endif
7558:   {
7559:    self-&gt;bt_reset_TopHatredSid();
7560:   }
7561:  }
7562:  return 0;
7563: #ifndef TOLUA_RELEASE
7564:  tolua_lerror:
7565:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_reset_TopHatredSid&apos;.&quot;,&amp;tolua_err);
7566:  return 0;
7567: #endif
7568: }
7569: #endif //#ifndef TOLUA_DISABLE
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="7590" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 7587 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_get_self00 ( lua_State * tolua_S )" content="7580:  )
7581:   goto tolua_lerror;
7582:  else
7583: #endif
7584:  {
7585:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
7586: #ifndef TOLUA_RELEASE
7587:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_get_self&apos;&quot;, NULL);
7588: #endif
7589:   {
7590:     int tolua_ret = (  int)  self-&gt;bt_get_self();
7591:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
7592:   }
7593:  }
7594:  return 1;
7595: #ifndef TOLUA_RELEASE
7596:  tolua_lerror:
7597:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_get_self&apos;.&quot;,&amp;tolua_err);
7598:  return 0;
7599: #endif
7600: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="7622" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 7619 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_get_name_id00 ( lua_State * tolua_S )" content="7612:  )
7613:   goto tolua_lerror;
7614:  else
7615: #endif
7616:  {
7617:   const BaseMonster* self = (const BaseMonster*)  tolua_tousertype(tolua_S,1,0);
7618: #ifndef TOLUA_RELEASE
7619:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_get_name_id&apos;&quot;, NULL);
7620: #endif
7621:   {
7622:     int tolua_ret = (  int)  self-&gt;bt_get_name_id();
7623:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
7624:   }
7625:  }
7626:  return 1;
7627: #ifndef TOLUA_RELEASE
7628:  tolua_lerror:
7629:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_get_name_id&apos;.&quot;,&amp;tolua_err);
7630:  return 0;
7631: #endif
7632: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="7654" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 7651 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_get_monster_invasion_id00 ( lua_State * tolua_S )" content="7644:  )
7645:   goto tolua_lerror;
7646:  else
7647: #endif
7648:  {
7649:   const BaseMonster* self = (const BaseMonster*)  tolua_tousertype(tolua_S,1,0);
7650: #ifndef TOLUA_RELEASE
7651:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_get_monster_invasion_id&apos;&quot;, NULL);
7652: #endif
7653:   {
7654:     int tolua_ret = (  int)  self-&gt;bt_get_monster_invasion_id();
7655:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
7656:   }
7657:  }
7658:  return 1;
7659: #ifndef TOLUA_RELEASE
7660:  tolua_lerror:
7661:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_get_monster_invasion_id&apos;.&quot;,&amp;tolua_err);
7662:  return 0;
7663: #endif
7664: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="768" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 765 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_isDead00 ( lua_State * tolua_S )" content="758:  )
759:   goto tolua_lerror;
760:  else
761: #endif
762:  {
763:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
764: #ifndef TOLUA_RELEASE
765:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_isDead&apos;&quot;, NULL);
766: #endif
767:   {
768:    bool tolua_ret = (bool)  self-&gt;bt_isDead();
769:    tolua_pushboolean(tolua_S,(bool)tolua_ret);
770:   }
771:  }
772:  return 1;
773: #ifndef TOLUA_RELEASE
774:  tolua_lerror:
775:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_isDead&apos;.&quot;,&amp;tolua_err);
776:  return 0;
777: #endif
778: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="7686" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 7683 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_get_monster_invasion_pos00 ( lua_State * tolua_S )" content="7676:  )
7677:   goto tolua_lerror;
7678:  else
7679: #endif
7680:  {
7681:   const BaseMonster* self = (const BaseMonster*)  tolua_tousertype(tolua_S,1,0);
7682: #ifndef TOLUA_RELEASE
7683:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_get_monster_invasion_pos&apos;&quot;, NULL);
7684: #endif
7685:   {
7686:    bt_location tolua_ret = (bt_location)  self-&gt;bt_get_monster_invasion_pos();
7687:    {
7688: #ifdef __cplusplus
7689:     void* tolua_obj = Mtolua_new((bt_location)(tolua_ret));
7690:      tolua_pushusertype(tolua_S,tolua_obj,&quot;bt_location&quot;);
7691:     tolua_register_gc(tolua_S,lua_gettop(tolua_S));
7692: #else
7693:     void* tolua_obj = tolua_copy(tolua_S,(void*)&amp;tolua_ret,sizeof(bt_location));
7694:      tolua_pushusertype(tolua_S,tolua_obj,&quot;bt_location&quot;);
7695:     tolua_register_gc(tolua_S,lua_gettop(tolua_S));
7696: #endif
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="7728" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 7725 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_get_monster_status00 ( lua_State * tolua_S )" content="7718:  )
7719:   goto tolua_lerror;
7720:  else
7721: #endif
7722:  {
7723:   const BaseMonster* self = (const BaseMonster*)  tolua_tousertype(tolua_S,1,0);
7724: #ifndef TOLUA_RELEASE
7725:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_get_monster_status&apos;&quot;, NULL);
7726: #endif
7727:   {
7728:     int tolua_ret = (  int)  self-&gt;bt_get_monster_status();
7729:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
7730:   }
7731:  }
7732:  return 1;
7733: #ifndef TOLUA_RELEASE
7734:  tolua_lerror:
7735:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_get_monster_status&apos;.&quot;,&amp;tolua_err);
7736:  return 0;
7737: #endif
7738: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="7762" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 7759 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_occupy_campsite00 ( lua_State * tolua_S )" content="7752:   goto tolua_lerror;
7753:  else
7754: #endif
7755:  {
7756:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
7757:    int obj_id = ((  int)  tolua_tonumber(tolua_S,2,0));
7758: #ifndef TOLUA_RELEASE
7759:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_occupy_campsite&apos;&quot;, NULL);
7760: #endif
7761:   {
7762:     int tolua_ret = (  int)  self-&gt;bt_occupy_campsite(obj_id);
7763:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
7764:   }
7765:  }
7766:  return 1;
7767: #ifndef TOLUA_RELEASE
7768:  tolua_lerror:
7769:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_occupy_campsite&apos;.&quot;,&amp;tolua_err);
7770:  return 0;
7771: #endif
7772: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="7794" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 7791 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_get_nearest_campsite_enemy_occupier00 ( lua_State * tolua_S )" content="7784:  )
7785:   goto tolua_lerror;
7786:  else
7787: #endif
7788:  {
7789:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
7790: #ifndef TOLUA_RELEASE
7791:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_get_nearest_campsite_enemy_occupier&apos;&quot;, NULL);
7792: #endif
7793:   {
7794:     int tolua_ret = (  int)  self-&gt;bt_get_nearest_campsite_enemy_occupier();
7795:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
7796:   }
7797:  }
7798:  return 1;
7799: #ifndef TOLUA_RELEASE
7800:  tolua_lerror:
7801:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_get_nearest_campsite_enemy_occupier&apos;.&quot;,&amp;tolua_err);
7802:  return 0;
7803: #endif
7804: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="7826" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 7823 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_is_target_campsite_self_faction00 ( lua_State * tolua_S )" content="7816:  )
7817:   goto tolua_lerror;
7818:  else
7819: #endif
7820:  {
7821:   const BaseMonster* self = (const BaseMonster*)  tolua_tousertype(tolua_S,1,0);
7822: #ifndef TOLUA_RELEASE
7823:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_is_target_campsite_self_faction&apos;&quot;, NULL);
7824: #endif
7825:   {
7826:    bool tolua_ret = (bool)  self-&gt;bt_is_target_campsite_self_faction();
7827:    tolua_pushboolean(tolua_S,(bool)tolua_ret);
7828:   }
7829:  }
7830:  return 1;
7831: #ifndef TOLUA_RELEASE
7832:  tolua_lerror:
7833:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_is_target_campsite_self_faction&apos;.&quot;,&amp;tolua_err);
7834:  return 0;
7835: #endif
7836: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="7860" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 7857 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_set_init_pos00 ( lua_State * tolua_S )" content="7850:   goto tolua_lerror;
7851:  else
7852: #endif
7853:  {
7854:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
7855:   const bt_location* pos = ((const bt_location*)  tolua_tousertype(tolua_S,2,0));
7856: #ifndef TOLUA_RELEASE
7857:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_set_init_pos&apos;&quot;, NULL);
7858: #endif
7859:   {
7860:    self-&gt;bt_set_init_pos(*pos);
7861:   }
7862:  }
7863:  return 0;
7864: #ifndef TOLUA_RELEASE
7865:  tolua_lerror:
7866:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_set_init_pos&apos;.&quot;,&amp;tolua_err);
7867:  return 0;
7868: #endif
7869: }
7870: #endif //#ifndef TOLUA_DISABLE
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="7891" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 7888 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_get_ClosestFriend00 ( lua_State * tolua_S )" content="7881:  )
7882:   goto tolua_lerror;
7883:  else
7884: #endif
7885:  {
7886:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
7887: #ifndef TOLUA_RELEASE
7888:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_get_ClosestFriend&apos;&quot;, NULL);
7889: #endif
7890:   {
7891:     int tolua_ret = (  int)  self-&gt;bt_get_ClosestFriend();
7892:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
7893:   }
7894:  }
7895:  return 1;
7896: #ifndef TOLUA_RELEASE
7897:  tolua_lerror:
7898:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_get_ClosestFriend&apos;.&quot;,&amp;tolua_err);
7899:  return 0;
7900: #endif
7901: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="7925" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 7922 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_WarningTips00 ( lua_State * tolua_S )" content="7915:   goto tolua_lerror;
7916:  else
7917: #endif
7918:  {
7919:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
7920:    int tipsId = ((  int)  tolua_tonumber(tolua_S,2,0));
7921: #ifndef TOLUA_RELEASE
7922:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_WarningTips&apos;&quot;, NULL);
7923: #endif
7924:   {
7925:    self-&gt;bt_WarningTips(tipsId);
7926:   }
7927:  }
7928:  return 0;
7929: #ifndef TOLUA_RELEASE
7930:  tolua_lerror:
7931:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_WarningTips&apos;.&quot;,&amp;tolua_err);
7932:  return 0;
7933: #endif
7934: }
7935: #endif //#ifndef TOLUA_DISABLE
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="7956" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 7953 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getCrystal00 ( lua_State * tolua_S )" content="7946:  )
7947:   goto tolua_lerror;
7948:  else
7949: #endif
7950:  {
7951:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
7952: #ifndef TOLUA_RELEASE
7953:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getCrystal&apos;&quot;, NULL);
7954: #endif
7955:   {
7956:     int tolua_ret = (  int)  self-&gt;bt_getCrystal();
7957:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
7958:   }
7959:  }
7960:  return 1;
7961: #ifndef TOLUA_RELEASE
7962:  tolua_lerror:
7963:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getCrystal&apos;.&quot;,&amp;tolua_err);
7964:  return 0;
7965: #endif
7966: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="7988" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 7985 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getBattlePhase00 ( lua_State * tolua_S )" content="7978:  )
7979:   goto tolua_lerror;
7980:  else
7981: #endif
7982:  {
7983:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
7984: #ifndef TOLUA_RELEASE
7985:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getBattlePhase&apos;&quot;, NULL);
7986: #endif
7987:   {
7988:     int tolua_ret = (  int)  self-&gt;bt_getBattlePhase();
7989:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
7990:   }
7991:  }
7992:  return 1;
7993: #ifndef TOLUA_RELEASE
7994:  tolua_lerror:
7995:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getBattlePhase&apos;.&quot;,&amp;tolua_err);
7996:  return 0;
7997: #endif
7998: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="800" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 797 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_returnInitPos00 ( lua_State * tolua_S )" content="790:  )
791:   goto tolua_lerror;
792:  else
793: #endif
794:  {
795:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
796: #ifndef TOLUA_RELEASE
797:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_returnInitPos&apos;&quot;, NULL);
798: #endif
799:   {
800:    self-&gt;bt_returnInitPos();
801:   }
802:  }
803:  return 0;
804: #ifndef TOLUA_RELEASE
805:  tolua_lerror:
806:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_returnInitPos&apos;.&quot;,&amp;tolua_err);
807:  return 0;
808: #endif
809: }
810: #endif //#ifndef TOLUA_DISABLE
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="8022" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 8019 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_setBattlePhase00 ( lua_State * tolua_S )" content="8012:   goto tolua_lerror;
8013:  else
8014: #endif
8015:  {
8016:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
8017:    int phase = ((  int)  tolua_tonumber(tolua_S,2,0));
8018: #ifndef TOLUA_RELEASE
8019:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_setBattlePhase&apos;&quot;, NULL);
8020: #endif
8021:   {
8022:    self-&gt;bt_setBattlePhase(phase);
8023:   }
8024:  }
8025:  return 0;
8026: #ifndef TOLUA_RELEASE
8027:  tolua_lerror:
8028:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_setBattlePhase&apos;.&quot;,&amp;tolua_err);
8029:  return 0;
8030: #endif
8031: }
8032: #endif //#ifndef TOLUA_DISABLE
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="8055" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 8052 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_changeMode00 ( lua_State * tolua_S )" content="8045:   goto tolua_lerror;
8046:  else
8047: #endif
8048:  {
8049:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
8050:    int monster_id = ((  int)  tolua_tonumber(tolua_S,2,0));
8051: #ifndef TOLUA_RELEASE
8052:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_changeMode&apos;&quot;, NULL);
8053: #endif
8054:   {
8055:    self-&gt;bt_changeMode(monster_id);
8056:   }
8057:  }
8058:  return 0;
8059: #ifndef TOLUA_RELEASE
8060:  tolua_lerror:
8061:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_changeMode&apos;.&quot;,&amp;tolua_err);
8062:  return 0;
8063: #endif
8064: }
8065: #endif //#ifndef TOLUA_DISABLE
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="8090" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 8087 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getObjInBuff00 ( lua_State * tolua_S )" content="8080:  else
8081: #endif
8082:  {
8083:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
8084:    int buff_id = ((  int)  tolua_tonumber(tolua_S,2,0));
8085:    int num = ((  int)  tolua_tonumber(tolua_S,3,0));
8086: #ifndef TOLUA_RELEASE
8087:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getObjInBuff&apos;&quot;, NULL);
8088: #endif
8089:   {
8090:     int tolua_ret = (  int)  self-&gt;bt_getObjInBuff(buff_id,num);
8091:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
8092:   }
8093:  }
8094:  return 1;
8095: #ifndef TOLUA_RELEASE
8096:  tolua_lerror:
8097:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getObjInBuff&apos;.&quot;,&amp;tolua_err);
8098:  return 0;
8099: #endif
8100: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="8122" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 8119 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getScene00 ( lua_State * tolua_S )" content="8112:  )
8113:   goto tolua_lerror;
8114:  else
8115: #endif
8116:  {
8117:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
8118: #ifndef TOLUA_RELEASE
8119:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getScene&apos;&quot;, NULL);
8120: #endif
8121:   {
8122:     int tolua_ret = (  int)  self-&gt;bt_getScene();
8123:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
8124:   }
8125:  }
8126:  return 1;
8127: #ifndef TOLUA_RELEASE
8128:  tolua_lerror:
8129:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getScene&apos;.&quot;,&amp;tolua_err);
8130:  return 0;
8131: #endif
8132: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="8154" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 8151 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getFaction00 ( lua_State * tolua_S )" content="8144:  )
8145:   goto tolua_lerror;
8146:  else
8147: #endif
8148:  {
8149:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
8150: #ifndef TOLUA_RELEASE
8151:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getFaction&apos;&quot;, NULL);
8152: #endif
8153:   {
8154:     int tolua_ret = (  int)  self-&gt;bt_getFaction();
8155:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
8156:   }
8157:  }
8158:  return 1;
8159: #ifndef TOLUA_RELEASE
8160:  tolua_lerror:
8161:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getFaction&apos;.&quot;,&amp;tolua_err);
8162:  return 0;
8163: #endif
8164: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="8186" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 8183 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getEnemy00 ( lua_State * tolua_S )" content="8176:  )
8177:   goto tolua_lerror;
8178:  else
8179: #endif
8180:  {
8181:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
8182: #ifndef TOLUA_RELEASE
8183:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getEnemy&apos;&quot;, NULL);
8184: #endif
8185:   {
8186:     int tolua_ret = (  int)  self-&gt;bt_getEnemy();
8187:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
8188:   }
8189:  }
8190:  return 1;
8191: #ifndef TOLUA_RELEASE
8192:  tolua_lerror:
8193:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getEnemy&apos;.&quot;,&amp;tolua_err);
8194:  return 0;
8195: #endif
8196: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="8220" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 8217 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getTopHatredSid00 ( lua_State * tolua_S )" content="8210:   goto tolua_lerror;
8211:  else
8212: #endif
8213:  {
8214:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
8215:    int index = ((  int)  tolua_tonumber(tolua_S,2,0));
8216: #ifndef TOLUA_RELEASE
8217:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getTopHatredSid&apos;&quot;, NULL);
8218: #endif
8219:   {
8220:     int tolua_ret = (  int)  self-&gt;bt_getTopHatredSid(index);
8221:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
8222:   }
8223:  }
8224:  return 1;
8225: #ifndef TOLUA_RELEASE
8226:  tolua_lerror:
8227:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getTopHatredSid&apos;.&quot;,&amp;tolua_err);
8228:  return 0;
8229: #endif
8230: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="8252" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 8249 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getHatredSize00 ( lua_State * tolua_S )" content="8242:  )
8243:   goto tolua_lerror;
8244:  else
8245: #endif
8246:  {
8247:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
8248: #ifndef TOLUA_RELEASE
8249:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getHatredSize&apos;&quot;, NULL);
8250: #endif
8251:   {
8252:     int tolua_ret = (  int)  self-&gt;bt_getHatredSize();
8253:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
8254:   }
8255:  }
8256:  return 1;
8257: #ifndef TOLUA_RELEASE
8258:  tolua_lerror:
8259:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getHatredSize&apos;.&quot;,&amp;tolua_err);
8260:  return 0;
8261: #endif
8262: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="8284" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 8281 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getTauntSid00 ( lua_State * tolua_S )" content="8274:  )
8275:   goto tolua_lerror;
8276:  else
8277: #endif
8278:  {
8279:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
8280: #ifndef TOLUA_RELEASE
8281:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getTauntSid&apos;&quot;, NULL);
8282: #endif
8283:   {
8284:     int tolua_ret = (  int)  self-&gt;bt_getTauntSid();
8285:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
8286:   }
8287:  }
8288:  return 1;
8289: #ifndef TOLUA_RELEASE
8290:  tolua_lerror:
8291:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getTauntSid&apos;.&quot;,&amp;tolua_err);
8292:  return 0;
8293: #endif
8294: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="83" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 81 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_get_bt_location_layer ( lua_State * tolua_S )" content="73: }
74: 
75: /* get function: layer of class  bt_location */
76: #ifndef TOLUA_DISABLE_tolua_get_bt_location_layer
77: static int tolua_get_bt_location_layer(lua_State* tolua_S)
78: {
79:   bt_location* self = (bt_location*)  tolua_tousertype(tolua_S,1,0);
80: #ifndef TOLUA_RELEASE
81:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in accessing variable &apos;layer&apos;&quot;,NULL);
82: #endif
83:   tolua_pushnumber(tolua_S,(lua_Number)self-&gt;layer);
84:  return 1;
85: }
86: #endif //#ifndef TOLUA_DISABLE
87: 
88: /* set function: layer of class  bt_location */
89: #ifndef TOLUA_DISABLE_tolua_set_bt_location_layer
90: static int tolua_set_bt_location_layer(lua_State* tolua_S)
91: {
92:   bt_location* self = (bt_location*)  tolua_tousertype(tolua_S,1,0);
93: #ifndef TOLUA_RELEASE
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="8316" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 8313 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getLord00 ( lua_State * tolua_S )" content="8306:  )
8307:   goto tolua_lerror;
8308:  else
8309: #endif
8310:  {
8311:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
8312: #ifndef TOLUA_RELEASE
8313:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getLord&apos;&quot;, NULL);
8314: #endif
8315:   {
8316:     int tolua_ret = (  int)  self-&gt;bt_getLord();
8317:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
8318:   }
8319:  }
8320:  return 1;
8321: #ifndef TOLUA_RELEASE
8322:  tolua_lerror:
8323:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getLord&apos;.&quot;,&amp;tolua_err);
8324:  return 0;
8325: #endif
8326: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="833" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 830 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_set_init_pos00 ( lua_State * tolua_S )" content="823:   goto tolua_lerror;
824:  else
825: #endif
826:  {
827:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
828:   const bt_location* pos = ((const bt_location*)  tolua_tousertype(tolua_S,2,0));
829: #ifndef TOLUA_RELEASE
830:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_set_init_pos&apos;&quot;, NULL);
831: #endif
832:   {
833:    self-&gt;bt_set_init_pos(*pos);
834:   }
835:  }
836:  return 0;
837: #ifndef TOLUA_RELEASE
838:  tolua_lerror:
839:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_set_init_pos&apos;.&quot;,&amp;tolua_err);
840:  return 0;
841: #endif
842: }
843: #endif //#ifndef TOLUA_DISABLE
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="8350" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 8347 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getLordTopHatredSid00 ( lua_State * tolua_S )" content="8340:   goto tolua_lerror;
8341:  else
8342: #endif
8343:  {
8344:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
8345:    int num = ((  int)  tolua_tonumber(tolua_S,2,0));
8346: #ifndef TOLUA_RELEASE
8347:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getLordTopHatredSid&apos;&quot;, NULL);
8348: #endif
8349:   {
8350:     int tolua_ret = (  int)  self-&gt;bt_getLordTopHatredSid(num);
8351:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
8352:   }
8353:  }
8354:  return 1;
8355: #ifndef TOLUA_RELEASE
8356:  tolua_lerror:
8357:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getLordTopHatredSid&apos;.&quot;,&amp;tolua_err);
8358:  return 0;
8359: #endif
8360: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="8382" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 8379 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getLordLastSkillTarget00 ( lua_State * tolua_S )" content="8372:  )
8373:   goto tolua_lerror;
8374:  else
8375: #endif
8376:  {
8377:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
8378: #ifndef TOLUA_RELEASE
8379:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getLordLastSkillTarget&apos;&quot;, NULL);
8380: #endif
8381:   {
8382:     int tolua_ret = (  int)  self-&gt;bt_getLordLastSkillTarget();
8383:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
8384:   }
8385:  }
8386:  return 1;
8387: #ifndef TOLUA_RELEASE
8388:  tolua_lerror:
8389:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getLordLastSkillTarget&apos;.&quot;,&amp;tolua_err);
8390:  return 0;
8391: #endif
8392: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="8414" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 8411 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getLordAttacker00 ( lua_State * tolua_S )" content="8404:  )
8405:   goto tolua_lerror;
8406:  else
8407: #endif
8408:  {
8409:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
8410: #ifndef TOLUA_RELEASE
8411:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getLordAttacker&apos;&quot;, NULL);
8412: #endif
8413:   {
8414:     int tolua_ret = (  int)  self-&gt;bt_getLordAttacker();
8415:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
8416:   }
8417:  }
8418:  return 1;
8419: #ifndef TOLUA_RELEASE
8420:  tolua_lerror:
8421:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getLordAttacker&apos;.&quot;,&amp;tolua_err);
8422:  return 0;
8423: #endif
8424: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="8446" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 8443 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getCatchRange00 ( lua_State * tolua_S )" content="8436:  )
8437:   goto tolua_lerror;
8438:  else
8439: #endif
8440:  {
8441:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
8442: #ifndef TOLUA_RELEASE
8443:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getCatchRange&apos;&quot;, NULL);
8444: #endif
8445:   {
8446:     int tolua_ret = (  int)  self-&gt;bt_getCatchRange();
8447:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
8448:   }
8449:  }
8450:  return 1;
8451: #ifndef TOLUA_RELEASE
8452:  tolua_lerror:
8453:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getCatchRange&apos;.&quot;,&amp;tolua_err);
8454:  return 0;
8455: #endif
8456: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="8478" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 8475 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getJumpRange00 ( lua_State * tolua_S )" content="8468:  )
8469:   goto tolua_lerror;
8470:  else
8471: #endif
8472:  {
8473:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
8474: #ifndef TOLUA_RELEASE
8475:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getJumpRange&apos;&quot;, NULL);
8476: #endif
8477:   {
8478:     int tolua_ret = (  int)  self-&gt;bt_getJumpRange();
8479:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
8480:   }
8481:  }
8482:  return 1;
8483: #ifndef TOLUA_RELEASE
8484:  tolua_lerror:
8485:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getJumpRange&apos;.&quot;,&amp;tolua_err);
8486:  return 0;
8487: #endif
8488: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="8510" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 8507 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_JumpToLord00 ( lua_State * tolua_S )" content="8500:  )
8501:   goto tolua_lerror;
8502:  else
8503: #endif
8504:  {
8505:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
8506: #ifndef TOLUA_RELEASE
8507:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_JumpToLord&apos;&quot;, NULL);
8508: #endif
8509:   {
8510:     int tolua_ret = (  int)  self-&gt;bt_JumpToLord();
8511:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
8512:   }
8513:  }
8514:  return 1;
8515: #ifndef TOLUA_RELEASE
8516:  tolua_lerror:
8517:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_JumpToLord&apos;.&quot;,&amp;tolua_err);
8518:  return 0;
8519: #endif
8520: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="8542" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 8539 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getCharacter00 ( lua_State * tolua_S )" content="8532:  )
8533:   goto tolua_lerror;
8534:  else
8535: #endif
8536:  {
8537:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
8538: #ifndef TOLUA_RELEASE
8539:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getCharacter&apos;&quot;, NULL);
8540: #endif
8541:   {
8542:     int tolua_ret = (  int)  self-&gt;bt_getCharacter();
8543:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
8544:   }
8545:  }
8546:  return 1;
8547: #ifndef TOLUA_RELEASE
8548:  tolua_lerror:
8549:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getCharacter&apos;.&quot;,&amp;tolua_err);
8550:  return 0;
8551: #endif
8552: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="8574" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 8571 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getPetId00 ( lua_State * tolua_S )" content="8564:  )
8565:   goto tolua_lerror;
8566:  else
8567: #endif
8568:  {
8569:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
8570: #ifndef TOLUA_RELEASE
8571:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getPetId&apos;&quot;, NULL);
8572: #endif
8573:   {
8574:     int tolua_ret = (  int)  self-&gt;bt_getPetId();
8575:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
8576:   }
8577:  }
8578:  return 1;
8579: #ifndef TOLUA_RELEASE
8580:  tolua_lerror:
8581:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getPetId&apos;.&quot;,&amp;tolua_err);
8582:  return 0;
8583: #endif
8584: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="8606" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 8603 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getCanUseSkill00 ( lua_State * tolua_S )" content="8596:  )
8597:   goto tolua_lerror;
8598:  else
8599: #endif
8600:  {
8601:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
8602: #ifndef TOLUA_RELEASE
8603:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getCanUseSkill&apos;&quot;, NULL);
8604: #endif
8605:   {
8606:    behaviac::vector&lt;int32_t&gt; tolua_ret = (behaviac::vector&lt;int32_t&gt;)  self-&gt;bt_getCanUseSkill();
8607:    {
8608: #ifdef __cplusplus
8609:     void* tolua_obj = Mtolua_new((behaviac::vector&lt;int32_t&gt;)(tolua_ret));
8610:      tolua_pushusertype(tolua_S,tolua_obj,&quot;behaviac::vector&lt;int32_t&gt;&quot;);
8611:     tolua_register_gc(tolua_S,lua_gettop(tolua_S));
8612: #else
8613:     void* tolua_obj = tolua_copy(tolua_S,(void*)&amp;tolua_ret,sizeof(behaviac::vector&lt;int32_t&gt;));
8614:      tolua_pushusertype(tolua_S,tolua_obj,&quot;behaviac::vector&lt;int32_t&gt;&quot;);
8615:     tolua_register_gc(tolua_S,lua_gettop(tolua_S));
8616: #endif
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="8650" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 8647 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getClosestPlayer00 ( lua_State * tolua_S )" content="8640:   goto tolua_lerror;
8641:  else
8642: #endif
8643:  {
8644:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
8645:    int n = ((  int)  tolua_tonumber(tolua_S,2,0));
8646: #ifndef TOLUA_RELEASE
8647:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getClosestPlayer&apos;&quot;, NULL);
8648: #endif
8649:   {
8650:     int tolua_ret = (  int)  self-&gt;bt_getClosestPlayer(n);
8651:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
8652:   }
8653:  }
8654:  return 1;
8655: #ifndef TOLUA_RELEASE
8656:  tolua_lerror:
8657:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getClosestPlayer&apos;.&quot;,&amp;tolua_err);
8658:  return 0;
8659: #endif
8660: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="868" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 865 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_set_cur_pos00 ( lua_State * tolua_S )" content="858:  else
859: #endif
860:  {
861:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
862:   const bt_location* pos = ((const bt_location*)  tolua_tousertype(tolua_S,2,0));
863:   bool need_notify = ((bool)  tolua_toboolean(tolua_S,3,0));
864: #ifndef TOLUA_RELEASE
865:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_set_cur_pos&apos;&quot;, NULL);
866: #endif
867:   {
868:    self-&gt;bt_set_cur_pos(*pos,need_notify);
869:   }
870:  }
871:  return 0;
872: #ifndef TOLUA_RELEASE
873:  tolua_lerror:
874:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_set_cur_pos&apos;.&quot;,&amp;tolua_err);
875:  return 0;
876: #endif
877: }
878: #endif //#ifndef TOLUA_DISABLE
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="8684" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 8681 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getDateTime00 ( lua_State * tolua_S )" content="8674:   goto tolua_lerror;
8675:  else
8676: #endif
8677:  {
8678:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
8679:    int n = ((  int)  tolua_tonumber(tolua_S,2,0));
8680: #ifndef TOLUA_RELEASE
8681:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getDateTime&apos;&quot;, NULL);
8682: #endif
8683:   {
8684:     int tolua_ret = (  int)  self-&gt;bt_getDateTime(n);
8685:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
8686:   }
8687:  }
8688:  return 1;
8689: #ifndef TOLUA_RELEASE
8690:  tolua_lerror:
8691:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getDateTime&apos;.&quot;,&amp;tolua_err);
8692:  return 0;
8693: #endif
8694: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="8718" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 8715 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getTalkTime00 ( lua_State * tolua_S )" content="8708:   goto tolua_lerror;
8709:  else
8710: #endif
8711:  {
8712:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
8713:    int talkid = ((  int)  tolua_tonumber(tolua_S,2,0));
8714: #ifndef TOLUA_RELEASE
8715:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getTalkTime&apos;&quot;, NULL);
8716: #endif
8717:   {
8718:    float tolua_ret = (float)  self-&gt;bt_getTalkTime(talkid);
8719:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
8720:   }
8721:  }
8722:  return 1;
8723: #ifndef TOLUA_RELEASE
8724:  tolua_lerror:
8725:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getTalkTime&apos;.&quot;,&amp;tolua_err);
8726:  return 0;
8727: #endif
8728: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="8754" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 8751 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getUnitNum00 ( lua_State * tolua_S )" content="8744:  else
8745: #endif
8746:  {
8747:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
8748:   bt_location pos = *((bt_location*)  tolua_tousertype(tolua_S,2,0));
8749:    int distance = ((  int)  tolua_tonumber(tolua_S,3,0));
8750: #ifndef TOLUA_RELEASE
8751:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getUnitNum&apos;&quot;, NULL);
8752: #endif
8753:   {
8754:     int tolua_ret = (  int)  self-&gt;bt_getUnitNum(pos,distance);
8755:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
8756:   }
8757:  }
8758:  return 1;
8759: #ifndef TOLUA_RELEASE
8760:  tolua_lerror:
8761:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getUnitNum&apos;.&quot;,&amp;tolua_err);
8762:  return 0;
8763: #endif
8764: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="8786" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 8783 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getTalkState00 ( lua_State * tolua_S )" content="8776:  )
8777:   goto tolua_lerror;
8778:  else
8779: #endif
8780:  {
8781:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
8782: #ifndef TOLUA_RELEASE
8783:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getTalkState&apos;&quot;, NULL);
8784: #endif
8785:   {
8786:     int tolua_ret = (  int)  self-&gt;bt_getTalkState();
8787:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
8788:   }
8789:  }
8790:  return 1;
8791: #ifndef TOLUA_RELEASE
8792:  tolua_lerror:
8793:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getTalkState&apos;.&quot;,&amp;tolua_err);
8794:  return 0;
8795: #endif
8796: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="8820" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 8817 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_DoAction00 ( lua_State * tolua_S )" content="8810:   goto tolua_lerror;
8811:  else
8812: #endif
8813:  {
8814:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
8815:    int action_no = ((  int)  tolua_tonumber(tolua_S,2,0));
8816: #ifndef TOLUA_RELEASE
8817:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_DoAction&apos;&quot;, NULL);
8818: #endif
8819:   {
8820:     int tolua_ret = (  int)  self-&gt;bt_DoAction(action_no);
8821:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
8822:   }
8823:  }
8824:  return 1;
8825: #ifndef TOLUA_RELEASE
8826:  tolua_lerror:
8827:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_DoAction&apos;.&quot;,&amp;tolua_err);
8828:  return 0;
8829: #endif
8830: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="8854" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 8851 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_DoTimeLine00 ( lua_State * tolua_S )" content="8844:   goto tolua_lerror;
8845:  else
8846: #endif
8847:  {
8848:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
8849:    int timeLineId = ((  int)  tolua_tonumber(tolua_S,2,0));
8850: #ifndef TOLUA_RELEASE
8851:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_DoTimeLine&apos;&quot;, NULL);
8852: #endif
8853:   {
8854:     int tolua_ret = (  int)  self-&gt;bt_DoTimeLine(timeLineId);
8855:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
8856:   }
8857:  }
8858:  return 1;
8859: #ifndef TOLUA_RELEASE
8860:  tolua_lerror:
8861:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_DoTimeLine&apos;.&quot;,&amp;tolua_err);
8862:  return 0;
8863: #endif
8864: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="8886" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 8883 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_closeTalkUI00 ( lua_State * tolua_S )" content="8876:  )
8877:   goto tolua_lerror;
8878:  else
8879: #endif
8880:  {
8881:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
8882: #ifndef TOLUA_RELEASE
8883:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_closeTalkUI&apos;&quot;, NULL);
8884: #endif
8885:   {
8886:    self-&gt;bt_closeTalkUI();
8887:   }
8888:  }
8889:  return 0;
8890: #ifndef TOLUA_RELEASE
8891:  tolua_lerror:
8892:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_closeTalkUI&apos;.&quot;,&amp;tolua_err);
8893:  return 0;
8894: #endif
8895: }
8896: #endif //#ifndef TOLUA_DISABLE
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="8919" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 8916 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getFriendliness00 ( lua_State * tolua_S )" content="8909:   goto tolua_lerror;
8910:  else
8911: #endif
8912:  {
8913:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
8914:    int target = ((  int)  tolua_tonumber(tolua_S,2,0));
8915: #ifndef TOLUA_RELEASE
8916:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getFriendliness&apos;&quot;, NULL);
8917: #endif
8918:   {
8919:     int tolua_ret = (  int)  self-&gt;bt_getFriendliness(target);
8920:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
8921:   }
8922:  }
8923:  return 1;
8924: #ifndef TOLUA_RELEASE
8925:  tolua_lerror:
8926:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getFriendliness&apos;.&quot;,&amp;tolua_err);
8927:  return 0;
8928: #endif
8929: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="8953" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 8950 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_setMonsterStopByAttack00 ( lua_State * tolua_S )" content="8943:   goto tolua_lerror;
8944:  else
8945: #endif
8946:  {
8947:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
8948:   bool stop_by_attack = ((bool)  tolua_toboolean(tolua_S,2,0));
8949: #ifndef TOLUA_RELEASE
8950:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_setMonsterStopByAttack&apos;&quot;, NULL);
8951: #endif
8952:   {
8953:    self-&gt;bt_setMonsterStopByAttack(stop_by_attack);
8954:   }
8955:  }
8956:  return 0;
8957: #ifndef TOLUA_RELEASE
8958:  tolua_lerror:
8959:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_setMonsterStopByAttack&apos;.&quot;,&amp;tolua_err);
8960:  return 0;
8961: #endif
8962: }
8963: #endif //#ifndef TOLUA_DISABLE
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="8986" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 8983 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getTargetFaction00 ( lua_State * tolua_S )" content="8976:   goto tolua_lerror;
8977:  else
8978: #endif
8979:  {
8980:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
8981:    int obj_id = ((  int)  tolua_tonumber(tolua_S,2,0));
8982: #ifndef TOLUA_RELEASE
8983:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getTargetFaction&apos;&quot;, NULL);
8984: #endif
8985:   {
8986:     int tolua_ret = (  int)  self-&gt;bt_getTargetFaction(obj_id);
8987:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
8988:   }
8989:  }
8990:  return 1;
8991: #ifndef TOLUA_RELEASE
8992:  tolua_lerror:
8993:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getTargetFaction&apos;.&quot;,&amp;tolua_err);
8994:  return 0;
8995: #endif
8996: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="899" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 896 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_isTeamLeader00 ( lua_State * tolua_S )" content="889:  )
890:   goto tolua_lerror;
891:  else
892: #endif
893:  {
894:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
895: #ifndef TOLUA_RELEASE
896:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_isTeamLeader&apos;&quot;, NULL);
897: #endif
898:   {
899:    bool tolua_ret = (bool)  self-&gt;bt_isTeamLeader();
900:    tolua_pushboolean(tolua_S,(bool)tolua_ret);
901:   }
902:  }
903:  return 1;
904: #ifndef TOLUA_RELEASE
905:  tolua_lerror:
906:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_isTeamLeader&apos;.&quot;,&amp;tolua_err);
907:  return 0;
908: #endif
909: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="9018" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 9015 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getCollisionBoss00 ( lua_State * tolua_S )" content="9008:  )
9009:   goto tolua_lerror;
9010:  else
9011: #endif
9012:  {
9013:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
9014: #ifndef TOLUA_RELEASE
9015:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getCollisionBoss&apos;&quot;, NULL);
9016: #endif
9017:   {
9018:     int tolua_ret = (  int)  self-&gt;bt_getCollisionBoss();
9019:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
9020:   }
9021:  }
9022:  return 1;
9023: #ifndef TOLUA_RELEASE
9024:  tolua_lerror:
9025:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getCollisionBoss&apos;.&quot;,&amp;tolua_err);
9026:  return 0;
9027: #endif
9028: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="9052" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 9049 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_removeSkill00 ( lua_State * tolua_S )" content="9042:   goto tolua_lerror;
9043:  else
9044: #endif
9045:  {
9046:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
9047:    int skillId = ((  int)  tolua_tonumber(tolua_S,2,0));
9048: #ifndef TOLUA_RELEASE
9049:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_removeSkill&apos;&quot;, NULL);
9050: #endif
9051:   {
9052:    self-&gt;bt_removeSkill(skillId);
9053:   }
9054:  }
9055:  return 0;
9056: #ifndef TOLUA_RELEASE
9057:  tolua_lerror:
9058:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_removeSkill&apos;.&quot;,&amp;tolua_err);
9059:  return 0;
9060: #endif
9061: }
9062: #endif //#ifndef TOLUA_DISABLE
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="9087" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 9084 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getObjByMonsterType00 ( lua_State * tolua_S )" content="9077:  else
9078: #endif
9079:  {
9080:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
9081:    int range = ((  int)  tolua_tonumber(tolua_S,2,0));
9082:    int type = ((  int)  tolua_tonumber(tolua_S,3,0));
9083: #ifndef TOLUA_RELEASE
9084:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getObjByMonsterType&apos;&quot;, NULL);
9085: #endif
9086:   {
9087:     int tolua_ret = (  int)  self-&gt;bt_getObjByMonsterType(range,type);
9088:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
9089:   }
9090:  }
9091:  return 1;
9092: #ifndef TOLUA_RELEASE
9093:  tolua_lerror:
9094:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getObjByMonsterType&apos;.&quot;,&amp;tolua_err);
9095:  return 0;
9096: #endif
9097: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="9119" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 9116 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getSpecialTarget00 ( lua_State * tolua_S )" content="9109:  )
9110:   goto tolua_lerror;
9111:  else
9112: #endif
9113:  {
9114:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
9115: #ifndef TOLUA_RELEASE
9116:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getSpecialTarget&apos;&quot;, NULL);
9117: #endif
9118:   {
9119:     int tolua_ret = (  int)  self-&gt;bt_getSpecialTarget();
9120:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
9121:   }
9122:  }
9123:  return 1;
9124: #ifndef TOLUA_RELEASE
9125:  tolua_lerror:
9126:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getSpecialTarget&apos;.&quot;,&amp;tolua_err);
9127:  return 0;
9128: #endif
9129: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="9153" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 9150 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getSkillAutoAttackTime00 ( lua_State * tolua_S )" content="9143:   goto tolua_lerror;
9144:  else
9145: #endif
9146:  {
9147:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
9148:    int skill_id = ((  int)  tolua_tonumber(tolua_S,2,0));
9149: #ifndef TOLUA_RELEASE
9150:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getSkillAutoAttackTime&apos;&quot;, NULL);
9151: #endif
9152:   {
9153:     int tolua_ret = (  int)  self-&gt;bt_getSkillAutoAttackTime(skill_id);
9154:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
9155:   }
9156:  }
9157:  return 1;
9158: #ifndef TOLUA_RELEASE
9159:  tolua_lerror:
9160:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getSkillAutoAttackTime&apos;.&quot;,&amp;tolua_err);
9161:  return 0;
9162: #endif
9163: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="9187" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 9184 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getObjLv00 ( lua_State * tolua_S )" content="9177:   goto tolua_lerror;
9178:  else
9179: #endif
9180:  {
9181:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
9182:    int id = ((  int)  tolua_tonumber(tolua_S,2,0));
9183: #ifndef TOLUA_RELEASE
9184:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getObjLv&apos;&quot;, NULL);
9185: #endif
9186:   {
9187:     int tolua_ret = (  int)  self-&gt;bt_getObjLv(id);
9188:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
9189:   }
9190:  }
9191:  return 1;
9192: #ifndef TOLUA_RELEASE
9193:  tolua_lerror:
9194:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getObjLv&apos;.&quot;,&amp;tolua_err);
9195:  return 0;
9196: #endif
9197: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="9221" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 9218 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getObjectType00 ( lua_State * tolua_S )" content="9211:   goto tolua_lerror;
9212:  else
9213: #endif
9214:  {
9215:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
9216:    int obj_id = ((  int)  tolua_tonumber(tolua_S,2,0));
9217: #ifndef TOLUA_RELEASE
9218:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getObjectType&apos;&quot;, NULL);
9219: #endif
9220:   {
9221:     int tolua_ret = (  int)  self-&gt;bt_getObjectType(obj_id);
9222:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
9223:   }
9224:  }
9225:  return 1;
9226: #ifndef TOLUA_RELEASE
9227:  tolua_lerror:
9228:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getObjectType&apos;.&quot;,&amp;tolua_err);
9229:  return 0;
9230: #endif
9231: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="9257" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 9254 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getMonsterTarget00 ( lua_State * tolua_S )" content="9247:  else
9248: #endif
9249:  {
9250:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
9251:    int monsterId = ((  int)  tolua_tonumber(tolua_S,2,0));
9252:    int num = ((  int)  tolua_tonumber(tolua_S,3,0));
9253: #ifndef TOLUA_RELEASE
9254:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getMonsterTarget&apos;&quot;, NULL);
9255: #endif
9256:   {
9257:     int tolua_ret = (  int)  self-&gt;bt_getMonsterTarget(monsterId,num);
9258:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
9259:   }
9260:  }
9261:  return 1;
9262: #ifndef TOLUA_RELEASE
9263:  tolua_lerror:
9264:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getMonsterTarget&apos;.&quot;,&amp;tolua_err);
9265:  return 0;
9266: #endif
9267: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="9289" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 9286 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_debugInfo00 ( lua_State * tolua_S )" content="9279:  )
9280:   goto tolua_lerror;
9281:  else
9282: #endif
9283:  {
9284:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
9285: #ifndef TOLUA_RELEASE
9286:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_debugInfo&apos;&quot;, NULL);
9287: #endif
9288:   {
9289:    std::string tolua_ret = (std::string)  self-&gt;bt_debugInfo();
9290:    tolua_pushcppstring(tolua_S,(const char*)tolua_ret);
9291:   }
9292:  }
9293:  return 1;
9294: #ifndef TOLUA_RELEASE
9295:  tolua_lerror:
9296:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_debugInfo&apos;.&quot;,&amp;tolua_err);
9297:  return 0;
9298: #endif
9299: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="931" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 928 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_getAttacker00 ( lua_State * tolua_S )" content="921:  )
922:   goto tolua_lerror;
923:  else
924: #endif
925:  {
926:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
927: #ifndef TOLUA_RELEASE
928:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getAttacker&apos;&quot;, NULL);
929: #endif
930:   {
931:     int tolua_ret = (  int)  self-&gt;bt_getAttacker();
932:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
933:   }
934:  }
935:  return 1;
936: #ifndef TOLUA_RELEASE
937:  tolua_lerror:
938:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getAttacker&apos;.&quot;,&amp;tolua_err);
939:  return 0;
940: #endif
941: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="9321" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 9318 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getGuildParty00 ( lua_State * tolua_S )" content="9311:  )
9312:   goto tolua_lerror;
9313:  else
9314: #endif
9315:  {
9316:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
9317: #ifndef TOLUA_RELEASE
9318:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getGuildParty&apos;&quot;, NULL);
9319: #endif
9320:   {
9321:     int tolua_ret = (  int)  self-&gt;bt_getGuildParty();
9322:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
9323:   }
9324:  }
9325:  return 1;
9326: #ifndef TOLUA_RELEASE
9327:  tolua_lerror:
9328:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getGuildParty&apos;.&quot;,&amp;tolua_err);
9329:  return 0;
9330: #endif
9331: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="9355" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 9352 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getGuildPartyFoodList00 ( lua_State * tolua_S )" content="9345:   goto tolua_lerror;
9346:  else
9347: #endif
9348:  {
9349:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
9350:   int num = ((int)  tolua_tonumber(tolua_S,2,0));
9351: #ifndef TOLUA_RELEASE
9352:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getGuildPartyFoodList&apos;&quot;, NULL);
9353: #endif
9354:   {
9355:     int tolua_ret = (  int)  self-&gt;bt_getGuildPartyFoodList(num);
9356:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
9357:   }
9358:  }
9359:  return 1;
9360: #ifndef TOLUA_RELEASE
9361:  tolua_lerror:
9362:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getGuildPartyFoodList&apos;.&quot;,&amp;tolua_err);
9363:  return 0;
9364: #endif
9365: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="9389" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 9386 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getObjModelRadius00 ( lua_State * tolua_S )" content="9379:   goto tolua_lerror;
9380:  else
9381: #endif
9382:  {
9383:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
9384:    int objid = ((  int)  tolua_tonumber(tolua_S,2,0));
9385: #ifndef TOLUA_RELEASE
9386:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getObjModelRadius&apos;&quot;, NULL);
9387: #endif
9388:   {
9389:     int tolua_ret = (  int)  self-&gt;bt_getObjModelRadius(objid);
9390:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
9391:   }
9392:  }
9393:  return 1;
9394: #ifndef TOLUA_RELEASE
9395:  tolua_lerror:
9396:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getObjModelRadius&apos;.&quot;,&amp;tolua_err);
9397:  return 0;
9398: #endif
9399: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="9423" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 9420 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getSpeedMode00 ( lua_State * tolua_S )" content="9413:   goto tolua_lerror;
9414:  else
9415: #endif
9416:  {
9417:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
9418:    int objId = ((  int)  tolua_tonumber(tolua_S,2,0));
9419: #ifndef TOLUA_RELEASE
9420:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getSpeedMode&apos;&quot;, NULL);
9421: #endif
9422:   {
9423:     int tolua_ret = (  int)  self-&gt;bt_getSpeedMode(objId);
9424:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
9425:   }
9426:  }
9427:  return 1;
9428: #ifndef TOLUA_RELEASE
9429:  tolua_lerror:
9430:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getSpeedMode&apos;.&quot;,&amp;tolua_err);
9431:  return 0;
9432: #endif
9433: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="9457" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 9454 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_setSpeedMode00 ( lua_State * tolua_S )" content="9447:   goto tolua_lerror;
9448:  else
9449: #endif
9450:  {
9451:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
9452:    int modeId = ((  int)  tolua_tonumber(tolua_S,2,0));
9453: #ifndef TOLUA_RELEASE
9454:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_setSpeedMode&apos;&quot;, NULL);
9455: #endif
9456:   {
9457:    self-&gt;bt_setSpeedMode(modeId);
9458:   }
9459:  }
9460:  return 0;
9461: #ifndef TOLUA_RELEASE
9462:  tolua_lerror:
9463:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_setSpeedMode&apos;.&quot;,&amp;tolua_err);
9464:  return 0;
9465: #endif
9466: }
9467: #endif //#ifndef TOLUA_DISABLE
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="9488" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 9485 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getInitFace00 ( lua_State * tolua_S )" content="9478:  )
9479:   goto tolua_lerror;
9480:  else
9481: #endif
9482:  {
9483:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
9484: #ifndef TOLUA_RELEASE
9485:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getInitFace&apos;&quot;, NULL);
9486: #endif
9487:   {
9488:     int tolua_ret = (  int)  self-&gt;bt_getInitFace();
9489:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
9490:   }
9491:  }
9492:  return 1;
9493: #ifndef TOLUA_RELEASE
9494:  tolua_lerror:
9495:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getInitFace&apos;.&quot;,&amp;tolua_err);
9496:  return 0;
9497: #endif
9498: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="9522" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 9519 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_changeFace00 ( lua_State * tolua_S )" content="9512:   goto tolua_lerror;
9513:  else
9514: #endif
9515:  {
9516:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
9517:    int face = ((  int)  tolua_tonumber(tolua_S,2,0));
9518: #ifndef TOLUA_RELEASE
9519:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_changeFace&apos;&quot;, NULL);
9520: #endif
9521:   {
9522:    self-&gt;bt_changeFace(face);
9523:   }
9524:  }
9525:  return 0;
9526: #ifndef TOLUA_RELEASE
9527:  tolua_lerror:
9528:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_changeFace&apos;.&quot;,&amp;tolua_err);
9529:  return 0;
9530: #endif
9531: }
9532: #endif //#ifndef TOLUA_DISABLE
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="9553" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 9550 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getFlag00 ( lua_State * tolua_S )" content="9543:  )
9544:   goto tolua_lerror;
9545:  else
9546: #endif
9547:  {
9548:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
9549: #ifndef TOLUA_RELEASE
9550:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getFlag&apos;&quot;, NULL);
9551: #endif
9552:   {
9553:    behaviac::vector&lt;int32_t&gt; tolua_ret = (behaviac::vector&lt;int32_t&gt;)  self-&gt;bt_getFlag();
9554:    {
9555: #ifdef __cplusplus
9556:     void* tolua_obj = Mtolua_new((behaviac::vector&lt;int32_t&gt;)(tolua_ret));
9557:      tolua_pushusertype(tolua_S,tolua_obj,&quot;behaviac::vector&lt;int32_t&gt;&quot;);
9558:     tolua_register_gc(tolua_S,lua_gettop(tolua_S));
9559: #else
9560:     void* tolua_obj = tolua_copy(tolua_S,(void*)&amp;tolua_ret,sizeof(behaviac::vector&lt;int32_t&gt;));
9561:      tolua_pushusertype(tolua_S,tolua_obj,&quot;behaviac::vector&lt;int32_t&gt;&quot;);
9562:     tolua_register_gc(tolua_S,lua_gettop(tolua_S));
9563: #endif
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="9597" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 9594 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getFlagState00 ( lua_State * tolua_S )" content="9587:   goto tolua_lerror;
9588:  else
9589: #endif
9590:  {
9591:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
9592:    int sid = ((  int)  tolua_tonumber(tolua_S,2,0));
9593: #ifndef TOLUA_RELEASE
9594:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getFlagState&apos;&quot;, NULL);
9595: #endif
9596:   {
9597:    int tolua_ret = (int)  self-&gt;bt_getFlagState(sid);
9598:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
9599:   }
9600:  }
9601:  return 1;
9602: #ifndef TOLUA_RELEASE
9603:  tolua_lerror:
9604:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getFlagState&apos;.&quot;,&amp;tolua_err);
9605:  return 0;
9606: #endif
9607: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="9631" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 9628 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_captureFlag00 ( lua_State * tolua_S )" content="9621:   goto tolua_lerror;
9622:  else
9623: #endif
9624:  {
9625:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
9626:    int sid = ((  int)  tolua_tonumber(tolua_S,2,0));
9627: #ifndef TOLUA_RELEASE
9628:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_captureFlag&apos;&quot;, NULL);
9629: #endif
9630:   {
9631:    bool tolua_ret = (bool)  self-&gt;bt_captureFlag(sid);
9632:    tolua_pushboolean(tolua_S,(bool)tolua_ret);
9633:   }
9634:  }
9635:  return 1;
9636: #ifndef TOLUA_RELEASE
9637:  tolua_lerror:
9638:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_captureFlag&apos;.&quot;,&amp;tolua_err);
9639:  return 0;
9640: #endif
9641: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="965" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 962 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_SPlayer_bt_catchUp00 ( lua_State * tolua_S )" content="955:   goto tolua_lerror;
956:  else
957: #endif
958:  {
959:   SPlayer* self = (SPlayer*)  tolua_tousertype(tolua_S,1,0);
960:    int obj_id = ((  int)  tolua_tonumber(tolua_S,2,0));
961: #ifndef TOLUA_RELEASE
962:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_catchUp&apos;&quot;, NULL);
963: #endif
964:   {
965:    self-&gt;bt_catchUp(obj_id);
966:   }
967:  }
968:  return 0;
969: #ifndef TOLUA_RELEASE
970:  tolua_lerror:
971:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_catchUp&apos;.&quot;,&amp;tolua_err);
972:  return 0;
973: #endif
974: }
975: #endif //#ifndef TOLUA_DISABLE
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="9663" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 9660 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_stopcaptureFlag00 ( lua_State * tolua_S )" content="9653:  )
9654:   goto tolua_lerror;
9655:  else
9656: #endif
9657:  {
9658:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
9659: #ifndef TOLUA_RELEASE
9660:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_stopcaptureFlag&apos;&quot;, NULL);
9661: #endif
9662:   {
9663:    self-&gt;bt_stopcaptureFlag();
9664:   }
9665:  }
9666:  return 0;
9667: #ifndef TOLUA_RELEASE
9668:  tolua_lerror:
9669:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_stopcaptureFlag&apos;.&quot;,&amp;tolua_err);
9670:  return 0;
9671: #endif
9672: }
9673: #endif //#ifndef TOLUA_DISABLE
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="9700" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 9697 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_backJump00 ( lua_State * tolua_S )" content="9690: #endif
9691:  {
9692:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
9693:    int msec = ((  int)  tolua_tonumber(tolua_S,2,0));
9694:    int speed = ((  int)  tolua_tonumber(tolua_S,3,0));
9695:    int sid = ((  int)  tolua_tonumber(tolua_S,4,0));
9696: #ifndef TOLUA_RELEASE
9697:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_backJump&apos;&quot;, NULL);
9698: #endif
9699:   {
9700:    bool tolua_ret = (bool)  self-&gt;bt_backJump(msec,speed,sid);
9701:    tolua_pushboolean(tolua_S,(bool)tolua_ret);
9702:   }
9703:  }
9704:  return 1;
9705: #ifndef TOLUA_RELEASE
9706:  tolua_lerror:
9707:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_backJump&apos;.&quot;,&amp;tolua_err);
9708:  return 0;
9709: #endif
9710: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="9738" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 9735 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_jumpCatchUpObj00 ( lua_State * tolua_S )" content="9728: #endif
9729:  {
9730:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
9731:    int sid = ((  int)  tolua_tonumber(tolua_S,2,0));
9732:    int msec = ((  int)  tolua_tonumber(tolua_S,3,0));
9733:    int speed = ((  int)  tolua_tonumber(tolua_S,4,0));
9734: #ifndef TOLUA_RELEASE
9735:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_jumpCatchUpObj&apos;&quot;, NULL);
9736: #endif
9737:   {
9738:    bool tolua_ret = (bool)  self-&gt;bt_jumpCatchUpObj(sid,msec,speed);
9739:    tolua_pushboolean(tolua_S,(bool)tolua_ret);
9740:   }
9741:  }
9742:  return 1;
9743: #ifndef TOLUA_RELEASE
9744:  tolua_lerror:
9745:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_jumpCatchUpObj&apos;.&quot;,&amp;tolua_err);
9746:  return 0;
9747: #endif
9748: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="9770" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 9767 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_StopJump00 ( lua_State * tolua_S )" content="9760:  )
9761:   goto tolua_lerror;
9762:  else
9763: #endif
9764:  {
9765:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
9766: #ifndef TOLUA_RELEASE
9767:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_StopJump&apos;&quot;, NULL);
9768: #endif
9769:   {
9770:    self-&gt;bt_StopJump();
9771:   }
9772:  }
9773:  return 0;
9774: #ifndef TOLUA_RELEASE
9775:  tolua_lerror:
9776:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_StopJump&apos;.&quot;,&amp;tolua_err);
9777:  return 0;
9778: #endif
9779: }
9780: #endif //#ifndef TOLUA_DISABLE
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="9811" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 9808 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_jumpToPos00 ( lua_State * tolua_S )" content="9801:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
9802:    int x = ((  int)  tolua_tonumber(tolua_S,2,0));
9803:    int y = ((  int)  tolua_tonumber(tolua_S,3,0));
9804:    int msec = ((  int)  tolua_tonumber(tolua_S,4,0));
9805:    int speed = ((  int)  tolua_tonumber(tolua_S,5,0));
9806:    int jump_type = ((  int)  tolua_tonumber(tolua_S,6,0));
9807: #ifndef TOLUA_RELEASE
9808:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_jumpToPos&apos;&quot;, NULL);
9809: #endif
9810:   {
9811:    bool tolua_ret = (bool)  self-&gt;bt_jumpToPos(x,y,msec,speed,jump_type);
9812:    tolua_pushboolean(tolua_S,(bool)tolua_ret);
9813:   }
9814:  }
9815:  return 1;
9816: #ifndef TOLUA_RELEASE
9817:  tolua_lerror:
9818:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_jumpToPos&apos;.&quot;,&amp;tolua_err);
9819:  return 0;
9820: #endif
9821: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="9843" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 9840 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getBeAttackTimes00 ( lua_State * tolua_S )" content="9833:  )
9834:   goto tolua_lerror;
9835:  else
9836: #endif
9837:  {
9838:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
9839: #ifndef TOLUA_RELEASE
9840:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getBeAttackTimes&apos;&quot;, NULL);
9841: #endif
9842:   {
9843:     int tolua_ret = (  int)  self-&gt;bt_getBeAttackTimes();
9844:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
9845:   }
9846:  }
9847:  return 1;
9848: #ifndef TOLUA_RELEASE
9849:  tolua_lerror:
9850:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getBeAttackTimes&apos;.&quot;,&amp;tolua_err);
9851:  return 0;
9852: #endif
9853: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="9877" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 9874 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_setBeAttackTimes00 ( lua_State * tolua_S )" content="9867:   goto tolua_lerror;
9868:  else
9869: #endif
9870:  {
9871:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
9872:    int times = ((  int)  tolua_tonumber(tolua_S,2,0));
9873: #ifndef TOLUA_RELEASE
9874:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_setBeAttackTimes&apos;&quot;, NULL);
9875: #endif
9876:   {
9877:    self-&gt;bt_setBeAttackTimes(times);
9878:   }
9879:  }
9880:  return 0;
9881: #ifndef TOLUA_RELEASE
9882:  tolua_lerror:
9883:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_setBeAttackTimes&apos;.&quot;,&amp;tolua_err);
9884:  return 0;
9885: #endif
9886: }
9887: #endif //#ifndef TOLUA_DISABLE
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="99" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 95 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_set_bt_location_layer ( lua_State * tolua_S )" content="89: #ifndef TOLUA_DISABLE_tolua_set_bt_location_layer
90: static int tolua_set_bt_location_layer(lua_State* tolua_S)
91: {
92:   bt_location* self = (bt_location*)  tolua_tousertype(tolua_S,1,0);
93: #ifndef TOLUA_RELEASE
94:   tolua_Error tolua_err;
95:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in accessing variable &apos;layer&apos;&quot;,NULL);
96:   if (!tolua_isnumber(tolua_S,2,0,&amp;tolua_err))
97:    tolua_error(tolua_S,&quot;#vinvalid type in variable assignment.&quot;,&amp;tolua_err);
98: #endif
99:   self-&gt;layer = ((  int)  tolua_tonumber(tolua_S,2,0))
100: ;
101:  return 0;
102: }
103: #endif //#ifndef TOLUA_DISABLE
104: 
105: /* get function: x of class  bt_location */
106: #ifndef TOLUA_DISABLE_tolua_get_bt_location_x
107: static int tolua_get_bt_location_x(lua_State* tolua_S)
108: {
109:   bt_location* self = (bt_location*)  tolua_tousertype(tolua_S,1,0);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="9908" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 9905 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_checkStun00 ( lua_State * tolua_S )" content="9898:  )
9899:   goto tolua_lerror;
9900:  else
9901: #endif
9902:  {
9903:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
9904: #ifndef TOLUA_RELEASE
9905:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_checkStun&apos;&quot;, NULL);
9906: #endif
9907:   {
9908:    bool tolua_ret = (bool)  self-&gt;bt_checkStun();
9909:    tolua_pushboolean(tolua_S,(bool)tolua_ret);
9910:   }
9911:  }
9912:  return 1;
9913: #ifndef TOLUA_RELEASE
9914:  tolua_lerror:
9915:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_checkStun&apos;.&quot;,&amp;tolua_err);
9916:  return 0;
9917: #endif
9918: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="9940" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 9937 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_canAction00 ( lua_State * tolua_S )" content="9930:  )
9931:   goto tolua_lerror;
9932:  else
9933: #endif
9934:  {
9935:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
9936: #ifndef TOLUA_RELEASE
9937:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_canAction&apos;&quot;, NULL);
9938: #endif
9939:   {
9940:    bool tolua_ret = (bool)  self-&gt;bt_canAction();
9941:    tolua_pushboolean(tolua_S,(bool)tolua_ret);
9942:   }
9943:  }
9944:  return 1;
9945: #ifndef TOLUA_RELEASE
9946:  tolua_lerror:
9947:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_canAction&apos;.&quot;,&amp;tolua_err);
9948:  return 0;
9949: #endif
9950: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/lua_export.cpp" line="9972" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [self] to null at line 9969 implies that [self ] might be null.Dereferencing null pointer [self]." web_identify="{&quot;identify&quot;:&quot;self&quot;}" func_info="static int tolua_lua_export_BaseMonster_bt_getSpeed00 ( lua_State * tolua_S )" content="9962:  )
9963:   goto tolua_lerror;
9964:  else
9965: #endif
9966:  {
9967:   BaseMonster* self = (BaseMonster*)  tolua_tousertype(tolua_S,1,0);
9968: #ifndef TOLUA_RELEASE
9969:   if (!self) tolua_error(tolua_S,&quot;invalid &apos;self&apos; in function &apos;bt_getSpeed&apos;&quot;, NULL);
9970: #endif
9971:   {
9972:     int tolua_ret = (  int)  self-&gt;bt_getSpeed();
9973:    tolua_pushnumber(tolua_S,(lua_Number)tolua_ret);
9974:   }
9975:  }
9976:  return 1;
9977: #ifndef TOLUA_RELEASE
9978:  tolua_lerror:
9979:  tolua_error(tolua_S,&quot;#ferror in function &apos;bt_getSpeed&apos;.&quot;,&amp;tolua_err);
9980:  return 0;
9981: #endif
9982: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/run_lua.cpp" line="115" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [lua_holder] to null at line 111 implies that [lua_holder ] might be null.Dereferencing null pointer [lua_holder]." web_identify="{&quot;identify&quot;:&quot;lua_holder&quot;}" func_info="bool RunLua::ControlFocus ( const std::string &amp; cmd_string )" content="105: 
106:     return true;
107: }
108: 
109: bool RunLua::ControlFocus(const std::string&amp; cmd_string)
110: {
111:     if (!lua_holder)
112:     {
113:         RunLua::Init();
114:     }
115:     auto L = lua_holder-&gt;L;
116:     lua_getglobal(L, &quot;control_focus&quot;);
117:     if (lua_isnil(L, LUA_GLOBALSINDEX))
118:     {
119:         LERROR(&quot;no find func update&quot;);
120:         lua_pop(L, -1);
121:         return false;
122:     }
123:     lua_pushstring(L, cmd_string.c_str());
124:     CHECK_LUA_PCALL_AND_RETURN_FALSE(lua_pcall(L, 1, 1, 0));
125:     if (!lua_isboolean(L, -1))
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/run_lua.cpp" line="150" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [lua_holder] to null at line 139 implies that [lua_holder ] might be null.Dereferencing null pointer [lua_holder]." web_identify="{&quot;identify&quot;:&quot;lua_holder&quot;}" func_info="bool RunLua::CreateAiForSPlayer ( SPlayer * p , const std::string &amp; file_name )" content="140:     {
141:         RunLua::Init();
142:     }
143: 
144:     if (p-&gt;m_lua_ai_created)
145:     {
146:         LERROR(&quot;already create lua ai, &quot; &lt;&lt; p-&gt;debug_info());
147:         return false;
148:     }
149: 
150:     auto L = lua_holder-&gt;L;
151:     lua_getglobal(L, &quot;cxx_create_ai&quot;);
152:     if (lua_isnil(L, LUA_GLOBALSINDEX))
153:     {
154:         LERROR(&quot;no find func cxx_create_ai&quot;);
155:         lua_pop(L, -1);
156:         return false;
157:     }
158:     tolua_pushusertype(L, (void*)p, &quot;SPlayer&quot;);
159:     lua_pushstring(L, file_name.c_str());
160:     CHECK_LUA_PCALL_AND_RETURN_FALSE(lua_pcall(L, 2, 1, 0));
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/run_lua.cpp" line="184" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [lua_holder] to null at line 173 implies that [lua_holder ] might be null.Dereferencing null pointer [lua_holder]." web_identify="{&quot;identify&quot;:&quot;lua_holder&quot;}" func_info="bool RunLua::CreateAiForMonster ( BaseMonster * p , const std::string &amp; file_name )" content="174:     {
175:         RunLua::Init();
176:     }
177: 
178:     if (p-&gt;m_lua_ai_created)
179:     {
180:         LERROR(&quot;already create lua ai, &quot; &lt;&lt; p-&gt;debug_info());
181:         return false;
182:     }
183: 
184:     auto L = lua_holder-&gt;L;
185:     lua_getglobal(L, &quot;cxx_create_ai&quot;);
186:     if (lua_isnil(L, -1))
187:     {
188:         LERROR(&quot;no find func cxx_create_ai&quot;);
189:         lua_pop(L, -1);
190:         return false;
191:     }
192:     tolua_pushusertype(L, (void*)p, &quot;BaseMonster&quot;);
193:     lua_pushstring(L, file_name.c_str());
194:     CHECK_LUA_PCALL_AND_RETURN_FALSE(lua_pcall(L, 2, 1, 0));
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/run_lua.cpp" line="211" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [lua_holder] to null at line 207 implies that [lua_holder ] might be null.Dereferencing null pointer [lua_holder]." web_identify="{&quot;identify&quot;:&quot;lua_holder&quot;}" func_info="bool RunLua::ReloadLua_ItsDangerous ( )" content="201:     p-&gt;m_lua_ai_created = true;
202:     return true;
203: }
204: 
205: bool RunLua::ReloadLua_ItsDangerous()
206: {
207:     if (!lua_holder)
208:     {
209:         RunLua::Init();
210:     }
211:     auto L = lua_holder-&gt;L;
212:     auto ret = luaL_dostring(L, &quot;package.loaded[&apos;lua_script/main&apos;] = nil \nrequire(&apos;lua_script/main&apos;)&quot;);
213:     if (ret != 0)
214:     {
215:         LERROR(&quot;update fail(&quot; &lt;&lt; ret &lt;&lt; &quot;)(&quot; &lt;&lt; lua_tostring(L, -1) &lt;&lt; &quot;)&quot;);
216:         return false;
217:     }
218:     return true;
219: }
220: 
221: bool RunLua::TransferCallMonsterEvent(BaseMonster* mon, const char* event)
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/run_lua.cpp" line="232" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [lua_holder] to null at line 223 implies that [lua_holder ] might be null.Dereferencing null pointer [lua_holder]." web_identify="{&quot;identify&quot;:&quot;lua_holder&quot;}" func_info="bool RunLua::TransferCallMonsterEvent ( BaseMonster * mon , const char * event )" content="222: {
223:     if (!lua_holder)
224:     {
225:         RunLua::Init();
226:     }
227:     if (!mon-&gt;m_lua_ai_created)
228:     {
229:         LERROR(&quot;not create lua ai, &quot; &lt;&lt; mon-&gt;debug_info());
230:         return false;
231:     }
232:     auto L = lua_holder-&gt;L;
233:     lua_getglobal(L, &quot;cxx_register_event&quot;);
234:     if (lua_isnil(L, -1))
235:     {
236:         LERROR(&quot;no find func cxx_register_event&quot;);
237:         lua_pop(L, -1);
238:         return false;
239:     }
240:     tolua_pushusertype(L, (void*)mon, &quot;BaseMonster&quot;);
241:     lua_pushstring(L, event);
242:     CHECK_LUA_PCALL_AND_RETURN_FALSE(lua_pcall(L, 2, 1, 0));
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/run_lua.cpp" line="265" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [lua_holder] to null at line 253 implies that [lua_holder ] might be null.Dereferencing null pointer [lua_holder]." web_identify="{&quot;identify&quot;:&quot;lua_holder&quot;}" func_info="bool::RunLua::ChangeDebug ( bool on , const std::string &amp; ip )" content="255:         RunLua::Init();
256:     }
257:     std::string cmd;
258:     if (on)
259:     {
260:         cmd = &quot;debug_on&quot;;
261:     }
262:     else
263:         cmd = &quot;debug_off&quot;;
264: 
265:     auto L = lua_holder-&gt;L;
266:     lua_getglobal(L, cmd.c_str());
267:     if (lua_isnil(L, -1))
268:     {
269:         LERROR(&quot;no find func cxx_create_ai&quot;);
270:         lua_pop(L, -1);
271:         return false;
272:     }
273:     if (on)
274:     {
275:         lua_pushstring(L, ip.c_str());
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/run_lua.cpp" line="290" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [lua_holder] to null at line 286 implies that [lua_holder ] might be null.Dereferencing null pointer [lua_holder]." web_identify="{&quot;identify&quot;:&quot;lua_holder&quot;}" func_info="bool::RunLua::DeleteAi ( long sid )" content="280: 
281:     return true;
282: }
283: 
284: bool ::RunLua::DeleteAi(int64_t sid)
285: {
286:     if (!lua_holder)
287:     {
288:         RunLua::Init();
289:     }
290:     auto L = lua_holder-&gt;L;
291:     lua_getglobal(L, &quot;cxx_delete_ai&quot;);
292:     if (lua_isnil(L, -1))
293:     {
294:         LERROR(&quot;no find func cxx_delete_ai&quot;);
295:         lua_pop(L, -1);
296:         return false;
297:     }
298:     lua_pushnumber(L, sid);
299:     CHECK_LUA_PCALL_AND_RETURN_FALSE(lua_pcall(L, 1, 0, 0));
300: 
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/run_lua.cpp" line="371" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [lua_holder] to null at line 367 implies that [lua_holder ] might be null.Dereferencing null pointer [lua_holder]." web_identify="{&quot;identify&quot;:&quot;lua_holder&quot;}" func_info="bool::RunLua::EvalLua ( const std::string &amp; str )" content="361: 
362:     return true;
363: }
364: 
365: bool ::RunLua::EvalLua(const std::string&amp; str)
366: {
367:     if (!lua_holder)
368:     {
369:         RunLua::Init();
370:     }
371:     auto L = lua_holder-&gt;L;
372:     auto ret = luaL_dostring(L, str.c_str());
373:     if (ret != 0)
374:     {
375:         LERROR(&quot;eval string fail(&quot; &lt;&lt; ret &lt;&lt; &quot;)(&quot; &lt;&lt; lua_tostring(L, -1) &lt;&lt; &quot;), str(&quot; &lt;&lt; str.c_str() &lt;&lt; &quot;)&quot;);
376:         return false;
377:     }
378:     return true;
379: }
380: 
381: bool RunLua::PushLuaEventForMonster(BaseMonster* mon, std::string&amp; event ,const std::vector&lt;std::string&gt;*param/* = nullptr*/)
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/lua_ai/run_lua.cpp" line="461" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [lua_holder] to null at line 456 implies that [lua_holder ] might be null.Dereferencing null pointer [lua_holder]." web_identify="{&quot;identify&quot;:&quot;lua_holder&quot;}" func_info="bool RunLua::GMHotUpdate ( )" content="451:     return true;
452: }
453: 
454: bool RunLua::GMHotUpdate()
455: {
456:     if (!lua_holder)
457:     {
458:         RunLua::Init();
459:     }
460:     LWARN(&quot;GMHotUpdate:&quot;);
461:     auto L = lua_holder-&gt;L;
462:     lua_getglobal(L, &quot;gm_hot_update&quot;);
463:     if (lua_isnil(L, -1))
464:     {
465:         LERROR(&quot;no find func gm_hot_update&quot;);
466:         lua_pop(L, -1);
467:         return false;
468:     }  
469:     CHECK_LUA_PCALL_AND_RETURN_FALSE(lua_pcall(L, 0, 0, 0));
470:     return true;
471: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/battle_op.cpp" line="16" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_CHANGE_FOCUS::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_CHANGE_FOCUS::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_CHANGE_FOCUS" content="6: #include &quot;InterruptedObserveMode.h&quot;   // for InterruptedObserveMode
7: #include &quot;frame_log.h&quot;                // for Log
8: #include &quot;interface.h&quot;                // for ERROR_RETURN_BACK
9: #include &quot;log4cplus/loggingmacros.h&quot;  // for LOG4CPLUS_MACRO_WARN_LOG_LEVEL
10: #include &quot;mmo3d.pb.h&quot;                 // for req_E_C2S_CHANGE_FOCUS, rep_E_C...
11: #include &quot;operate/../data/Object.h&quot;   // for Object
12: #include &quot;operate/../data/SPlayer.h&quot;  // for SPlayer
13: #include &quot;protocol_define.h&quot;          // for E_ERROR_TYPE::E_CORRECT, E_PROT...
14: #include &quot;scene_cmd_factory.h&quot;        // for SCENE_MSG_HANDLE_WITH_ROLE_CHECK
15: 
16: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_CHANGE_FOCUS)
17: {
18:     if (!p-&gt;m_scene)
19:     {
20:         ERROR_RETURN_BACK(E_ERROR_NO_SCENE);
21:     }
22: 
23:     auto old_id = p-&gt;m_focus_id;
24:     auto op = req.op_type();
25:     if (op == 0)  // change
26:     {
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/carrier_op.cpp" line="123" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_GET_OFF_CARRIER::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_GET_OFF_CARRIER::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_GET_OFF_CARRIER" content="113:             resp.set_isok(E_ERROR_NO_OBJECT);
114:         }
115:     }
116:     else
117:     {
118:         resp.set_isok(E_ERROR_PLAYER_NOT_IN_SCENE);  //玩家已经不在场景里了
119:     }
120:     return OPER_RES_PROTO;
121: }
122: 
123: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_GET_OFF_CARRIER)
124: {
125:     if (p-&gt;m_scene)
126:     {
127:         if (p-&gt;m_carrier)
128:         {
129:             //auto carrier = p-&gt;m_carrier;
130:             resp.set_isok(p-&gt;m_carrier-&gt;get_off(p, p-&gt;m_car_space_id));
131:             if (p-&gt;m_task_vehicle &amp;&amp; p-&gt;m_special_task.task_id &gt; 0 &amp;&amp;
132:                 E_TASK_SPECIAL_CARRIER == p-&gt;m_special_task.special_task_type)
133:             {
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/carrier_op.cpp" line="157" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_GET_ON_LIGHT_VEHICLE::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_GET_ON_LIGHT_VEHICLE::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_GET_ON_LIGHT_VEHICLE" content="147:             resp.set_isok(E_ERROR_NOT_IN_THIS_CARRIER);
148:         }
149:     }
150:     else
151:     {
152:         resp.set_isok(E_ERROR_PLAYER_NOT_IN_SCENE);  //玩家已经不在场景里了
153:     }
154:     return OPER_RES_PROTO;
155: }
156: 
157: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_GET_ON_LIGHT_VEHICLE)
158: {
159:     auto&amp; recv = req;
160:     if (p-&gt;m_scene)
161:     {
162:         if (p-&gt;m_state == E_STATE_DEAD)
163:         {
164:             resp.set_isok(E_ERROR_PLAYER_IS_DEAD);
165:             resp.SerializeToString(&amp;content);
166:             return OPER_RES_STRING;
167:         }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/carrier_op.cpp" line="261" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_GET_OFF_LIGHT_VEHICLE::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_GET_OFF_LIGHT_VEHICLE::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_GET_OFF_LIGHT_VEHICLE" content="251:             resp.set_isok(E_ERROR_NO_OBJECT);
252:         }
253:     }
254:     else
255:     {
256:         resp.set_isok(E_ERROR_PLAYER_NOT_IN_SCENE);  //玩家已经不在场景里了
257:     }
258:     return OPER_RES_PROTO;
259: }
260: 
261: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_GET_OFF_LIGHT_VEHICLE)
262: {
263:     //REQUEST(E_C2S_GET_OFF_LIGHT_VEHICLE)  recv;
264:     //RESPOND(E_C2S_GET_OFF_LIGHT_VEHICLE)  resp;
265: 
266:     //if(!recv.ParseFromArray(smsg-&gt;GetBodyBuf(),smsg-&gt;GetBodySize()))
267:     //{
268:     //	//转换失败
269:     //	LWARN(&quot;ParseFromString failed! msg_type: E_C2S_GET_OFF_LIGHT_VEHICLE&quot;);
270:     //	return OPER_RES_DONNOT_RETURN;
271:     //}
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/carrier_op.cpp" line="29" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_GET_ON_CARRIER::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_GET_ON_CARRIER::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_GET_ON_CARRIER" content="19: #include &quot;monster_define.h&quot;                // for E_OBJECT_TYPES::E_OBJ_TYPE...
20: #include &quot;operate/../data/Creature.h&quot;      // for Creature
21: #include &quot;operate/../data/Object.h&quot;        // for Object
22: #include &quot;operate/../data/SPlayer.h&quot;       // for SPlayer, special_task_info
23: #include &quot;operate/../data/Scene.h&quot;         // for Scene, Object::set_to_be_r...
24: #include &quot;protocol_define.h&quot;               // for E_ERROR_TYPE::E_CORRECT
25: #include &quot;protocol_operate.h&quot;              // for CFrameOperate::OperRes::OP...
26: // #include &quot;s2s_mmo3d.pb.h&quot;
27: #include &quot;scene_cmd_factory.h&quot;             // for SCENE_MSG_HANDLE_WITH_ROLE...
28: 
29: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_GET_ON_CARRIER)
30: {
31:     auto&amp; recv = req;
32:     if (p-&gt;m_scene)
33:     {
34:         if (p-&gt;m_state == E_STATE_DEAD)
35:         {
36:             resp.set_isok(E_ERROR_PLAYER_IS_DEAD);
37:             resp.SerializeToString(&amp;content);
38:             return OPER_RES_STRING;
39:         }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/carrier_op.cpp" line="318" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_CHANGE_MODE_CARRIER::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_CHANGE_MODE_CARRIER::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_CHANGE_MODE_CARRIER" content="308:     //else
309:     //{
310:     //	resp.set_isok(E_ERROR_NO_OBJECT);
311:     //}
312: 
313:     //resp.SerializeToString(&amp;content);
314:     return OPER_RES_STRING;
315: }
316: 
317: //E_C2S_CHANGE_MODE_CARRIER = 399,		//载具形态切换
318: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_CHANGE_MODE_CARRIER)
319: {
320:     if (!p-&gt;m_scene)
321:         return SetIsokAndReturn(E_ERROR_PLAYER_NOT_IN_SCENE);
322: 
323:     if (!p-&gt;m_carrier)
324:         return SetIsokAndReturn(E_ERROR_NOT_IN_THIS_CARRIER);
325:     {
326:         if (req.mode() &gt; 2)
327:         {
328:             return SetIsokAndReturn(E_ERROR_PARAM_ERROR);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/carrier_op.cpp" line="341" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_CHANGE_CARRIER_SPACE_ID::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_CHANGE_CARRIER_SPACE_ID::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_CHANGE_CARRIER_SPACE_ID" content="331:         {
332:             return SetIsokAndReturn(E_CORRECT);
333:         }
334:         p-&gt;m_carrier-&gt;m_mode = req.mode();
335:         //todo 技能切换
336:     }
337:     return SetIsokAndReturn(E_CORRECT);
338:     ;
339: }
340: 
341: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_CHANGE_CARRIER_SPACE_ID)
342: {
343:     if (!p-&gt;m_carrier)
344:     {
345:         resp.set_isok(E_ERROR_NOT_IN_THIS_CARRIER);  //未在载具上
346:         return OPER_RES_PROTO;
347:     }
348:     auto&amp;&amp; space_id = req.space_id();
349:     auto vech_it = g_ConstData.get_m_VehicleSpace().find(space_id);
350:     if (vech_it == g_ConstData.get_m_VehicleSpace().end())
351:     {
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/carrier_op.cpp" line="438" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_CHANGE_CARRIER_SPACE_RESPONSE::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_CHANGE_CARRIER_SPACE_RESPONSE::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_CHANGE_CARRIER_SPACE_RESPONSE" content="428:                 {
429:                     LWARN(&quot;change error:&quot;);
430:                     resp.set_isok(E_ERROR_NOT_IN_THIS_CARRIER);
431:                 }
432:             }
433:         }
434:     }
435:     return OPER_RES_PROTO;
436: }
437: 
438: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_CHANGE_CARRIER_SPACE_RESPONSE)
439: {
440:     //	auto &amp;&amp;sid = req.sid();
441:     //	auto &amp;&amp;space_id = req.space_id();
442:     auto&amp;&amp; response = req.response();
443:     if (!p-&gt;m_carrier)
444:     {
445:         resp.set_isok(E_ERROR_NOT_IN_THIS_CARRIER);  //未在载具上
446:         return OPER_RES_PROTO;
447:     }
448:     auto carrier = p-&gt;m_carrier;
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/collect_handle_op.cpp" line="144" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_GET_COLLECT_ITEM::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_GET_COLLECT_ITEM::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_GET_COLLECT_ITEM" content="134:     {
135:             resp.set_isok(E_ERROR_NO_OBJECT);
136:             return OPER_RES_PROTO;
137:     }
138:     */
139:         resp.set_isok(E_CORRECT);
140:     }
141:     return OPER_RES_PROTO;
142: }
143: 
144: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_GET_COLLECT_ITEM)
145: {
146:     std::shared_ptr&lt;CollectHandler&gt; collect_handler(new CollectHandler);
147:     //不管成功失败，都要中断了
148:     p-&gt;m_skill_ctrl.m_casting.Interrupt(CastingInterruptReason::BE_NORMAL);
149:     int32_t result = collect_handler-&gt;CheckCollectItemRes(*p, req.sid(), req.taskid(), req.excel_id());
150:     resp.set_isok(result);
151:     resp.set_taskid(req.taskid());
152:     resp.set_excel_id(req.excel_id());
153: 
154:     int32_t task_id = req.taskid();
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/collect_handle_op.cpp" line="165" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [p] suggests that it may be null, but it has already been dereferenced at line 149." web_identify="{&quot;identify&quot;:&quot;p&quot;}" func_info="CFrameOperate::OperRes CLASS_SCENE_E_C2S_GET_COLLECT_ITEM::do_with_role ( )" content="155:     int32_t excel_id = req.excel_id();
156: 
157:     //int32_t group = 0;
158:     // 通过excel_id寻找Group, 任务中配置的是group
159:     //auto it = g_ConstData.get_m_Obj().find(req.excel_id());
160:     // if (it != g_ConstData.get_m_Obj().end()) {
161:     //     group = it-&gt;second-&gt;group();
162:     // }
163: 
164:     int32_t xml_index = 0;
165:     if (p != nullptr &amp;&amp; p-&gt;m_scene != nullptr) {
166:         auto collect_pp = CommonFunctions::get_map_value(p-&gt;m_scene-&gt;m_collects, req.sid());
167:         if (collect_pp) {
168:             Collect* collect_pt = *collect_pp;
169:             xml_index = collect_pt-&gt;m_xml_index;
170:         }
171:     }
172: 
173:     if (p-&gt;m_scene &amp;&amp; p-&gt;m_scene-&gt;m_dungeon != nullptr) {
174:         if (p-&gt;m_scene-&gt;m_real_players.size() &gt; 1) {
175:             if (p-&gt;m_scene-&gt;m_task_collect_map[task_id].find(excel_id) != p-&gt;m_scene-&gt;m_task_collect_map[task_id].end()) {
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/collect_handle_op.cpp" line="389" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_SUBMIT_COLLECT_ITEM::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_SUBMIT_COLLECT_ITEM::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_SUBMIT_COLLECT_ITEM" content="379:             REQUEST(E_SC2GS_SEND_TASK_TO_TEAM_MEMBER) gs_req;
380:             gs_req.set_member_id(leader_p-&gt;m_roleid);
381:             gs_req.set_task_id(req.taskid());
382:             leader_p-&gt;player_push_msg(E_SC2GS_SEND_TASK_TO_TEAM_MEMBER, gs_req, SERVER_CS);
383:             return OPER_RES_PROTO;
384:         }
385:     }
386:     return OPER_RES_PROTO;
387: }
388: 
389: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_SUBMIT_COLLECT_ITEM)
390: {
391:     if (!p-&gt;m_scene)
392:     {
393:         resp.set_isok(E_ERROR_PLAYER_NOT_IN_SCENE);
394:         return OPER_RES_PROTO;
395:     }
396:     //没有物资
397:     if (!p-&gt;m_is_get_carry_35_res)
398:     {
399:         // resp.set_isok(E_ERROR_RESOURCE_IS_NOT_ENOUGH);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/collect_handle_op.cpp" line="55" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_YIN_DAO_COLLECT_ITEM::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_YIN_DAO_COLLECT_ITEM::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_YIN_DAO_COLLECT_ITEM" content="45: #include &quot;proto_macro.h&quot;                         // for REQUEST, RESPOND
46: // #include &quot;modules/logic/net_peer.h&quot;
47: #include &quot;protocol_define.h&quot;                     // for E_ERROR_TYPE::E_CORRECT
48: #include &quot;protocol_operate.h&quot;                    // for CFrameOperate::OperR...
49: // #include &quot;s2s_mmo3d.pb.h&quot;
50: #include &quot;s2s_mmo3d_func_team.pb.h&quot;              // for req_E_SC2GS_SEND_TAS...
51: #include &quot;scene_cmd_factory.h&quot;                   // for SCENE_MSG_HANDLE_WIT...
52: #include &quot;scene_server/data/SCTaskEvent.h&quot;       // for SCCollectTaskEvent
53: #include &quot;task_define.h&quot;                         // for ETaskTargetType::E_T...
54: 
55: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_YIN_DAO_COLLECT_ITEM)
56: {
57:     if (!p-&gt;m_scene)
58:     {
59:         return SetIsokAndReturn(E_ERROR_PLAYER_NOT_IN_SCENE);
60:     }
61:     std::shared_ptr&lt;CollectHandler&gt; collect_handler(new CollectHandler);
62:     int32_t result = collect_handler-&gt;CheckCollectItemRes(*p, req.sid(), req.taskid(), req.excel_id());
63:     resp.set_isok(result);
64:     if (E_ERROR_PLAYER_NOT_IN_SCENE == result || E_ERROR_NO_OBJECT == result ||
65:         E_ERROR_CONDITION_NOT_ENOUGH == result || E_ERROR_COLLECT_BOX_OPEND == result)
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/collect_handler.cpp" line="768" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [p] suggests that it may be null, but it has already been dereferenced at line 753." web_identify="{&quot;identify&quot;:&quot;p&quot;}" func_info="void CollectHandler::HandleTouchResult ( Scene * scene_pt , const ConstDataHelper::Object::Cache * obj_config , Collect * collect_pt , SPlayer * p )" content="758:     else if (ConstDataHelper::Object::E_OBJECT_TOUCH_REMOVE == obj_config-&gt;getTouchType())
759:     {
760:         if (collect_pt)
761:         {
762:             collect_pt-&gt;set_to_be_removed();
763:         }
764:     }
765:     else if(ConstDataHelper::Object::E_OBJECT_TOUCH_TRIGGER_DUNGEON == obj_config-&gt;getTouchType())
766:     {
767:         auto&amp;&amp;  buff_params = obj_config-&gt;getTouchParam();
768:         if (p &amp;&amp; buff_params.size() &gt;= 2)
769:         {
770:             auto rate = buff_params[0];
771:             auto dungeon_id = buff_params[1];
772:             LDEBUG(&quot;E_OBJECT_TOUCH_TRIGGER_DUNGEON rate &quot; &lt;&lt; rate &lt;&lt;  &quot;,dungeon_id:&quot; &lt;&lt; dungeon_id);
773:             auto rand_num = Tools::getRandomNum(10000);
774:             if(rand_num &lt; rate)
775:             {
776:                 RESPOND(E_S2C_COLLECT_TRIGGER_DUNGEON) push;
777:                 push.set_dungeon_id(dungeon_id);
778:                 p-&gt;player_push_msg(E_S2C_COLLECT_TRIGGER_DUNGEON,push,SERVER_GG);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/escort_task_op.cpp" line="281" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_SUBMIT_ESCORT_TASK::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_SUBMIT_ESCORT_TASK::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_SUBMIT_ESCORT_TASK" content="271: 
272:     //去game_server接取护送任务
273:     REQUEST(E_S2S_ACCEPT_ESCORT_TASK_SS2GS) _req;
274:     _req.set_task_id(task_id);
275:     SendMessageForward::Forward(_req, E_S2S_ACCEPT_ESCORT_TASK_SS2GS, NetPeerApi::getPeerId(netPeer), req_no,
276:                                 SendMessageForward::TransferNode(SERVER_GS, 0));
277: 
278:     return OPER_RES_DONNOT_RETURN;
279: }
280: 
281: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_SUBMIT_ESCORT_TASK)
282: {
283:     int32_t task_id = req.task_id();
284:     int32_t mon_sid = req.sid();
285:     class Object* obj = g_ScGlobalData.get_obj(mon_sid);
286:     BaseMonster* mon = ObjCaster::CastBaseMonster(obj);
287:     if (mon == NULL)
288:     {
289:         resp.set_isok(E_ERROR_NO_OBJECT);
290:         return OPER_RES_PROTO;
291:     }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/escort_task_op.cpp" line="57" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_ACCEPT_ESCORT_TASK::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_ACCEPT_ESCORT_TASK::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_ACCEPT_ESCORT_TASK" content="47: #include &quot;s2s_mmo3d_common_struct_scene.pb.h&quot;
48: #include &quot;s2s_mmo3d_func_escort_task.pb.h&quot;
49: // #include &quot;s2s_mmo3d.pb.h&quot;
50: #include &quot;scene_cmd_factory.h&quot;
51: #include &quot;task_define.h&quot;
52: 
53: class CNetPeer;
54: // #include &quot;modules/logic/session.h&quot;
55: //using namespace ConstDataHelper;
56: 
57: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_ACCEPT_ESCORT_TASK)
58: {
59:     // 战役事件处理
60:     // if (p-&gt;m_scene &amp;&amp; p-&gt;m_scene-&gt;IsBattleEventScene())
61:     // {
62:     //     SCBattleEventDungeon* battle_dungeon = dynamic_cast&lt;SCBattleEventDungeon*&gt;(p-&gt;m_scene-&gt;m_dungeon);
63:     //     if (battle_dungeon)
64:     //     {
65:     //         auto battle_faction = battle_dungeon-&gt;GetBattleFaction(p-&gt;GetSceneFaction());
66:     //         if (battle_faction)
67:     //         {
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/escort_task_op.cpp" line="632" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_ESCORT_TASK_GET_OBJ_INFO::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_ESCORT_TASK_GET_OBJ_INFO::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_ESCORT_TASK_GET_OBJ_INFO" content="622:             //初始化怪物布点
623:             mon-&gt;InitMonsters_point();
624:             mon-&gt;set_to_be_removed();
625:         }
626:     }
627: 
628:     //玩家下线发的消息，所以不用返回了
629:     return OPER_RES_DONNOT_RETURN;
630: }
631: 
632: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_ESCORT_TASK_GET_OBJ_INFO)
633: {
634:     auto set_isok = [this](int32_t isok) {
635:         resp.set_isok(isok);
636:         return OPER_RES_PROTO;
637:     };
638:     //auto roleid = this-&gt;role_id;
639:     //auto scene_id = p-&gt;es_info.map_id;
640: 
641:     //#pragma message &quot;temp code&quot;
642:     if (!p-&gt;m_scene)
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/gm_op.cpp.cpp" line="1162" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [p] suggests that it may be null, but it has already been dereferenced at line 580." web_identify="{&quot;identify&quot;:&quot;p&quot;}" func_info="CFrameOperate::OperRes CLASS_SCENE_E_C2S_ROOM_CHAT::do_with_role ( )" content="1152: 		Json::Value jv;
1153: 		jv[&quot;pvp ratio1:&quot;] = Tools::conv2string(ratio);
1154: 		resp.set_js(jv.toStyledString());
1155: 		}
1156: 
1157:         else if(cmd == &quot;scgvg&quot;)
1158:         {
1159:             auto opt = pp.safe_atoi_with_throw(pp.get_param());   
1160:             if(1 == opt)
1161:             {
1162:                 if(p &amp;&amp; p-&gt;m_scene &amp;&amp; p-&gt;m_scene-&gt;m_async_room)
1163:                 {
1164:                     p-&gt;m_scene-&gt;m_async_room-&gt;Confirm(p);
1165:                     LWARN(&quot;scgvg:&quot;);
1166:                 }
1167:                 else
1168:                 {
1169:                     LWARN(&quot;scgvg&quot;);
1170:                 }
1171:             }
1172:             else if(2 == opt)
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/gm_op.cpp.cpp" line="1512" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [p.m_scene] suggests that it may be null, but it has already been dereferenced at line 1304." web_identify="{&quot;identify&quot;:&quot;p.m_scene&quot;}" func_info="CFrameOperate::OperRes CLASS_SCENE_E_C2S_ROOM_CHAT::do_with_role ( )" content="1502:                 else
1503:                 {
1504: 					pFoucsCreature-&gt;m_stop_ai_debug = false;
1505: 					pFoucsCreature-&gt;m_nIgnorePassive = 0;
1506:                 }
1507: 		    }
1508:         }
1509:         else if(cmd == &quot;pauseai&quot;)
1510:         {
1511:             auto flag = pp.safe_atoi_with_throw(pp.get_param());
1512:             if(p &amp;&amp; p-&gt;m_scene)
1513:             {
1514:                 if(flag &gt;0)
1515:                 {
1516:                     p-&gt;m_scene-&gt;DealPauseAI();    
1517:                 }
1518:                 else
1519:                 {
1520:                     p-&gt;m_scene-&gt;DealResumeAI();
1521:                 }
1522:             }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/gm_op.cpp.cpp" line="2130" id="logic" subid="assignIf" severity="Warning" msg="Expression is always false because &apos;else if&apos; condition matches previous condition at line 1927." web_identify="{&quot;identify&quot;:&quot;(&quot;}" func_info="CFrameOperate::OperRes CLASS_SCENE_E_C2S_ROOM_CHAT::do_with_role ( )" content="2120: 		    if (peek.first)
2121: 		    {
2122: 			    cardID = pp.safe_atoi_with_throw(peek.second);
2123:                 TalentModule::OnGMUnlockCanUseTalent(p, cardID);
2124: 		    }
2125:             else
2126:             {
2127:                 TalentModule::OnGMUnlockCanUseTalent(p);
2128:             }
2129: 		}
2130:         else if (cmd == &quot;set_pos&quot;)
2131:         {
2132:             if (pp.GetParamCount() &gt;= 3)
2133:             {
2134:                 float x = pp.safe_atof_with_throw(pp.get_param());
2135: 			    float y = pp.safe_atof_with_throw(pp.get_param());
2136: 			    float z = pp.safe_atof_with_throw(pp.get_param());
2137:                 
2138:                 p-&gt;SetPos1(x, y, z);
2139:             }
2140:         }        
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/gm_op.cpp.cpp" line="2727" id="suspicious" subid="unConditionalBreakinLoop" severity="Warning" msg="An unconditional &apos;break/return/goto&apos; within a loop.It may be a mistake." web_identify="{&quot;identify&quot;:&quot;;&quot;}" func_info="CFrameOperate::OperRes CLASS_SCENE_E_C2S_ROOM_CHAT::do_with_role ( )" content="2717:                 }
2718:                 else if (2 == opt)
2719:                 {
2720:                     auto is_first = pp.safe_atoi_with_throw(pp.get_param());
2721:                     // 删除场景空气墙 
2722:                     if(is_first ==1)
2723:                     {//删除第一个空气墙
2724:                         for (auto it = p-&gt;m_scene-&gt;m_air_wall.begin(); it != p-&gt;m_scene-&gt;m_air_wall.end(); ++it)
2725:                         {
2726:                             it-&gt;second-&gt;set_to_be_removed();
2727:                             break;
2728:                         }    
2729:                     }
2730:                     else
2731:                     {//删除最后一个空气墙
2732:                         for (auto it = p-&gt;m_scene-&gt;m_air_wall.rbegin(); it != p-&gt;m_scene-&gt;m_air_wall.rend(); ++it)
2733:                         {
2734:                             it-&gt;second-&gt;set_to_be_removed();
2735:                             break;
2736:                         }
2737:                     }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/gm_op.cpp.cpp" line="2735" id="suspicious" subid="unConditionalBreakinLoop" severity="Warning" msg="An unconditional &apos;break/return/goto&apos; within a loop.It may be a mistake." web_identify="{&quot;identify&quot;:&quot;;&quot;}" func_info="CFrameOperate::OperRes CLASS_SCENE_E_C2S_ROOM_CHAT::do_with_role ( )" content="2725:                         {
2726:                             it-&gt;second-&gt;set_to_be_removed();
2727:                             break;
2728:                         }    
2729:                     }
2730:                     else
2731:                     {//删除最后一个空气墙
2732:                         for (auto it = p-&gt;m_scene-&gt;m_air_wall.rbegin(); it != p-&gt;m_scene-&gt;m_air_wall.rend(); ++it)
2733:                         {
2734:                             it-&gt;second-&gt;set_to_be_removed();
2735:                             break;
2736:                         }
2737:                     }
2738:                 }
2739:                 else if (3 == opt)
2740:                 {
2741:                     // 删除场景空气墙
2742:                     for (auto it = p-&gt;m_scene-&gt;m_air_wall.begin(); it != p-&gt;m_scene-&gt;m_air_wall.end(); ++it)
2743:                     {
2744:                         it-&gt;second-&gt;set_to_be_removed();
2745:                     }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/gm_op.cpp.cpp" line="5128" id="nullpointer" subid="dereferenceBeforeCheck" severity="Serious" msg="Null - checking [netPeer] suggests that it may be null, but it has already been dereferenced at line 548 in function[SetHead]." web_identify="{&quot;identify&quot;:&quot;netPeer&quot;}" func_info="CFrameOperate::OperRes CLASS_SCENE_E_C2S_ROOM_CHAT::do_with_role ( )" content="5118:                     creature-&gt;m_gm_no_die = no_die;
5119:                     resp.set_isok(E_CORRECT);
5120:                 }
5121:                 else
5122:                 {
5123:                     resp.set_isok(E_ERROR_NO_OBJECT);
5124:                 }
5125:             }
5126:             else if (cmd == &quot;setsingle&quot; || cmd == &quot;limit&quot;)  // 2cs
5127:             {
5128:                 if (netPeer)
5129:                 {
5130:                     async_to_xx(SERVER_GS);
5131:                     async_to_xx(SERVER_CS);
5132:                     return OPER_RES_DONNOT_RETURN;
5133:                 }
5134:                 resp.set_isok(E_CORRECT);
5135:             }
5136:             else if (cmd == &quot;ladder&quot;)
5137:             {
5138:                 if (p-&gt;m_scene)
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/gm_op.cpp.cpp" line="528" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_ROOM_CHAT::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_ROOM_CHAT::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_ROOM_CHAT" content="518:     auto logic_base = LogicBase::GetInstance();
519:     if (logic_base)
520:         logic_base-&gt;check_launch_mode_and_abort();
521:     else
522:     {
523:         LERROR(&quot;no logic_base&quot;);
524:     }
525: }
526: }  // namespace
527: 
528: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_ROOM_CHAT)
529: {
530:     auto&amp;&amp; set_isok = [this](int32_t isok) {
531:         this-&gt;resp.set_isok(isok);
532:         return OPER_RES_PROTO;
533:     };
534:     if (p-&gt;m_is_gm == false)
535:     {
536:         LWARN(&quot;E_C2S_ROOM_CHAT role:&quot; &lt;&lt; p-&gt;m_roleid &lt;&lt; &quot;req:&quot; &lt;&lt; g_PBPrinter.getJsonStream(req));
537:         return set_isok(E_ERROR_NO_AUTHORITY);
538:     }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/ladder_op.cpp" line="19" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_GET_ON_LADDER::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_GET_ON_LADDER::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_GET_ON_LADDER" content="9: #include &quot;log4cplus/loggingmacros.h&quot;     // for LOG4CPLUS_MACRO_WARN_LOG_LEVEL
10: #include &quot;mmo3d_func_skill_battle.pb.h&quot;  // for rep_E_C2S_CLIMB_LADDER, rep_...
11: #include &quot;monster_define.h&quot;              // for E_OBJECT_TYPES::E_OBJ_TYPE_L...
12: #include &quot;operate/../data/Carrier.h&quot;     // for Carrier
13: #include &quot;operate/../data/Object.h&quot;      // for Object
14: #include &quot;operate/../data/Scene.h&quot;       // for Scene
15: #include &quot;protocol_define.h&quot;             // for E_ERROR_TYPE::E_ERROR_NOT_ON...
16: #include &quot;protocol_operate.h&quot;            // for CFrameOperate::OperRes::OPER...
17: #include &quot;scene_cmd_factory.h&quot;           // for SCENE_MSG_HANDLE_WITH_ROLE_C...
18: 
19: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_GET_ON_LADDER)
20: {
21: 	auto &amp;recv = req;
22: 	if(p-&gt;m_scene)
23: 	{
24: 		if(p-&gt;m_carrier)		//在载具上
25: 		{
26: 			//先下来
27: 			p-&gt;m_carrier-&gt;get_off(p,p-&gt;m_car_space_id);
28: 		}
29: 
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/ladder_op.cpp" line="57" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_CLIMB_LADDER::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_CLIMB_LADDER::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_CLIMB_LADDER" content="47: 		}
48: 	}
49: 	else
50: 	{
51: 		resp.set_isok(E_ERROR_PLAYER_NOT_IN_SCENE);	//玩家已经不在场景里了
52: 	}
53: 	return OPER_RES_PROTO;
54: }
55: 
56: 
57: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_CLIMB_LADDER)
58: {
59: 	if(p-&gt;m_scene)
60: 	{
61: 		if(p-&gt;m_state != E_STATE_CLIMB_LADDER)
62: 		{
63: 			resp.set_isok(E_ERROR_NOT_ON_LADDER);
64: 		}
65: 		else
66: 		{
67: 			Object* obj = p-&gt;m_scene-&gt;find_obj(p-&gt;m_ladder_id);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/nationwar_op.cpp" line="44" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_BEGIN_INTERACT_WITH_OBJ::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_BEGIN_INTERACT_WITH_OBJ::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_BEGIN_INTERACT_WITH_OBJ" content="34: //
35: //	// 下次要执行的时间，设为0则不再执行
36: //	virtual time_t nextTime()
37: //	{
38: //		return 0;
39: //	}
40: //
41: //	std::function&lt;void()&gt; fun;
42: //};
43: 
44: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_BEGIN_INTERACT_WITH_OBJ)
45: {
46:     auto&amp;&amp; sid = req.sid();
47:     auto&amp;&amp; set_isok = [this](int32_t isok) {
48:         this-&gt;resp.set_isok(isok);
49:         return OPER_RES_PROTO;
50:     };
51:     if (!p-&gt;m_scene)
52:     {
53:         return set_isok(E_ERROR_PLAYER_NOT_IN_SCENE);
54:     }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/retinue_op.cpp" line="48" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_GET_HATED_PLAYERS_LIST::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_GET_HATED_PLAYERS_LIST::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_GET_HATED_PLAYERS_LIST" content="38: //         p-&gt;get_pet()-&gt;initPos(loc, true);
39: //         resp.set_isok(E_CORRECT);
40: //     }
41: //     else
42: //     {
43: //         resp.set_isok(E_ERROR_PET_CHANGE_POSITON_ERROR);
44: //     }
45: //     return OPER_RES_PROTO;
46: // }
47: 
48: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_GET_HATED_PLAYERS_LIST)
49: {
50:     auto&amp;&amp; player_hated_sids = p-&gt;m_hate_list-&gt;get_hated_sids();
51:     for (auto&amp;&amp; sids : player_hated_sids)
52:     {
53:         resp.add_player_hated_sids(sids);
54:     }
55:     // if (p-&gt;is_has_pet() &amp;&amp; p-&gt;is_pet_on())
56:     // {
57:     //     auto&amp;&amp; retinue_hated_sids = p-&gt;get_pet()-&gt;m_hate_list-&gt;get_hated_sids();
58:     //     for (auto&amp;&amp; sids : retinue_hated_sids)
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/sc_arena_op.cpp" line="142" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_GET_ARENA_INFO::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_GET_ARENA_INFO::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_GET_ARENA_INFO" content="132:             Arena3v3RobScore* arena_3v3_logic = dynamic_cast&lt;Arena3v3RobScore*&gt;(mode_logic_pt);
133:             if (arena_3v3_logic)
134:             {
135:                 arena_3v3_logic-&gt;CanclePlayerFlagOccupy(p);
136:             }
137:         }
138:     }
139:     return OPER_RES_PROTO;
140: }
141: 
142: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_GET_ARENA_INFO)
143: {
144:     auto&amp;&amp; set_isok = [this](int32_t isok) {
145:         this-&gt;resp.set_isok(isok);
146:         return OPER_RES_PROTO;
147:     };
148: 
149:     auto&amp;&amp; scene = p-&gt;m_scene;
150:     if (!scene)
151:         return set_isok(E_ERROR_PLAYER_NOT_IN_SCENE);
152: 
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/sc_arena_op.cpp" line="217" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_GS2SC_TALENT_TREE_UPDATE::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_GS2SC_TALENT_TREE_UPDATE::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_GS2SC_TALENT_TREE_UPDATE" content="207:                         pb_team-&gt;set_score(pair.second.score);
208:                         pb_team-&gt;set_flag_num(pair.second.flag_num);
209:                     }
210:                 }
211:             }
212:         }
213:     }
214:     return OPER_RES_PROTO;
215: }
216: 
217: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_GS2SC_TALENT_TREE_UPDATE)
218: {
219:     //p-&gt;LoadTalentTree(false);
220:     return OPER_RES_DONNOT_RETURN;
221: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/sc_arena_op.cpp" line="35" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_START_OCCUPY_FLAG_STRONGHOLD::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_START_OCCUPY_FLAG_STRONGHOLD::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_START_OCCUPY_FLAG_STRONGHOLD" content="25: #include &quot;operate/../data/Scene.h&quot;             // for Scene
26: #include &quot;proto_macro.h&quot;                       // for RESPOND
27: #include &quot;protocol_define.h&quot;                   // for E_ERROR_TYPE::E_ERROR_...
28: #include &quot;protocol_operate.h&quot;                  // for CFrameOperate::OperRes...
29: // #include &quot;s2s_mmo3d.pb.h&quot;
30: #include &quot;scene_cmd_factory.h&quot;                 // for SCENE_MSG_HANDLE_WITH_...
31: #include &quot;scene_server/data/ArenaModeLogic.h&quot;  // for Arena3v3RobScore, Aren...
32: #include &quot;scene_server/data/ArenaRoom.h&quot;       // for ArenaRoom, BF_Player
33: #include &quot;scene_server/data/Collect.h&quot;         // for ArenaFlagStronghold
34: 
35: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_START_OCCUPY_FLAG_STRONGHOLD)
36: {
37:     resp.set_isok(E_CORRECT);
38:     if (!p-&gt;m_scene)
39:     {
40:         return SetIsokAndReturn(E_ERROR_PLAYER_NOT_IN_SCENE);
41:     }
42: 
43:     int32_t sid = req.sid();
44:     Scene* scene_pt = p-&gt;m_scene;
45:     auto it_collect = scene_pt-&gt;m_collects.find(sid);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/sc_arena_op.cpp" line="91" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_STOP_OCCUPY_FLAG_STRONGHOLD::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_STOP_OCCUPY_FLAG_STRONGHOLD::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_STOP_OCCUPY_FLAG_STRONGHOLD" content="81:         // 已经在占据了
82:         return SetIsokAndReturn(E_ERROR_3V3_FLAG_STRONGHOLD_OCCUPYING);
83:     }
84:     flag_pt-&gt;m_occupying_role[arena_player-&gt;teamid].insert(p-&gt;m_roleid);
85:     resp.set_cur_progress(flag_pt-&gt;m_team_occupy_progress[arena_player-&gt;teamid]);
86:     resp.set_op_num(flag_pt-&gt;m_occupying_role[arena_player-&gt;teamid].size());
87:     arena_player-&gt;flag_sid = flag_pt-&gt;m_sid;
88:     return OPER_RES_PROTO;
89: }
90: 
91: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_STOP_OCCUPY_FLAG_STRONGHOLD)
92: {
93:     resp.set_isok(E_CORRECT);
94:     if (!p-&gt;m_scene)
95:     {
96:         return SetIsokAndReturn(E_ERROR_PLAYER_NOT_IN_SCENE);
97:     }
98: 
99:     int32_t sid = req.sid();
100:     Scene* scene_pt = p-&gt;m_scene;
101:     auto it_collect = scene_pt-&gt;m_collects.find(sid);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/sc_decorate_op.cpp" line="18" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_GS2SC_CARD_DECORATE_CHANGE::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_GS2SC_CARD_DECORATE_CHANGE::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_GS2SC_CARD_DECORATE_CHANGE" content="8: #include &quot;log4cplus/loggingmacros.h&quot;          // for LOG4CPLUS_MACRO_INFO_LO...
9: #include &quot;mmo3d_common_struct.pb.h&quot;           // for pair_data
10: #include &quot;mmo3d_fun_transform.pb.h&quot;           // for rep_E_S2C_PUSH_MODEL_INFO
11: #include &quot;operate/../data/SPlayer.h&quot;          // for SPlayer
12: #include &quot;operate/../data/Scene.h&quot;            // for Scene
13: #include &quot;operate/scene_cmd_factory.h&quot;        // for SCENE_MSG_HANDLE_WITH_R...
14: #include &quot;proto_macro.h&quot;                      // for RESPOND
15: #include &quot;protocol_define.h&quot;                  // for E_PROTOCOL::E_GS2SC_CAR...
16: #include &quot;s2s_mmo3d_func_card_decorate.pb.h&quot;  // for req_E_GS2SC_CARD_DECORA...
17: 
18: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_GS2SC_CARD_DECORATE_CHANGE)
19: {
20:     if (p-&gt;m_scene == nullptr) {
21:         return SetIsokAndReturn(E_ERROR_NO_SCENE);
22:     }
23: 
24:     int32_t card_id = p-&gt;GetCurCardCid();
25:     std::map&lt;int32_t, int32_t&gt; change_map;
26: 
27:     for (auto&amp; one : req.decorate_list()) {
28:         if (p-&gt;decorate_map[one.first()] != one.second()) {
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/sc_dungeon_op.cpp" line="1042" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_ASSIST_ENTER_TEAM_DUNGEON::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_ASSIST_ENTER_TEAM_DUNGEON::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_ASSIST_ENTER_TEAM_DUNGEON" content="1032:             LERROR(&quot;no scene, and no return error to client!!!&quot;);
1033:         }
1034:         // p-&gt;player_push_msg(E_C2S_ENTER_DUNGEON, req, SERVER_CS);
1035:         break;
1036:     }
1037:     }
1038: 
1039:     return OPER_RES_DONNOT_RETURN;
1040: }
1041: 
1042: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_ASSIST_ENTER_TEAM_DUNGEON)
1043: {
1044:     resp.set_isok(E_CORRECT);
1045:     // 转换成E_C2S_ENTER_DUNGEON协议
1046:     // REQUEST(E_C2S_ENTER_DUNGEON) cs_req;
1047:     REQUEST(E_SC2CS_ENTER_DUNGEON) cs_req;
1048:     cs_req.set_dungeon_id(req.dungeon_id());
1049:     cs_req.set_scene_id(req.scene_id());
1050:     cs_req.mutable_pos()-&gt;CopyFrom(req.pos());
1051:     // p-&gt;player_push_msg(E_C2S_ENTER_DUNGEON, cs_req, SERVER_CS);
1052:     p-&gt;player_push_msg(E_SC2CS_ENTER_DUNGEON, cs_req, SERVER_CS);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/sc_dungeon_op.cpp" line="1056" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_GS2SC_SUB_TASK_COMPLETE::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_GS2SC_SUB_TASK_COMPLETE::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_GS2SC_SUB_TASK_COMPLETE" content="1046:     // REQUEST(E_C2S_ENTER_DUNGEON) cs_req;
1047:     REQUEST(E_SC2CS_ENTER_DUNGEON) cs_req;
1048:     cs_req.set_dungeon_id(req.dungeon_id());
1049:     cs_req.set_scene_id(req.scene_id());
1050:     cs_req.mutable_pos()-&gt;CopyFrom(req.pos());
1051:     // p-&gt;player_push_msg(E_C2S_ENTER_DUNGEON, cs_req, SERVER_CS);
1052:     p-&gt;player_push_msg(E_SC2CS_ENTER_DUNGEON, cs_req, SERVER_CS);
1053:     return OPER_RES_PROTO;
1054: }
1055: 
1056: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_GS2SC_SUB_TASK_COMPLETE) { return OPER_RES_DONNOT_RETURN; }
1057: 
1058: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_GS2SC_ENTER_SCENE_DONE_FINISH)
1059: {
1060:     LDEBUG(&quot;E_GS2SC_ENTER_SCENE_DONE_FINISH : &quot; &lt;&lt; g_PBPrinter.getJsonStream(req));
1061:     {
1062:         p-&gt;card_star_lv.clear();
1063:         for (auto&amp; one : req.card_brief()) {
1064:             p-&gt;card_star_lv[one.card_id()] = one.star_lv();
1065:         }
1066:     }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/sc_dungeon_op.cpp" line="1058" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_GS2SC_ENTER_SCENE_DONE_FINISH::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_GS2SC_ENTER_SCENE_DONE_FINISH::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_GS2SC_ENTER_SCENE_DONE_FINISH" content="1048:     cs_req.set_dungeon_id(req.dungeon_id());
1049:     cs_req.set_scene_id(req.scene_id());
1050:     cs_req.mutable_pos()-&gt;CopyFrom(req.pos());
1051:     // p-&gt;player_push_msg(E_C2S_ENTER_DUNGEON, cs_req, SERVER_CS);
1052:     p-&gt;player_push_msg(E_SC2CS_ENTER_DUNGEON, cs_req, SERVER_CS);
1053:     return OPER_RES_PROTO;
1054: }
1055: 
1056: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_GS2SC_SUB_TASK_COMPLETE) { return OPER_RES_DONNOT_RETURN; }
1057: 
1058: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_GS2SC_ENTER_SCENE_DONE_FINISH)
1059: {
1060:     LDEBUG(&quot;E_GS2SC_ENTER_SCENE_DONE_FINISH : &quot; &lt;&lt; g_PBPrinter.getJsonStream(req));
1061:     {
1062:         p-&gt;card_star_lv.clear();
1063:         for (auto&amp; one : req.card_brief()) {
1064:             p-&gt;card_star_lv[one.card_id()] = one.star_lv();
1065:         }
1066:     }
1067: 
1068:     bool m_re_login = req.re_login();
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/sc_dungeon_op.cpp" line="1099" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_REQUEST_TEAM_DUNGEON_ASSIST::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_REQUEST_TEAM_DUNGEON_ASSIST::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_REQUEST_TEAM_DUNGEON_ASSIST" content="1089:         if (athletic_pp)
1090:         {
1091:             SCTeamAthletics* ahletic_pt = *athletic_pp;
1092:             ahletic_pt-&gt;PlayerEnter(p);
1093:         }
1094:     }
1095:     p-&gt;SyncSceneMapToCS();
1096:     return OPER_RES_DONNOT_RETURN;
1097: }
1098: 
1099: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_REQUEST_TEAM_DUNGEON_ASSIST)
1100: {
1101:     resp.set_isok(E_CORRECT);
1102:     if (p &amp;&amp; p-&gt;m_scene &amp;&amp; p-&gt;m_scene-&gt;m_dungeon)
1103:     {
1104:         REQUEST(E_SC2GS_REQUEST_TEAM_DUNGEON_ASSIST) gs_req;
1105:         gs_req.set_role_id(req.role_id());
1106:         gs_req.set_dungeon_id(p-&gt;m_scene-&gt;m_dungeon-&gt;GetDungeonId());
1107:         gs_req.set_task_id(p-&gt;m_scene-&gt;m_dungeon-&gt;GetCreateParam().task_id());
1108:         p-&gt;player_push_msg(E_SC2GS_REQUEST_TEAM_DUNGEON_ASSIST, gs_req, SERVER_GS);
1109:     }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/sc_dungeon_op.cpp" line="1167" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_CS2SC_EXIT_DUNGEON::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_CS2SC_EXIT_DUNGEON::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_CS2SC_EXIT_DUNGEON" content="1157: //         }
1158: //     }
1159: //     else
1160: //     {
1161: //         resp.set_isok(E_ERROR_PARAM_ERROR);
1162: //     }
1163: //     resp.SerializeToString(&amp;content);
1164: //     return OPER_RES_PROTO;
1165: // }
1166: 
1167: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_CS2SC_EXIT_DUNGEON)
1168: {
1169:     LDEBUG(&quot;E_CS2SC_EXIT_DUNGEON&quot;);
1170:     SPlayer* p = g_ScGlobalData.get_player_byid(role_id);
1171:     if (!p) {
1172:         return SetIsokAndReturn(E_ERROR_DUNGEON_NOT_FOUND_ROLE);
1173:     }
1174:     resp.set_isok(E_CORRECT);
1175:     if (p-&gt;m_scene &amp;&amp; p-&gt;m_scene-&gt;m_dungeon) {
1176:         LDEBUG(&quot;E_CS2SC_EXIT_DUNGEON m_dungeon &quot; &lt;&lt; p-&gt;m_scene-&gt;m_dungeon-&gt;dungeon_id_ &lt;&lt; &quot;,type:&quot; &lt;&lt; p-&gt;m_scene-&gt;m_dungeon-&gt;GetDungeonType());
1177:         if(req.abort() ==1 || E_DUNGEON_TYPE_TRICKTOWER_ONCE == p-&gt;m_scene-&gt;m_dungeon-&gt;GetDungeonType()) {
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/sc_dungeon_op.cpp" line="1251" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_XS2SC_NEED_ENTER_DUNGEON::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_XS2SC_NEED_ENTER_DUNGEON::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_XS2SC_NEED_ENTER_DUNGEON" content="1241:                                                                                        &lt;&lt; &quot;, roleid:&quot; &lt;&lt; role_id);
1242:                 }
1243:             },
1244:             MakeSendMessageEnv());
1245:         CommonFunctions::ForwardMessageCross(gs_req, E_S2GS_QUERY_SAVED_MAP_POS_INFO, req_no,zone_id, SERVER_GS, 0);
1246:         return OPER_RES_DONNOT_RETURN;
1247:     }
1248:     return OPER_RES_PROTO;
1249: }
1250: 
1251: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_XS2SC_NEED_ENTER_DUNGEON)
1252: {
1253:     resp.set_isok(E_CORRECT);
1254:     if (p &amp;&amp; p-&gt;m_scene)
1255:     {
1256:         // 如果已经在副本中,就不允许拉人
1257:         auto it_scene = g_ConstData.get_m_Scene().find(p-&gt;m_scene-&gt;m_excel_id);
1258:         if (it_scene != g_ConstData.get_m_Scene().end())
1259:         {
1260:             if (!InterfaceHelper::IsPermanentScene(ConstDataHelper::GetSceneCopyType(it_scene-&gt;second)))
1261:             {
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/sc_dungeon_op.cpp" line="1285" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_GS2SC_REDIREC_GET_DUNGEON_TASK::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_GS2SC_REDIREC_GET_DUNGEON_TASK::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_GS2SC_REDIREC_GET_DUNGEON_TASK" content="1275:                 cs_req.mutable_pos()-&gt;set_y(p-&gt;getCurPos().p2d.y);
1276:                 cs_req.mutable_pos()-&gt;set_layer(p-&gt;getCurPos().layer);
1277:                 p-&gt;player_push_msg(E_SC2CS_ENTER_DUNGEON, cs_req, SERVER_CS);
1278:             }
1279:         }
1280:     }
1281:     // return OPER_RES_BINARY;
1282:     return OPER_RES_DONNOT_RETURN;
1283: }
1284: 
1285: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_GS2SC_REDIREC_GET_DUNGEON_TASK)
1286: {
1287:     REQUEST(E_C2S_GET_TASK) clt_req = req.origin_msg();
1288:     RESPOND(E_C2S_GET_TASK) clt_resp;
1289:     clt_resp.set_isok(E_CORRECT);
1290:     int32_t task_id = clt_req.task_id();
1291:     if (!p-&gt;m_scene)
1292:         clt_resp.set_isok(E_ERROR_OBJ_OUT_SCENE);
1293: 
1294:     if (E_CORRECT != clt_resp.isok())
1295:     {
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/sc_dungeon_op.cpp" line="1300" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [p.m_scene] to null at line 1291 implies that [p.m_scene ] might be null.Dereferencing null pointer [p.m_scene]." web_identify="{&quot;identify&quot;:&quot;p.m_scene&quot;}" func_info="CFrameOperate::OperRes CLASS_SCENE_E_GS2SC_REDIREC_GET_DUNGEON_TASK::do_with_role ( )" content="1290:     int32_t task_id = clt_req.task_id();
1291:     if (!p-&gt;m_scene)
1292:         clt_resp.set_isok(E_ERROR_OBJ_OUT_SCENE);
1293: 
1294:     if (E_CORRECT != clt_resp.isok())
1295:     {
1296:         g_ScGlobalData.push_alone_msg(E_C2S_GET_TASK, clt_resp, p-&gt;m_roleid);
1297:         return OPER_RES_DONNOT_RETURN;
1298:     }
1299: 
1300:     if (!p-&gt;m_scene-&gt;m_dungeon)
1301:         clt_resp.set_isok(E_ERROR_OBJ_OUT_SCENE);
1302: 
1303:     if (E_CORRECT != clt_resp.isok())
1304:     {
1305:         g_ScGlobalData.push_alone_msg(E_C2S_GET_TASK, clt_resp, p-&gt;m_roleid);
1306:         return OPER_RES_DONNOT_RETURN;
1307:     }
1308:     // 接取dungeon任务
1309:     SCDungeon* dungeon_pt = p-&gt;m_scene-&gt;m_dungeon;
1310:     auto task_pt = dungeon_pt-&gt;GetTaskMgr().GetTaskById(task_id);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/sc_dungeon_op.cpp" line="1327" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_GS2SC_REDIREC_TALK_SCHEDULE_DUNGEON_TASK::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_GS2SC_REDIREC_TALK_SCHEDULE_DUNGEON_TASK::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_GS2SC_REDIREC_TALK_SCHEDULE_DUNGEON_TASK" content="1317:         dungeon_pt-&gt;GetTaskMgr().PushTaskInfoToOnePlayer(task_id, p-&gt;m_roleid);
1318: 
1319:         return OPER_RES_DONNOT_RETURN;
1320:     }
1321:     dungeon_pt-&gt;GetTaskMgr().ChangeTaskStatus(task_id, E_TASK_ACCEPTED);
1322: 
1323:     g_ScGlobalData.push_alone_msg(E_C2S_GET_TASK, clt_resp, p-&gt;m_roleid);
1324:     return OPER_RES_DONNOT_RETURN;
1325: }
1326: 
1327: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_GS2SC_REDIREC_TALK_SCHEDULE_DUNGEON_TASK)
1328: {
1329:     REQUEST(E_C2S_TALK_SCHEDULE) clt_req = req.origin_msg();
1330:     RESPOND(E_C2S_TALK_SCHEDULE) clt_resp;
1331:     clt_resp.set_isok(E_CORRECT);
1332:     int32_t task_id = clt_req.task_id();
1333:     if (!p-&gt;m_scene)
1334:         clt_resp.set_isok(E_ERROR_OBJ_OUT_SCENE);
1335: 
1336:     if (E_CORRECT != clt_resp.isok())
1337:     {
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/sc_dungeon_op.cpp" line="1342" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [p.m_scene] to null at line 1333 implies that [p.m_scene ] might be null.Dereferencing null pointer [p.m_scene]." web_identify="{&quot;identify&quot;:&quot;p.m_scene&quot;}" func_info="CFrameOperate::OperRes CLASS_SCENE_E_GS2SC_REDIREC_TALK_SCHEDULE_DUNGEON_TASK::do_with_role ( )" content="1332:     int32_t task_id = clt_req.task_id();
1333:     if (!p-&gt;m_scene)
1334:         clt_resp.set_isok(E_ERROR_OBJ_OUT_SCENE);
1335: 
1336:     if (E_CORRECT != clt_resp.isok())
1337:     {
1338:         g_ScGlobalData.push_alone_msg(E_C2S_TALK_SCHEDULE, clt_resp, p-&gt;m_roleid);
1339:         return OPER_RES_DONNOT_RETURN;
1340:     }
1341: 
1342:     if (!p-&gt;m_scene-&gt;m_dungeon)
1343:         clt_resp.set_isok(E_ERROR_OBJ_OUT_SCENE);
1344: 
1345:     if (E_CORRECT != clt_resp.isok())
1346:     {
1347:         g_ScGlobalData.push_alone_msg(E_C2S_TALK_SCHEDULE, clt_resp, p-&gt;m_roleid);
1348:         return OPER_RES_DONNOT_RETURN;
1349:     }
1350: 
1351:     SCDungeon* dungeon_pt = p-&gt;m_scene-&gt;m_dungeon;
1352:     auto it_task = g_ConstData.get_m_mmo_x_Task().find(task_id);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/sc_dungeon_op.cpp" line="1363" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_GS2SC_REDIREC_GET_DUNGEON_TASK_REWARD::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_GS2SC_REDIREC_GET_DUNGEON_TASK_REWARD::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_GS2SC_REDIREC_GET_DUNGEON_TASK_REWARD" content="1353:     if (it_task != g_ConstData.get_m_mmo_x_Task().end()) {
1354:         dungeon_pt-&gt;GetTaskMgr().AddTaskSchedule(static_cast&lt;ETaskTargetType&gt;(it_task-&gt;second-&gt;target_type()), clt_req.aim_id(), 1);
1355:     } else {
1356:         dungeon_pt-&gt;GetTaskMgr().AddTaskSchedule(ETaskTargetType::E_TASK_TARGET_TALK, clt_req.aim_id(), 1);
1357:     }
1358: 
1359:     g_ScGlobalData.push_alone_msg(E_C2S_TALK_SCHEDULE, clt_resp, p-&gt;m_roleid);
1360:     return OPER_RES_DONNOT_RETURN;
1361: }
1362: 
1363: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_GS2SC_REDIREC_GET_DUNGEON_TASK_REWARD)
1364: {
1365:     REQUEST(E_C2S_GET_AWARD) clt_req = req.origin_msg();
1366:     RESPOND(E_C2S_GET_AWARD) clt_resp;
1367:     clt_resp.set_isok(E_CORRECT);
1368:     int32_t task_id = clt_req.task_id();
1369:     if (!p-&gt;m_scene)
1370:         clt_resp.set_isok(E_ERROR_OBJ_OUT_SCENE);
1371: 
1372:     if (E_CORRECT != clt_resp.isok()) {
1373:         g_ScGlobalData.push_alone_msg(E_C2S_GET_AWARD, clt_resp, p-&gt;m_roleid);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/sc_dungeon_op.cpp" line="1377" id="nullpointer" subid="dereferenceAfterCheck" severity="Serious" msg="Comparing [p.m_scene] to null at line 1369 implies that [p.m_scene ] might be null.Dereferencing null pointer [p.m_scene]." web_identify="{&quot;identify&quot;:&quot;p.m_scene&quot;}" func_info="CFrameOperate::OperRes CLASS_SCENE_E_GS2SC_REDIREC_GET_DUNGEON_TASK_REWARD::do_with_role ( )" content="1367:     clt_resp.set_isok(E_CORRECT);
1368:     int32_t task_id = clt_req.task_id();
1369:     if (!p-&gt;m_scene)
1370:         clt_resp.set_isok(E_ERROR_OBJ_OUT_SCENE);
1371: 
1372:     if (E_CORRECT != clt_resp.isok()) {
1373:         g_ScGlobalData.push_alone_msg(E_C2S_GET_AWARD, clt_resp, p-&gt;m_roleid);
1374:         return OPER_RES_DONNOT_RETURN;
1375:     }
1376: 
1377:     if (!p-&gt;m_scene-&gt;m_dungeon)
1378:         clt_resp.set_isok(E_ERROR_OBJ_OUT_SCENE);
1379: 
1380:     if (E_CORRECT != clt_resp.isok()) {
1381:         g_ScGlobalData.push_alone_msg(E_C2S_GET_AWARD, clt_resp, p-&gt;m_roleid);
1382:         return OPER_RES_DONNOT_RETURN;
1383:     }
1384: 
1385:     SCDungeon* dungeon_pt = p-&gt;m_scene-&gt;m_dungeon;
1386:     task_t* task_pt = dungeon_pt-&gt;GetTaskMgr().GetTaskById(task_id);
1387:     if (task_pt == nullptr) {
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/sc_dungeon_op.cpp" line="1442" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_START_TEAM_READY::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_START_TEAM_READY::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_START_TEAM_READY" content="1432: 
1433:     // 任务完成需要回复
1434:     if (task_pt-&gt;get_status() == E_TASK_FINISH) {
1435:         REQUEST(E_SC2GS_TASK_FINISH) push;
1436:         push.set_task_id(task_id);
1437:         p-&gt;player_push_msg(E_SC2GS_TASK_FINISH, push, SERVER_GS);
1438:     }
1439:     return OPER_RES_DONNOT_RETURN;
1440: }
1441: 
1442: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_START_TEAM_READY)
1443: {
1444:     if (!p-&gt;m_scene)
1445:     {
1446:         LWARN(&quot;async_callcb, E_C2S_START_TEAM_READY :&quot; &lt;&lt; role_id);
1447:         return SetIsokAndReturn(E_ERROR_MAP_CANNOT_DO_TEAM_READY);
1448:     }
1449:     auto it_scene = g_ConstData.get_m_Scene().find(p-&gt;m_scene-&gt;m_excel_id);
1450:     if (it_scene != g_ConstData.get_m_Scene().end())
1451:     {
1452:         if (!InterfaceHelper::IsPermanentScene(ConstDataHelper::GetSceneCopyType(it_scene-&gt;second)))
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/sc_dungeon_op.cpp" line="1620" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_REPLY_TEAM_READY::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_REPLY_TEAM_READY::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_REPLY_TEAM_READY" content="1610:     //	{
1611:     //		resp.set_isok(E_ERROR_MAP_CANNOT_DO_TEAM_READY);
1612:     //		return OPER_RES_STRING;
1613:     //	}
1614:     //}
1615:     ////转到CS继续处理
1616:     // p-&gt;player_push_msg(E_C2S_START_TEAM_READY, req, SERVER_CS);
1617:     // return OPER_RES_DONNOT_RETURN;
1618: }
1619: 
1620: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_REPLY_TEAM_READY)
1621: {
1622: 
1623:     if (!p-&gt;m_scene)
1624:     {
1625:         return SetIsokAndReturn(E_ERROR_MAP_CANNOT_DO_TEAM_READY);
1626:     }
1627:     if (req.state() == E_TEAM_READY_STATE_END)
1628:     {
1629:         // 检测所在地图能否就绪确认
1630:         auto it_scene = g_ConstData.get_m_Scene().find(p-&gt;m_scene-&gt;m_excel_id);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/sc_dungeon_op.cpp" line="1732" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_ASK_DUNGEON_UN_FINISHED_EVENT::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_ASK_DUNGEON_UN_FINISHED_EVENT::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_ASK_DUNGEON_UN_FINISHED_EVENT" content="1722:     //		{
1723:     //			resp.set_isok(E_ERROR_MAP_CANNOT_DO_TEAM_READY);
1724:     //			return OPER_RES_STRING;
1725:     //		}
1726:     //	}
1727:     //}
1728:     // p-&gt;player_push_msg(E_C2S_REPLY_TEAM_READY, req, SERVER_CS);
1729:     // return OPER_RES_DONNOT_RETURN;
1730: }
1731: 
1732: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_ASK_DUNGEON_UN_FINISHED_EVENT)
1733: {
1734:     LDEBUG(&quot;X630 E_C2S_ASK_DUNGEON_UN_FINISHED_EVENT&quot;);
1735:     resp.set_isok(E_CORRECT);
1736:     if (p-&gt;m_scene &amp;&amp; p-&gt;m_scene-&gt;m_dungeon)
1737:     {
1738:         p-&gt;m_scene-&gt;m_dungeon-&gt;PushWaitClientEvent(p);
1739:         p-&gt;m_scene-&gt;m_dungeon-&gt;receive_ask_unfinished = Tools::game_now();
1740: #if 0 // 暂时注释掉 E_SCTRG_EVENT_PLAYER_ENTER_DUNGEON
1741:         LDEBUG(&quot;E_C2S_ASK_DUNGEON_UN_FINISHED_EVENT E_SCTRG_EVENT_PLAYER_ENTER_DUNGEON&quot;);
1742:         SCTrgNumberCommonEvent trg_event(E_SCTRG_EVENT_PLAYER_ENTER_DUNGEON, p-&gt;m_scene-&gt;m_dungeon-&gt;GetDungeonId());
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/sc_dungeon_op.cpp" line="1750" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_DUNGEON_LOADING_OVER::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_DUNGEON_LOADING_OVER::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_DUNGEON_LOADING_OVER" content="1740: #if 0 // 暂时注释掉 E_SCTRG_EVENT_PLAYER_ENTER_DUNGEON
1741:         LDEBUG(&quot;E_C2S_ASK_DUNGEON_UN_FINISHED_EVENT E_SCTRG_EVENT_PLAYER_ENTER_DUNGEON&quot;);
1742:         SCTrgNumberCommonEvent trg_event(E_SCTRG_EVENT_PLAYER_ENTER_DUNGEON, p-&gt;m_scene-&gt;m_dungeon-&gt;GetDungeonId());
1743:         trg_event.Trigger(p);
1744: #endif
1745:     }
1746: 
1747:     return OPER_RES_PROTO;
1748: }
1749: 
1750: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_DUNGEON_LOADING_OVER)
1751: {
1752:     int32_t dungeon_id = req.dungeon_id();
1753:     LDEBUG(&quot;X630 loading_over dungeon_id &quot; &lt;&lt; dungeon_id);
1754: 
1755:     if (p-&gt;m_scene != nullptr &amp;&amp; p-&gt;m_scene-&gt;m_dungeon != nullptr) {
1756:         // 开始计时
1757:         p-&gt;m_scene-&gt;m_dungeon-&gt;is_start_count_time_ = true;
1758: 
1759:         p-&gt;m_scene-&gt;m_loading_over.insert(p-&gt;getPlayerId());
1760:         if (p-&gt;m_scene-&gt;m_first_player_loading_time &lt;= 0) {
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/sc_dungeon_op.cpp" line="1799" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_GS2SC_PLAYER_ADD_PVE_DROP::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_GS2SC_PLAYER_ADD_PVE_DROP::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_GS2SC_PLAYER_ADD_PVE_DROP" content="1789:     }
1790: 
1791:     SCTrgNumberCommonEvent trg_event(E_SCTRG_EVENT_3D_TALK_FINISH, req.talk_3d_id());
1792:     trg_event.Trigger(p-&gt;m_scene);
1793:     LDEBUG(&quot;3d_talk_end&quot;);
1794:     TRIGGER_HOOK(player_dungeon_trigger_3d_talk_end, p, CVarList() &lt;&lt; req.talk_3d_id());
1795:     resp.set_isok(E_CORRECT);
1796:     return OPER_RES_PROTO;
1797: }
1798: 
1799: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_GS2SC_PLAYER_ADD_PVE_DROP)
1800: {
1801:     if (p-&gt;m_scene == nullptr || p-&gt;m_scene-&gt;m_dungeon == nullptr) {
1802:         return OPER_RES_DONNOT_RETURN;
1803:     }
1804: 
1805:     for (auto one : req.drop_list()) {
1806:         p-&gt;m_scene-&gt;m_dungeon-&gt;m_player_drop_map[one.first()] += one.second();
1807:     }
1808:          
1809:     return OPER_RES_DONNOT_RETURN;
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/sc_dungeon_op.cpp" line="1812" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_GUIDE_OVER::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_GUIDE_OVER::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_GUIDE_OVER" content="1802:         return OPER_RES_DONNOT_RETURN;
1803:     }
1804: 
1805:     for (auto one : req.drop_list()) {
1806:         p-&gt;m_scene-&gt;m_dungeon-&gt;m_player_drop_map[one.first()] += one.second();
1807:     }
1808:          
1809:     return OPER_RES_DONNOT_RETURN;
1810: }
1811: 
1812: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_GUIDE_OVER)
1813: {
1814:     SCTrgNumberCommonEvent trg_event(E_SCTRG_EVENT_GUIDE_OVER, req.id());
1815:     trg_event.Trigger(p-&gt;m_scene);
1816:     resp.set_id(req.id());
1817: 
1818: 	if (p-&gt;m_scene != nullptr &amp;&amp; p-&gt;m_scene-&gt;m_dungeon != nullptr) {
1819: 		SCDungeon* dungeon = p-&gt;m_scene-&gt;m_dungeon;
1820: 		if (dungeon != nullptr) {
1821: 			int64_t game_now = Tools::game_now();
1822: 			int64_t offset_time = dungeon-&gt;start_guide_time_ - game_now;
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/sc_dungeon_op.cpp" line="1837" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_SLOW_MOTION_OVER::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_SLOW_MOTION_OVER::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_SLOW_MOTION_OVER" content="1827: 			dungeon-&gt;start_guide_time_ = 0;
1828: 		}
1829: 
1830: 		dungeon-&gt;PushDungeonProgress();
1831: 	}
1832: 
1833:     resp.set_isok(E_CORRECT);
1834:     return OPER_RES_PROTO;
1835: }
1836: 
1837: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_SLOW_MOTION_OVER)
1838: {
1839:     SCTrgNumberCommonEvent trg_event(E_SCTRG_EVENT_PLAY_SLOW_MOTION_OVER, 0);
1840:     trg_event.Trigger(p-&gt;m_scene);
1841: 
1842:     resp.set_isok(E_CORRECT);
1843:     return OPER_RES_PROTO;
1844: }
1845: 
1846: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_DUNGEON_STAGE_START)
1847: {
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/sc_dungeon_op.cpp" line="1846" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_DUNGEON_STAGE_START::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_DUNGEON_STAGE_START::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_DUNGEON_STAGE_START" content="1836: 
1837: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_SLOW_MOTION_OVER)
1838: {
1839:     SCTrgNumberCommonEvent trg_event(E_SCTRG_EVENT_PLAY_SLOW_MOTION_OVER, 0);
1840:     trg_event.Trigger(p-&gt;m_scene);
1841: 
1842:     resp.set_isok(E_CORRECT);
1843:     return OPER_RES_PROTO;
1844: }
1845: 
1846: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_DUNGEON_STAGE_START)
1847: {
1848:     // 重置出生点
1849:     if (p-&gt;m_scene &amp;&amp; nullptr != p-&gt;m_scene-&gt;m_dungeon) {
1850:         p-&gt;m_scene-&gt;m_dungeon-&gt;ResetPlayerBirthPosAndFace(p);
1851: 
1852:         // 切换阵容 
1853:         if(true == p-&gt;m_scene-&gt;m_dungeon-&gt;switchNextRound())
1854:         {
1855:             p-&gt;m_scene-&gt;m_dungeon-&gt;TransformCards(p);
1856:         }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/sc_dungeon_op.cpp" line="81" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_ENTER_DUNGEON::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_ENTER_DUNGEON::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_ENTER_DUNGEON" content="71: #include &quot;s2s_mmo3d_func_task.pb.h&quot;
72: #include &quot;s2s_mmo3d_func_team.pb.h&quot;
73: #include &quot;s2s_mmo3d_func_tricktower_round.pb.h&quot;
74: #include &quot;scene_cmd_factory.h&quot;
75: #include &quot;scene_dungeon_define.h&quot;
76: #include &quot;scene_server/data/SCTeamAthletics.h&quot;
77: #include &quot;server_config.h&quot;
78: #include &quot;task.h&quot;
79: #include &quot;task_define.h&quot;
80: 
81: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_ENTER_DUNGEON)
82: {
83:     LDEBUG(&quot;E_C2S_ENTER_DUNGEON-TRAP_TOWER3-: &quot; &lt;&lt; g_PBPrinter.getJsonStream(req));
84:     // 由于组队副本的一些组队流程要求，放到这里处理上层队伍过程
85:     resp.set_isok(E_ERROR_PARAM_ERROR);
86:     int32_t dungeon_id = req.dungeon_id();
87: 
88: 
89:     auto  chapter_id = req.plot_dungeon().chapter_id();
90:     auto  number = req.plot_dungeon().number();
91:     auto  difficulty = req.plot_dungeon().difficulty();
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/sc_dynamic_op.cpp" line="136" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_CHOOSE_TALK_ITEM::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_CHOOSE_TALK_ITEM::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_CHOOSE_TALK_ITEM" content="126:         }
127:         else
128:         {
129:             resp.set_isok(E_ERROR_NO_OBJECT);
130:             return OPER_RES_PROTO;
131:         }
132:     }
133:     return OPER_RES_DONNOT_RETURN;
134: }
135: 
136: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_CHOOSE_TALK_ITEM)
137: {
138:     LDEBUG(&quot;E_C2S_CHOOSE_TALK_ITEM:&quot; &lt;&lt; g_PBPrinter.getJsonStream(req));
139:     resp.set_isok(E_CORRECT);
140:     int32_t choose_type = req.choose_type();
141:     enum EChooseType
142:     {
143:         E_CHOOSE_TYPE_ENTER_DUNGEON = 1,       // 进入副本
144:         E_CHOOSE_TYPE_TALK = 2,                // 对话
145:         E_CHOOSE_TYPE_EXIT = 3,                // 退出
146:         E_CHOOSE_TYPE_BUY_DRINK = 4,           // 买酒
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/sc_dynamic_op.cpp" line="259" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_PLAYER_NPC_TALK::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_PLAYER_NPC_TALK::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_PLAYER_NPC_TALK" content="249:             }
250:             break;
251:         }
252:         default: { break;
253:         }
254:         }
255:     }
256:     return OPER_RES_PROTO;
257: }
258: 
259: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_PLAYER_NPC_TALK)
260: {
261:     LDEBUG(&quot;E_C2S_PLAYER_NPC_TALK:&quot; &lt;&lt; g_PBPrinter.getJsonStream(req));
262:     int32_t npc_sid = req.npc_sid();
263:     resp.set_isok(E_CORRECT);
264:     RESPOND(E_S2C_PUSH_NPC_TALK) push;
265:     push.set_npc_sid(npc_sid);
266:     push.set_talk_text(req.talk_text());
267:     if (p-&gt;m_scene)
268:     {
269:         Scene* scene = p-&gt;m_scene;
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/sc_dynamic_op.cpp" line="361" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_NPC_TALK_HEART::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_NPC_TALK_HEART::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_NPC_TALK_HEART" content="351: //		//LDEBUG(&quot;g_ScGlobalData.InitSceneData()&quot;);
352: //		//g_ScGlobalData.RecoverSceneDynamicNpc();
353: //		//g_SceneServer.set_flag_ready();
354: //		g_SceneServer.FinishDefer(LogicBase::EDI_SC_DYNAMIC_NPC);
355: //	}
356: //	else
357: //		g_SceneServer.ErrorFinishDefer(LogicBase::EDI_SC_DYNAMIC_NPC);
358: //	return OPER_RES_DONNOT_RETURN;
359: //}
360: 
361: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_NPC_TALK_HEART)
362: {
363:     LDEBUG(&quot;E_C2S_NPC_TALK_HEART:&quot; &lt;&lt; g_PBPrinter.getJsonStream(req));
364:     int32_t npc_sid = req.npc_sid();
365:     int32_t npc_id = req.npc_id();
366:     auto it_cfg = g_ConstData.get_m_mmo_x_Npc().find(npc_id);
367:     if (it_cfg != g_ConstData.get_m_mmo_x_Npc().end() &amp;&amp; it_cfg-&gt;second-&gt;choose_id_size() == 0)
368:     {
369:         resp.set_isok(E_CORRECT);
370:         return OPER_RES_PROTO;
371:     }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/sc_dynamic_op.cpp" line="44" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_GET_NPC_TALK_CHOOSE::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_GET_NPC_TALK_CHOOSE::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_GET_NPC_TALK_CHOOSE" content="34: #include &quot;monster_define.h&quot;                         // for E_OBJECT_TYPES::E...
35: #include &quot;operate/../data/Object.h&quot;                 // for Object
36: #include &quot;proto_macro.h&quot;                            // for RESPOND, REQUEST
37: #include &quot;protocol_define.h&quot;                        // for E_ERROR_TYPE::E_C...
38: #include &quot;protocol_operate.h&quot;                       // for CFrameOperate::Op...
39: #include &quot;s2s_mmo3d_func_npc.pb.h&quot;                  // for rep_E_SC2GS_GET_N...
40: // #include &quot;s2s_mmo3d.pb.h&quot;
41: #include &quot;scene_cmd_factory.h&quot;                      // for SCENE_MSG_HANDLE_...
42: 
43: #define NPC_TALK_TIME_SEC (60)
44: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_GET_NPC_TALK_CHOOSE)
45: {
46:     LDEBUG(&quot;E_C2S_GET_NPC_TALK_CHOOSE:&quot; &lt;&lt; g_PBPrinter.getJsonStream(req));
47:     if (req.has_is_only_data() &amp;&amp; req.is_only_data() == 1)
48:     {
49:         p-&gt;player_push_msg(E_C2S_GET_NPC_TALK_CHOOSE, req, SERVER_MN);
50:         return OPER_RES_DONNOT_RETURN;
51:     }
52:     int32_t npc_id = req.npc_id();
53:     auto it_cfg = g_ConstData.get_m_mmo_x_Npc().find(npc_id);
54:     if (it_cfg != g_ConstData.get_m_mmo_x_Npc().end() &amp;&amp; it_cfg-&gt;second-&gt;choose_id_size() == 0)
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/sc_escort_op.cpp" line="21" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_S2S_CREATE_ESCORT_OBJ_GS2SS::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_S2S_CREATE_ESCORT_OBJ_GS2SS::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_S2S_CREATE_ESCORT_OBJ_GS2SS" content="11: #include &quot;operate/../data/BaseMonster.h&quot;    // for BaseMonster
12: #include &quot;operate/../data/Monster2.h&quot;       // for Monster2
13: #include &quot;operate/../data/Object.h&quot;         // for CastBaseMonster
14: #include &quot;operate/../data/SPlayer.h&quot;        // for SPlayer
15: #include &quot;protocol_define.h&quot;                // for E_PROTOCOL::E_S2S_CREATE_...
16: #include &quot;protocol_operate.h&quot;               // for CFrameOperate::OperRes::O...
17: // #include &quot;s2s_mmo3d.pb.h&quot;
18: #include &quot;s2s_mmo3d_func_escort_task.pb.h&quot;  // for req_E_S2S_CREATE_ESCORT_O...
19: #include &quot;scene_cmd_factory.h&quot;              // for SCENE_MSG_HANDLE_WITH_ROL...
20: 
21: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_S2S_CREATE_ESCORT_OBJ_GS2SS)
22: {
23:     auto task_id = req.task_id();
24:     auto monster_id = req.monster_id();
25:     //类型和速度暂时用不到
26:     //auto type = req.type();
27:     //auto speed = req.speed();
28:     auto iter = g_ConstData.get_m_Monster().find(monster_id);
29:     if (iter != g_ConstData.get_m_Monster().end())
30:     {
31:         //刷新到玩家附近（5米）
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/sc_escort_op.cpp" line="44" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_S2S_REMOVE_ESCORT_OBJ_GS2SS::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_S2S_REMOVE_ESCORT_OBJ_GS2SS::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_S2S_REMOVE_ESCORT_OBJ_GS2SS" content="34:         auto monster = g_ScGlobalData.genMonster(p-&gt;m_scene, monster_id, E_FACTION_NEUTRAL, tPos);
35:         if (monster != nullptr)
36:         {
37:             monster-&gt;m_escort_monster = true;
38:             monster-&gt;m_follow_sid = p-&gt;m_sid;
39:             monster-&gt;m_follow_task_id = task_id;
40:         }
41:     }
42:     return OPER_RES_DONNOT_RETURN;
43: }
44: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_S2S_REMOVE_ESCORT_OBJ_GS2SS)
45: {
46:     auto task_id = req.task_id();
47:     //auto monster_id = req.monster_id();
48:     for (auto&amp;&amp; v : g_ScGlobalData.m_objs)
49:     {
50:         // BaseMonster* monster = dynamic_cast&lt;BaseMonster*&gt;(v)
51:         BaseMonster* monster = ObjCaster::CastBaseMonster(v.second);
52:         if (monster != nullptr)
53:         {
54:             if (p-&gt;m_sid == monster-&gt;m_follow_sid &amp;&amp; monster-&gt;m_follow_task_id == task_id &amp;&amp; monster-&gt;m_escort_monster)
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/sc_guild_banquet_op.cpp" line="111" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_GET_GUILD_BANQUET_DATA::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_GET_GUILD_BANQUET_DATA::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_GET_GUILD_BANQUET_DATA" content="101:     LDEBUG(&quot;E_GS2SS_PLAYER_DINNER:&quot; &lt;&lt; g_PBPrinter.getJsonStream(req));
102:     int32_t guild_id = p-&gt;m_guild_id;
103:     auto banquet_it = g_ScGlobalData.m_guild_banquet.find(guild_id);
104:     if (banquet_it != g_ScGlobalData.m_guild_banquet.end())
105:     {
106:         banquet_it-&gt;second-&gt;OnPlayerDinner(p, req.dinner_type(), req.param());
107:     }
108:     return OPER_RES_DONNOT_RETURN;
109: }
110: 
111: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_GET_GUILD_BANQUET_DATA)
112: {
113:     resp.set_isok(E_CORRECT);
114:     int32_t guild_id = p-&gt;m_guild_id;
115:     auto banquet_it = g_ScGlobalData.m_guild_banquet.find(guild_id);
116:     if (banquet_it != g_ScGlobalData.m_guild_banquet.end())
117:     {
118:         resp.mutable_banquet_data()-&gt;CopyFrom(banquet_it-&gt;second-&gt;banquet_info_);
119:     }
120:     return OPER_RES_PROTO;
121: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/sc_guild_banquet_op.cpp" line="123" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_CHANGE_FACE::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_CHANGE_FACE::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_CHANGE_FACE" content="113:     resp.set_isok(E_CORRECT);
114:     int32_t guild_id = p-&gt;m_guild_id;
115:     auto banquet_it = g_ScGlobalData.m_guild_banquet.find(guild_id);
116:     if (banquet_it != g_ScGlobalData.m_guild_banquet.end())
117:     {
118:         resp.mutable_banquet_data()-&gt;CopyFrom(banquet_it-&gt;second-&gt;banquet_info_);
119:     }
120:     return OPER_RES_PROTO;
121: }
122: 
123: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_CHANGE_FACE)
124: {
125:     resp.set_isok(E_CORRECT);
126:     LDEBUG(&quot;E_C2S_CHANGE_FACE:&quot; &lt;&lt; g_PBPrinter.getJsonStream(req));
127:     if (p-&gt;m_scene)
128:     {
129:         Location face_pos;
130:         face_pos.p2d.x = req.pos().x();
131:         face_pos.p2d.y = req.pos().y();
132:         face_pos.layer = req.pos().layer();
133:         p-&gt;ChangeFace(face_pos);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/sc_guild_banquet_op.cpp" line="137" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_GUILD_BANQUET_DRINK::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_GUILD_BANQUET_DRINK::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_GUILD_BANQUET_DRINK" content="127:     if (p-&gt;m_scene)
128:     {
129:         Location face_pos;
130:         face_pos.p2d.x = req.pos().x();
131:         face_pos.p2d.y = req.pos().y();
132:         face_pos.layer = req.pos().layer();
133:         p-&gt;ChangeFace(face_pos);
134:     }
135:     return OPER_RES_PROTO;
136: }
137: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_GUILD_BANQUET_DRINK)
138: {
139:     resp.set_isok(E_CORRECT);
140:     int32_t guild_id = p-&gt;m_guild_id;
141:     int64_t role_id = p-&gt;m_roleid;
142:     auto banquet_it = g_ScGlobalData.m_guild_banquet.find(guild_id);
143:     if (banquet_it != g_ScGlobalData.m_guild_banquet.end())
144:     {
145:         REQUEST(E_SC2GS_GUILD_BANQUET_DRINK) gs_req;
146:         gs_req.set_role_id(role_id);
147:         auto call_back = [guild_id, role_id](google::protobuf::Message&amp; msg,
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/sc_guild_banquet_op.cpp" line="176" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_SUBMIT_DISHES_FOOD::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_SUBMIT_DISHES_FOOD::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_SUBMIT_DISHES_FOOD" content="166:             else
167:             {
168:                 LERROR(&quot;E_SC2GS_GUILD_BANQUET_DRINK failed&quot;);
169:             }
170:         };
171:         g_ScGlobalData.AsyncRequest(E_SC2GS_GUILD_BANQUET_DRINK, gs_req, SERVER_GS, std::move(call_back), 0);
172:     }
173:     return OPER_RES_DONNOT_RETURN;
174: }
175: 
176: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_SUBMIT_DISHES_FOOD)
177: {
178:     resp.set_isok(E_CORRECT);
179:     int32_t guild_id = p-&gt;m_guild_id;
180:     auto banquet_it = g_ScGlobalData.m_guild_banquet.find(guild_id);
181:     if (banquet_it != g_ScGlobalData.m_guild_banquet.end())
182:     {
183:         int32_t add_love = 0;
184:         resp.set_isok(banquet_it-&gt;second-&gt;PlayerSubmitFood(p, req.index(), req.self_food_index(), add_love));
185:         resp.set_love(add_love);
186:     }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/sc_guild_banquet_op.cpp" line="99" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_GS2SS_PLAYER_DINNER::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_GS2SS_PLAYER_DINNER::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_GS2SS_PLAYER_DINNER" content="89:         {
90:             SCGuildBanquet* banquet_pt = it_banquet-&gt;second;
91:             banquet_pt-&gt;scene_pt_ = scene_pt;
92:             banquet_pt-&gt;guild_id_ = guild_id;
93:             banquet_pt-&gt;SetBanquetData(req.mutable_banquet_data());
94:         }
95:     }
96:     return OPER_RES_DONNOT_RETURN;
97: }
98: 
99: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_GS2SS_PLAYER_DINNER)
100: {
101:     LDEBUG(&quot;E_GS2SS_PLAYER_DINNER:&quot; &lt;&lt; g_PBPrinter.getJsonStream(req));
102:     int32_t guild_id = p-&gt;m_guild_id;
103:     auto banquet_it = g_ScGlobalData.m_guild_banquet.find(guild_id);
104:     if (banquet_it != g_ScGlobalData.m_guild_banquet.end())
105:     {
106:         banquet_it-&gt;second-&gt;OnPlayerDinner(p, req.dinner_type(), req.param());
107:     }
108:     return OPER_RES_DONNOT_RETURN;
109: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/sc_guild_op.cpp" line="130" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_GUILD_TRAINIG_CS2SC_DO_PERFORM::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_GUILD_TRAINIG_CS2SC_DO_PERFORM::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_GUILD_TRAINIG_CS2SC_DO_PERFORM" content="120:     {
121:         // TODO:
122:     }
123: 
124:     REQUEST(E_SC2CS_START_GUILD_TRAINING) cs_req;
125:     cs_req.set_role_id(op_role_id);
126:     p-&gt;player_push_msg(E_SC2CS_START_GUILD_TRAINING, cs_req, SERVER_CS);
127:     return OPER_RES_DONNOT_RETURN;
128: }
129: 
130: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_GUILD_TRAINIG_CS2SC_DO_PERFORM)
131: {
132:     // 执行自己的相关动作
133:     int64_t training_id = req.training_id();
134:     int64_t training_role_id = req.training_role_id();
135:     int64_t be_training_role_id = req.be_training_role_id();
136:     //int32_t time_index = req.time_index();
137:     int64_t op_role_id = 0;
138:     if (p-&gt;m_roleid == training_role_id)
139:     {
140:         op_role_id = be_training_role_id;
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/sc_guild_op.cpp" line="253" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_CS2SC_CHANGE_TRAINING_FACE::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_CS2SC_CHANGE_TRAINING_FACE::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_CS2SC_CHANGE_TRAINING_FACE" content="243:             if (talk_size &gt; 1)
244:             {
245:                 tmp = Tools::getRandomNumRange(0, talk_size);
246:             }
247:             p-&gt;TalkSomething(it-&gt;second-&gt;talk_id(tmp));
248:         }
249:     }
250:     return OPER_RES_DONNOT_RETURN;
251: }
252: 
253: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_CS2SC_CHANGE_TRAINING_FACE)
254: {
255:     LDEBUG(&quot;E_CS2SC_CHANGE_TRAINING_FACE&quot;);
256:     if (req.is_self_trainig() == 0)
257:     {
258:         // 双人训练
259:         if (req.is_be_training() == 1)
260:         {
261:             // 生成木装怪
262:             int32_t pos_id = req.pos_id();
263:             int32_t direction_id = req.direction_id();
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/sc_guild_op.cpp" line="385" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_CS2SC_END_GUILD_TRAINING::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_CS2SC_END_GUILD_TRAINING::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_CS2SC_END_GUILD_TRAINING" content="375:                 CommonlyUsedServerCommunation::GsUpdateDailyTask(E_DAILY_TASK_ACT_GUILD_TRAINING, p-&gt;m_roleid);
376:                 LDEBUG(&quot;gen single guild training obj sucess, face=&quot; &lt;&lt; obj_pt-&gt;m_face
377:                                                                      &lt;&lt; &quot;, pos.x:&quot; &lt;&lt; obj_pt-&gt;getCurPos().p2d.x
378:                                                                      &lt;&lt; &quot;,pos.y:&quot; &lt;&lt; obj_pt-&gt;getCurPos().p2d.y);
379:             }
380:         }
381:     }
382:     return OPER_RES_DONNOT_RETURN;
383: }
384: 
385: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_CS2SC_END_GUILD_TRAINING)
386: {
387:     p-&gt;EndGuildTraining();
388:     LDEBUG(&quot;EndGuildTraining, clear train obj&quot;);
389:     return OPER_RES_DONNOT_RETURN;
390: }
391: 
392: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_GUILD_TRAINING_ATTACK_PUPPET)
393: {
394:     resp.set_isok(E_CORRECT);
395:     int32_t obj_sid = p-&gt;m_guild_training_obj;
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/sc_guild_op.cpp" line="392" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_GUILD_TRAINING_ATTACK_PUPPET::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_GUILD_TRAINING_ATTACK_PUPPET::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_GUILD_TRAINING_ATTACK_PUPPET" content="382:     return OPER_RES_DONNOT_RETURN;
383: }
384: 
385: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_CS2SC_END_GUILD_TRAINING)
386: {
387:     p-&gt;EndGuildTraining();
388:     LDEBUG(&quot;EndGuildTraining, clear train obj&quot;);
389:     return OPER_RES_DONNOT_RETURN;
390: }
391: 
392: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_GUILD_TRAINING_ATTACK_PUPPET)
393: {
394:     resp.set_isok(E_CORRECT);
395:     int32_t obj_sid = p-&gt;m_guild_training_obj;
396:     RESPOND(E_S2C_PUSH_PLAYER_GUILD_TRAINING_ATTACK_PUPPET) push;
397:     push.set_player_sid(p-&gt;m_sid);
398:     push.set_puppet_sid(obj_sid);
399:     if (p-&gt;m_scene)
400:     {
401:         p-&gt;m_scene-&gt;broadcast_obj(push, E_S2C_PUSH_PLAYER_GUILD_TRAINING_ATTACK_PUPPET, *p);
402:     }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/sc_guild_op.cpp" line="48" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_CS2XS_CHANGE_PLAYER_GUILD_NAME::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_CS2XS_CHANGE_PLAYER_GUILD_NAME::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_CS2XS_CHANGE_PLAYER_GUILD_NAME" content="38: #include &quot;proto_macro.h&quot;                                     // for RESPOND
39: #include &quot;protocol_define.h&quot;                                 // for E_ERROR_...
40: #include &quot;protocol_operate.h&quot;                                // for CFrameOp...
41: #include &quot;s2s_mmo3d_func_guild.pb.h&quot;                         // for req_E_CS...
42: #include &quot;scene_cmd_factory.h&quot;                               // for SCENE_MS...
43: 
44: namespace protos {
45: class near_object;
46: }  // namespace protos
47: 
48: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_CS2XS_CHANGE_PLAYER_GUILD_NAME)
49: {
50:     //int64_t role_id = req.role_id();
51:     //int32_t guild_id = req.guild_id();
52:     std::string new_name = req.guild_name();
53:     p-&gt;m_guild_name = new_name;
54: 
55:     return OPER_RES_DONNOT_RETURN;
56: }
57: 
58: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_CS2XS_CHANGE_PLAYER_GUILD_BADGE)
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/sc_guild_op.cpp" line="58" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_CS2XS_CHANGE_PLAYER_GUILD_BADGE::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_CS2XS_CHANGE_PLAYER_GUILD_BADGE::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_CS2XS_CHANGE_PLAYER_GUILD_BADGE" content="48: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_CS2XS_CHANGE_PLAYER_GUILD_NAME)
49: {
50:     //int64_t role_id = req.role_id();
51:     //int32_t guild_id = req.guild_id();
52:     std::string new_name = req.guild_name();
53:     p-&gt;m_guild_name = new_name;
54: 
55:     return OPER_RES_DONNOT_RETURN;
56: }
57: 
58: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_CS2XS_CHANGE_PLAYER_GUILD_BADGE)
59: {
60:     LDEBUG(&quot;E_CS2XS_CHANGE_PLAYER_GUILD_BADGE:&quot; &lt;&lt; g_PBPrinter.getJsonStream(req));
61:     p-&gt;m_guild_badge_info.CopyFrom(req.badge_info());
62:     RESPOND(E_S2C_PUSH_NEAR_OBJECTS) p_push;
63:     protos::near_object* p_np = p_push.add_objs();
64:     g_ScGlobalData.set_near_obj_proto(p, p_np);
65:     if (p-&gt;m_scene)
66:     {
67:         p-&gt;m_scene-&gt;broadcast_obj(p_push, E_S2C_PUSH_NEAR_OBJECTS, *p);
68:     }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/sc_guild_op.cpp" line="72" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_CS2XS_SYNC_PLAYER_GUILD_SHOW_INFO::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_CS2XS_SYNC_PLAYER_GUILD_SHOW_INFO::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_CS2XS_SYNC_PLAYER_GUILD_SHOW_INFO" content="62:     RESPOND(E_S2C_PUSH_NEAR_OBJECTS) p_push;
63:     protos::near_object* p_np = p_push.add_objs();
64:     g_ScGlobalData.set_near_obj_proto(p, p_np);
65:     if (p-&gt;m_scene)
66:     {
67:         p-&gt;m_scene-&gt;broadcast_obj(p_push, E_S2C_PUSH_NEAR_OBJECTS, *p);
68:     }
69:     return OPER_RES_DONNOT_RETURN;
70: }
71: 
72: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_CS2XS_SYNC_PLAYER_GUILD_SHOW_INFO)
73: {
74:     LDEBUG(&quot;E_CS2XS_SYNC_PLAYER_GUILD_SHOW_INFO:&quot; &lt;&lt; g_PBPrinter.getJsonStream(req));
75:     int32_t guild_id = req.guild_id();
76:     p-&gt;m_guild_id = guild_id;
77:     p-&gt;m_guild_name = req.guild_name();
78:     p-&gt;m_guild_badge_info.CopyFrom(req.guild_badge_info());
79:     p-&gt;m_guild_job_name_info.CopyFrom(req.guild_job_name_info());
80:     if (p-&gt;m_scene)
81:     {
82:         RESPOND(E_S2C_UPDATE_PLAYER_GUILD_SHOW_INFO) push;
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/sc_guild_op.cpp" line="95" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_START_GUILD_TRAINING::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_START_GUILD_TRAINING::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_START_GUILD_TRAINING" content="85:         push.mutable_guild_badge_info()-&gt;CopyFrom(req.guild_badge_info());
86:         push.mutable_guild_job_name_info()-&gt;CopyFrom(req.guild_job_name_info());
87:         push.set_guild_name(req.guild_name());
88:         push.set_guild_id(p-&gt;m_guild_id);
89:         p-&gt;m_scene-&gt;broadcast_obj(push, E_S2C_UPDATE_PLAYER_GUILD_SHOW_INFO, *p);
90:         p-&gt;player_push_msg(E_S2C_UPDATE_PLAYER_GUILD_SHOW_INFO, push, SERVER_GG);
91:     }
92:     return OPER_RES_DONNOT_RETURN;
93: }
94: 
95: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_START_GUILD_TRAINING)
96: {
97:     LDEBUG(&quot;E_C2S_START_GUILD_TRAINING_req:&quot; &lt;&lt; g_PBPrinter.getJsonStream(req));
98:     int64_t op_role_id = req.role_id();
99:     if (p-&gt;m_scene == nullptr)
100:     {
101:         resp.set_isok(E_ERROR_PARAM_ERROR);
102:         return OPER_RES_BINARY;
103:     }
104:     auto op_player = g_ScGlobalData.get_player_byid(op_role_id);
105:     if (!op_player)
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/sc_player_op.cpp" line="11" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_START_DPS_PUSH::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_START_DPS_PUSH::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_START_DPS_PUSH" content="1: #include &quot;../data/sc_global_data.h&quot;   // for ScGlobalData
2: #include &quot;frame_log.h&quot;                // for Log
3: #include &quot;interface.h&quot;                // for ERROR_RETURN_BACK
4: #include &quot;log4cplus/loggingmacros.h&quot;  // for LOG4CPLUS_MACRO_WARN_LOG_LEVEL
5: #include &quot;mmo3d.pb.h&quot;                 // for req_E_C2S_START_DPS_PUSH, rep_E...
6: #include &quot;operate/../data/SPlayer.h&quot;  // for SPlayer
7: #include &quot;protocol_define.h&quot;          // for E_PROTOCOL::E_C2S_START_DPS_PUSH
8: #include &quot;protocol_operate.h&quot;         // for CFrameOperate::OperRes::OPER_RE...
9: #include &quot;scene_cmd_factory.h&quot;        // for SCENE_MSG_HANDLE_WITH_ROLE_CHECK
10: 
11: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_START_DPS_PUSH)
12: {
13:     auto flag = req.flag();  //0- 1-ر
14: 
15:     if (p-&gt;check_can_record_dps())
16:     {
17:         p-&gt;set_dps_push_switch((flag == 0));
18:     }
19:     else
20:     {
21:         ERROR_RETURN_BACK(E_ERROR_PARAM_ERROR);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/sc_team_op.cpp" line="328" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_CS2SC_GET_CALC_TEAM_EXPBUFF::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_CS2SC_GET_CALC_TEAM_EXPBUFF::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_CS2SC_GET_CALC_TEAM_EXPBUFF" content="318: //         SPlayer* player = g_ScGlobalData.get_player_byid(roleid);
319: //         if (player &amp;&amp; rep.add_exp())
320: //         {
321: //             player-&gt;add_exp(rep.sid(), rep.add_exp());
322: //             LDEBUG(&quot;组队加成经验，add_exp:&quot; &lt;&lt; rep.add_exp());
323: //         }
324: //     }
325: //     return OPER_RES_DONNOT_RETURN;
326: // }
327: 
328: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_CS2SC_GET_CALC_TEAM_EXPBUFF)
329: {
330:     if (p-&gt;m_team_id &gt; 0)
331:     {
332:         p-&gt;m_team_exp_buff = req.add_buff();
333:         LDEBUG(&quot;组队加成经验E_S2S_GET_CALC_TEAM_EXPBUFF，add_expbuff:&quot; &lt;&lt; req.add_buff());
334:     }
335:     else
336:     {
337:         p-&gt;m_team_exp_buff = 10000;
338:     }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/sc_team_op.cpp" line="344" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_GET_NEW_NEAR_PLAYERS::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_GET_NEW_NEAR_PLAYERS::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_GET_NEW_NEAR_PLAYERS" content="334:     }
335:     else
336:     {
337:         p-&gt;m_team_exp_buff = 10000;
338:     }
339: 
340:     //不用返回
341:     return OPER_RES_DONNOT_RETURN;
342: }
343: 
344: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_GET_NEW_NEAR_PLAYERS)
345: {
346:     // REQUEST(E_S2S_GET_NEW_NEAR_PLAYERS) gs_req;
347:     // // 找出场景里的玩家
348:     // int64_t me_player_id = p-&gt;m_roleid;
349:     // gs_req.set_player_id(me_player_id);
350:     // if (p != NULL &amp;&amp; p-&gt;m_scene != NULL)
351:     // {
352:     //     if (p-&gt;m_scene-&gt;m_dungeon &amp;&amp; p-&gt;m_scene-&gt;m_dungeon-&gt;dungeon_type_ == E_DUNGEON_TYPE_TEAM_DIG)
353:     //     {
354:     //         // 挖宝组队副本特殊处理
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/sc_team_op.cpp" line="619" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_ASK_TEAM_LEADER_STATE::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_ASK_TEAM_LEADER_STATE::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_ASK_TEAM_LEADER_STATE" content="609:             SCTeamDungeon* team_dungeon_pt = dynamic_cast&lt;SCTeamDungeon*&gt;(p-&gt;m_scene-&gt;m_dungeon);
610:             if (team_dungeon_pt)
611:             {
612:                 team_dungeon_pt-&gt;SetTeamId(p-&gt;m_team_id);
613:             }
614:         }
615:     }
616:     return OPER_RES_DONNOT_RETURN;
617: }
618: 
619: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_ASK_TEAM_LEADER_STATE)
620: {
621:     resp.set_isok(E_CORRECT);
622:     resp.set_state(0);
623:     SPlayer* leader_p = g_ScGlobalData.GetTeamLeader(p-&gt;m_team_id);
624:     if (leader_p)
625:     {
626:         if (leader_p-&gt;m_state == E_STATE_FIGHT_ATTACK)
627:             resp.set_state(1);
628:     }
629:     return OPER_RES_STRING;
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/sc_trap_tower_op.cpp" line="37" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_CHALLENGE_TRAP_TOWER::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_CHALLENGE_TRAP_TOWER::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_CHALLENGE_TRAP_TOWER" content="27: #include &quot;protocol_define.h&quot;                   // for E_ERROR_TYPE::E_CORRECT
28: #include &quot;protocol_operate.h&quot;                  // for CFrameOperate::OperRes...
29: #include &quot;s2s_mmo3d_func_dungeon.pb.h&quot;         // for req_E_SC2CS_ENTER_DUNGEON
30: // #include &quot;s2s_mmo3d.pb.h&quot;
31: #include &quot;s2s_mmo3d_func_trap_tower.pb.h&quot;      // for rep_E_SC2CS_PREPAIR_CH...
32: #include &quot;scene_cmd_factory.h&quot;                 // for SCENE_MSG_HANDLE_WITH_...
33: //#include &quot;scene_server/data/TransferPoint.h&quot;
34: #include &quot;scene_server/data/sc_global_data.h&quot;  // for ScGlobalData, g_ScGlob...
35: 
36: //E_C2S_CHALLENGE_TRAP_TOWER = 7172,                      // 挑战陷阱塔
37: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_CHALLENGE_TRAP_TOWER)
38: {
39:     resp.set_isok(E_CORRECT);
40:     int32_t tower_id = req.tower_id();
41: 
42: 	 LDEBUG(&quot;TRAP_TOWER ------1 &quot; &lt;&lt; tower_id);
43: 
44:     auto cache = ConstDataHelper::WarGodTower::GetCache(tower_id);
45:     if (!cache)
46:         return SetIsokAndReturn(E_ERROR_PARAM_ERROR);
47: 
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/sc_tricktower_once.cpp" line="12" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_GS2SC_TRICKTOWER_ONCE_LEFT_TIME::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_GS2SC_TRICKTOWER_ONCE_LEFT_TIME::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_GS2SC_TRICKTOWER_ONCE_LEFT_TIME" content="2: #include &quot;../data/Scene.h&quot;                      // for Scene
3: #include &quot;../data/sc_global_data.h&quot;             // for ScGlobalData
4: #include &quot;data/SCTricktowerOnceDungeon.h&quot;       // for TricktowerOnceDungeon
5: #include &quot;frame_log.h&quot;                          // for Log, LDEBUG
6: #include &quot;log4cplus/loggingmacros.h&quot;            // for LOG4CPLUS_MACRO_DEBUG...
7: #include &quot;operate/../data/SCDungeon.h&quot;          // for SCDungeon
8: #include &quot;protocol_define.h&quot;                    // for E_ERROR_TYPE::E_CORRECT
9: #include &quot;s2s_mmo3d_func_tricktower_once.pb.h&quot;  // for req_E_GS2SC_TRICKTOWE...
10: #include &quot;scene_cmd_factory.h&quot;                  // for SCENE_MSG_HANDLE_WITH...
11: 
12: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_GS2SC_TRICKTOWER_ONCE_LEFT_TIME)
13: {
14:     // face
15:     if (p-&gt;m_scene) {
16:         if (p-&gt;m_scene-&gt;m_excel_id == 802 || p-&gt;m_scene-&gt;m_excel_id == 803) {
17:             //p-&gt;ChangeFace(00);
18:         }
19:     }
20: 
21:     if (p-&gt;m_scene &amp;&amp; p-&gt;m_scene-&gt;m_dungeon) {
22:         LDEBUG(&quot;dynamic cast dungeon to &quot;);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/sc_tricktower_round.cpp" line="14" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_GS2SC_TRICKTOWER_ROUND_LEFT_TIME::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_GS2SC_TRICKTOWER_ROUND_LEFT_TIME::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_GS2SC_TRICKTOWER_ROUND_LEFT_TIME" content="4: #include &quot;../data/Scene.h&quot;                       // for Scene
5: #include &quot;../data/sc_global_data.h&quot;              // for ScGlobalData
6: #include &quot;data/SCTricktowerRoundDungeon.h&quot;       // for TricktowerRoundDungeon
7: #include &quot;frame_log.h&quot;                           // for Log, LDEBUG
8: #include &quot;log4cplus/loggingmacros.h&quot;             // for LOG4CPLUS_MACRO_DEBU...
9: #include &quot;operate/../data/SCDungeon.h&quot;           // for SCDungeon
10: #include &quot;protocol_define.h&quot;                     // for E_ERROR_TYPE::E_CORRECT
11: #include &quot;s2s_mmo3d_func_tricktower_round.pb.h&quot;  // for req_E_GS2SC_TRICKTOW...
12: #include &quot;scene_cmd_factory.h&quot;                   // for SCENE_MSG_HANDLE_WIT...
13: 
14: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_GS2SC_TRICKTOWER_ROUND_LEFT_TIME)
15: {
16:     // 设置陷阱塔场景face
17:     if (p-&gt;m_scene) {
18:         if (p-&gt;m_scene-&gt;m_excel_id == 802 || p-&gt;m_scene-&gt;m_excel_id == 803) {
19:             //p-&gt;ChangeFace(00);
20:         }
21:     }
22: 
23:     if (p-&gt;m_scene &amp;&amp; p-&gt;m_scene-&gt;m_dungeon) {
24:         LDEBUG(&quot;dynamic cast dungeon to &quot;);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/sc_vehicle_op.cpp" line="125" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_S2S_OFF_VEHICLE_GS2SS::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_S2S_OFF_VEHICLE_GS2SS::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_S2S_OFF_VEHICLE_GS2SS" content="115:                 }
116:             }
117:             else
118:             {
119:                 LWARN(&quot;E_S2S_ON_VEHICLE_GS2SS err: &quot; &lt;&lt; err);
120:             }
121:         }
122:     }
123:     return OPER_RES_DONNOT_RETURN;
124: }
125: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_S2S_OFF_VEHICLE_GS2SS)
126: {
127:     if (p-&gt;is_on_carrier())
128:     {
129:         //下载具
130:         if (p-&gt;m_carrier-&gt;m_opers.size() &gt; 0)
131:         {
132:             auto err = p-&gt;m_carrier-&gt;get_off(p, p-&gt;m_carrier-&gt;m_opers.begin()-&gt;first);
133:             if (err == E_CORRECT)
134:             {
135:                 //通知客户端离开了载具
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/sc_vehicle_op.cpp" line="32" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_S2S_ON_VEHICLE_GS2SS::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_S2S_ON_VEHICLE_GS2SS::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_S2S_ON_VEHICLE_GS2SS" content="22: #include &quot;mmo3d_vehicle.pb.h&quot;              // for Vehicle
23: #include &quot;operate/../data/Creature.h&quot;      // for HateList
24: #include &quot;operate/../data/Object.h&quot;        // for Object, Object::EnumRemove...
25: #include &quot;operate/../data/SPlayer.h&quot;       // for SPlayer, special_task_info
26: #include &quot;proto_macro.h&quot;                   // for RESPOND
27: #include &quot;protocol_define.h&quot;               // for E_ERROR_TYPE::E_CORRECT
28: #include &quot;protocol_operate.h&quot;              // for CFrameOperate::OperRes::OP...
29: #include &quot;s2s_mmo3d_func_vehicle.pb.h&quot;     // for req_E_S2S_ON_VEHICLE_GS2SS
30: #include &quot;scene_cmd_factory.h&quot;             // for SCENE_MSG_HANDLE_WITH_ROLE...
31: 
32: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_S2S_ON_VEHICLE_GS2SS)
33: {
34:     //auto task_id = req.task_id();
35:     auto vehicle_id = req.vehicle_id();
36:     //类型暂时用不到
37:     //auto type = req.type();
38:     auto iter = g_ConstData.get_m_Vehicle().find(vehicle_id);
39:     if (iter != g_ConstData.get_m_Vehicle().end())
40:     {
41:         //刷新到玩家所在位置
42:         p-&gt;m_task_vehicle =
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/sc_war_god_tower_op.cpp" line="131" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_GS2SC_FAST_PASS_GOD_TOWER::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_GS2SC_FAST_PASS_GOD_TOWER::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_GS2SC_FAST_PASS_GOD_TOWER" content="121:             CommonFunctions::ForwardMessageWithPeer(cs_req, E_SC2CS_PREPAIR_CHALLENGE_WAR_GOD_TOWER,
122:                                                     NetPeerApi::transRoleIdToPeerId(role_id), req_no_cs, SERVER_CS);
123:         },
124:         MakeSendMessageEnv());
125: 
126:     CommonFunctions::ForwardMessageWithPeer(gs_req, E_SC2GS_CHECK_CHALLENGE_WARGOD_TOWER,
127:                                             NetPeerApi::getPeerId(netPeer), req_no_gs, SERVER_GS);
128:     return OPER_RES_DONNOT_RETURN;
129: }
130: 
131: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_GS2SC_FAST_PASS_GOD_TOWER)
132: {
133:     resp.set_isok(E_CORRECT);
134:     if (p-&gt;m_scene)
135:     {
136:         SCWarGodDungeon* tower_dungeon = dynamic_cast&lt;SCWarGodDungeon*&gt;(p-&gt;m_scene-&gt;m_dungeon);
137:         if (tower_dungeon)
138:         {
139:             int32_t tower_id = tower_dungeon-&gt;GetTowerId();
140:             auto tower_cache = ConstDataHelper::WarGodTower::GetCache(tower_id);
141:             if (tower_cache)
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/sc_war_god_tower_op.cpp" line="37" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_CHALLENGE_WARGOD_TOWER::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_CHALLENGE_WARGOD_TOWER::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_CHALLENGE_WARGOD_TOWER" content="27: #include &quot;proto_macro.h&quot;                          // for RESPOND, REQUEST
28: #include &quot;protocol_define.h&quot;                      // for E_ERROR_TYPE::E_COR...
29: #include &quot;protocol_operate.h&quot;                     // for CFrameOperate::Oper...
30: #include &quot;s2s_mmo3d_func_dungeon.pb.h&quot;            // for req_E_SC2CS_ENTER_D...
31: #include &quot;s2s_mmo3d_war_tower.pb.h&quot;               // for rep_E_SC2CS_PREPAIR...
32: #include &quot;scene_cmd_factory.h&quot;                    // for SCENE_MSG_HANDLE_WI...
33: #include &quot;scene_dungeon_define.h&quot;                 // for EDungeonStep::E_DUN...
34: #include &quot;scene_server/data/SCGodTowerDungeon.h&quot;  // for SCWarGodDungeon
35: #include &quot;scene_server/data/sc_global_data.h&quot;     // for ScGlobalData, g_ScG...
36: 
37: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_CHALLENGE_WARGOD_TOWER)
38: {
39:     resp.set_isok(E_CORRECT);
40:     int32_t tower_id = req.tower_id();
41: 
42: 	LDEBUG(&quot;TRAP_TOWER ------2 &quot; &lt;&lt; tower_id);
43: 
44:     auto cache = ConstDataHelper::WarGodTower::GetCache(tower_id);
45:     if (!cache)
46:         return SetIsokAndReturn(E_ERROR_PARAM_ERROR);
47: 
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/sc_world_boss2_op.cpp" line="162" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_TRANSFER_TO_MAP_POS::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_TRANSFER_TO_MAP_POS::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_TRANSFER_TO_MAP_POS" content="152:                     a-&gt;set_first(v.first);
153:                     a-&gt;set_second(v.second);
154:                 }
155:                 boss_pt-&gt;set_to_be_removed();              
156:             }
157:         }
158:     }
159:     return OPER_RES_PROTO;
160: }
161: 
162: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_TRANSFER_TO_MAP_POS)
163: {
164:     SC_MSG_WITH_ROLE_CHECK_ENTER_SCENE()
165:     resp.set_isok(E_CORRECT);
166:     if (p-&gt;m_scene)
167:     {
168:         // if (p-&gt;m_scene-&gt;m_excel_id == req.map_id())
169:         // {
170:         //     // 同场景
171:         //     if (req.func() == E_FUNC_CODE_WORLD_BOSS2)
172:         //     {
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/sc_world_boss2_op.cpp" line="219" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_EXIT_WORLD_BOSS_MAP::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_EXIT_WORLD_BOSS_MAP::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_EXIT_WORLD_BOSS_MAP" content="209:                 },
210:                 MakeSendMessageEnv());
211:             CommonFunctions::ForwardMessageWithPeer(cs_req, E_SC2CS_TRANSFER_TO_MAP_POS,
212:                                                     NetPeerApi::transRoleIdToPeerId(p-&gt;m_roleid), req_no, SERVER_CS);
213:         }
214:     }
215: 
216:     return OPER_RES_DONNOT_RETURN;
217: }
218: 
219: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_EXIT_WORLD_BOSS_MAP)
220: {
221:     LDEBUG(&quot;E_C2S_EXIT_WORLD_BOSS_MAP req&quot;);
222:     resp.set_isok(E_CORRECT);
223:     if (p &amp;&amp; p-&gt;m_scene)
224:     {
225:         if (p-&gt;m_scene-&gt;m_excel_map_type2 == E_MAP_2_WORLD_BOSS)
226:         {
227:             //找到world_boss2指针 调用玩家leave
228:             auto it_mon = p-&gt;m_scene-&gt;m_base_monsters.find(p-&gt;m_scene-&gt;m_world_boss2_sid);
229:             if (it_mon != p-&gt;m_scene-&gt;m_base_monsters.end()) {
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/sc_world_boss2_op.cpp" line="241" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_CALL_PLAYER_FOR_WORLDBOSS2::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_CALL_PLAYER_FOR_WORLDBOSS2::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_CALL_PLAYER_FOR_WORLDBOSS2" content="231:                 if (boss_pt != nullptr) {
232:                     boss_pt-&gt;OnPlayerLeaveMap(p);
233:                     LDEBUG(&quot;SPlayer::E_C2S_EXIT_WORLD_BOSS_MAP world_boss2_sid &quot; &lt;&lt; p-&gt;m_scene-&gt;m_world_boss2_sid &lt;&lt; &quot; &quot; &lt;&lt; p-&gt;m_roleid);
234:                 }
235:             }
236:         }
237:     }
238:     return OPER_RES_PROTO;
239: }
240: 
241: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_CALL_PLAYER_FOR_WORLDBOSS2)
242: {
243:     resp.set_isok(E_CORRECT);
244:     if (p-&gt;m_scene)
245:     {
246:         if (p-&gt;m_scene-&gt;m_world_boss2_sid &lt; 1)
247:         {
248:             LERROR(&quot;not world boss2 scene&quot;);
249:             return SetIsokAndReturn(E_ERROR_PARAM_ERROR);
250:         }
251:         REQUEST(E_SC2CS_CALL_PLAYER_WORLDBOSS2)
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/sc_world_boss2_op.cpp" line="284" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_GET_WORLD_BOSS2_DAMAGE_RANK::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_GET_WORLD_BOSS2_DAMAGE_RANK::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_GET_WORLD_BOSS2_DAMAGE_RANK" content="274:                                                 NetPeerApi::transRoleIdToPeerId(p-&gt;m_roleid), req_no, SERVER_CS);
275:     }
276:     else
277:     {
278:         LERROR(&quot;scene is null&quot;);
279:         return SetIsokAndReturn(E_ERROR_PARAM_ERROR);
280:     }
281:     return OPER_RES_DONNOT_RETURN;
282: }
283: 
284: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_GET_WORLD_BOSS2_DAMAGE_RANK)
285: {
286:     resp.set_isok(E_CORRECT);
287:     if (p-&gt;m_scene)
288:     {
289:         if (p-&gt;m_scene-&gt;m_world_boss2_sid &lt; 1)
290:         {
291:             LERROR(&quot;not world boss2 scene&quot;);
292:             return SetIsokAndReturn(E_ERROR_PARAM_ERROR);
293:         }
294:         auto scene = p-&gt;m_scene;
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/sc_world_boss2_op.cpp" line="363" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_GET_WORLD_BOSS2_BOSS_POS::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_GET_WORLD_BOSS2_BOSS_POS::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_GET_WORLD_BOSS2_BOSS_POS" content="353:     }
354:     else
355:     {
356:         LERROR(&quot;not int scene&quot;);
357:         return SetIsokAndReturn(E_ERROR_PARAM_ERROR);
358:     }
359: 
360:     return OPER_RES_PROTO;
361: }
362: 
363: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_GET_WORLD_BOSS2_BOSS_POS)
364: {
365:     resp.set_isok(E_CORRECT);
366:     int32_t excel_id = req.map_id();
367:     std::vector&lt;Scene*&gt; scene_vec;
368:     g_ScGlobalData.GetSceneByExcelId(scene_vec, excel_id);
369:     //Scene* scene_pt = p-&gt;m_scene;
370: 
371:     for (auto&amp; one : scene_vec) {
372:         Scene* scene_pt = one;
373:         if (nullptr != scene_pt) {
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="1632" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_S2S_PUSH_AVATAR_INFO::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_S2S_PUSH_AVATAR_INFO::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_S2S_PUSH_AVATAR_INFO" content="1622: //
1623: //        //转换出错，也要返回一个通用错误消息
1624: //        protos::rep_common repc;
1625: //        repc.set_isok(E_ERROR_PROTO_PARSE_ERROR);
1626: //        repc.SerializeToString(&amp;content);
1627: //        return OPER_RES_STRING;
1628: //    }
1629: //    return OPER_RES_DONNOT_RETURN;
1630: //}
1631: 
1632: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_S2S_PUSH_AVATAR_INFO)
1633: {
1634:     *(p-&gt;pb_avatars.mutable_values()) = req.avatars();
1635:     p-&gt;push_avatar_info();
1636:     resp.set_isok(E_CORRECT);
1637:     return OPER_RES_STRING;
1638:     // return OPER_RES_DONNOT_RETURN;
1639: }
1640: 
1641: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_S2S_SCENE_UPDATE_ROLE_AFFIX)
1642: {
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="1641" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_S2S_SCENE_UPDATE_ROLE_AFFIX::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_S2S_SCENE_UPDATE_ROLE_AFFIX::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_S2S_SCENE_UPDATE_ROLE_AFFIX" content="1631: 
1632: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_S2S_PUSH_AVATAR_INFO)
1633: {
1634:     *(p-&gt;pb_avatars.mutable_values()) = req.avatars();
1635:     p-&gt;push_avatar_info();
1636:     resp.set_isok(E_CORRECT);
1637:     return OPER_RES_STRING;
1638:     // return OPER_RES_DONNOT_RETURN;
1639: }
1640: 
1641: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_S2S_SCENE_UPDATE_ROLE_AFFIX)
1642: {
1643:     p-&gt;reset_Affix_interface(req.affix());
1644: 
1645:     return OPER_RES_DONNOT_RETURN;
1646: }
1647: 
1648: // SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_S2S_SCENE_UPDATE_ROLE_WEAPON_CRYSTAL_ACTIVE_LEVEL_ID)
1649: // {
1650: //     if (p-&gt;m_weapon_crystal_active_level_id != req.id())
1651: //     {
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="1665" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_S2S_PUSH_ATTR_CHANGE::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_S2S_PUSH_ATTR_CHANGE::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_S2S_PUSH_ATTR_CHANGE" content="1655: //             RESPOND(E_S2C_BROADCAST_WEAPON_CRYSTAL_ACTIVE_LEVEL_ID) push;
1656: //             push.set_sid(p-&gt;m_sid);
1657: //             push.set_level_id(p-&gt;m_weapon_crystal_active_level_id);
1658: //             p-&gt;m_scene-&gt;broadcast_obj(push, E_S2C_BROADCAST_WEAPON_CRYSTAL_ACTIVE_LEVEL_ID, *p);
1659: //         }
1660: //     }
1661: 
1662: //     return OPER_RES_DONNOT_RETURN;
1663: // }
1664: 
1665: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_S2S_PUSH_ATTR_CHANGE)
1666: {
1667:     LFATAL(&quot;E_S2S_PUSH_ATTR_CHANGE 已被废弃, 有代码没有删掉??&quot;);
1668:     return OPER_RES_DONNOT_RETURN;
1669: }
1670: 
1671: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_S2S_PUSH_ACCEPTED_TASK_INFO)
1672: {
1673:     //REQUEST(E_S2S_PUSH_ACCEPTED_TASK_INFO) req;
1674:     //RESPOND(E_S2S_PUSH_ACCEPTED_TASK_INFO) resp;
1675: 
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="1671" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_S2S_PUSH_ACCEPTED_TASK_INFO::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_S2S_PUSH_ACCEPTED_TASK_INFO::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_S2S_PUSH_ACCEPTED_TASK_INFO" content="1661: 
1662: //     return OPER_RES_DONNOT_RETURN;
1663: // }
1664: 
1665: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_S2S_PUSH_ATTR_CHANGE)
1666: {
1667:     LFATAL(&quot;E_S2S_PUSH_ATTR_CHANGE 已被废弃, 有代码没有删掉??&quot;);
1668:     return OPER_RES_DONNOT_RETURN;
1669: }
1670: 
1671: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_S2S_PUSH_ACCEPTED_TASK_INFO)
1672: {
1673:     //REQUEST(E_S2S_PUSH_ACCEPTED_TASK_INFO) req;
1674:     //RESPOND(E_S2S_PUSH_ACCEPTED_TASK_INFO) resp;
1675: 
1676:     //if (req.ParseFromArray(smsg-&gt;GetBodyBuf(), smsg-&gt;GetBodySize()))
1677:     //{
1678:     //    int64_t role_id = req.roleid();
1679:     //    if (0 == role_id)
1680:     //    {
1681:     //        resp.set_isok(E_ERROR_ROLE_NOT_FOUND);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="196" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_S2S_GS2SC_UPDATE_ACTIVE_SKILLS::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_S2S_GS2SC_UPDATE_ACTIVE_SKILLS::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_S2S_GS2SC_UPDATE_ACTIVE_SKILLS" content="186:         //	player_-&gt;m_fighting = req.fighting();
187:         if (req.has_vip())
188:             player_-&gt;m_vip = req.vip();
189:         if (req.avatars_size() &gt; 0)
190:             *(player_-&gt;pb_avatars.mutable_values()) = req.avatars();
191:     }
192:     //}
193:     return OPER_RES_DONNOT_RETURN;
194: }
195: 
196: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_S2S_GS2SC_UPDATE_ACTIVE_SKILLS)
197: {
198:     
199:     {
200:         //主动技能的一些处理
201:         for (int32_t i = 0; i &lt; req.skills_size(); ++i)
202:         {
203:             const protos::skill_info&amp; pb_skill = req.skills(i);
204:             p-&gt;update_skill_action_growth(pb_skill);
205:         }
206:         p-&gt;pushActiveSkillListAndProjectToClient();
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="1996" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_S2S_PUSH_NEW_PM::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_S2S_PUSH_NEW_PM::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_S2S_PUSH_NEW_PM" content="1986:                                                               LINFO(&quot;E_S2S_SCENE_DUMP_PLAYER_TO_REDIS hset success&quot;);
1987:                                                               callback(E_CORRECT);
1988:                                                           },
1989:                                                           [callback]() { callback(E_ERROR_DUMP_PLAYER_FAIL); });
1990:                                                   },
1991:                                                   [callback]() { callback(E_ERROR_DUMP_PLAYER_FAIL); });
1992: 
1993:     return OPER_RES_DONNOT_RETURN;
1994: }
1995: 
1996: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_S2S_PUSH_NEW_PM)
1997: {
1998:     protos::chat_msg* chat_info = req.mutable_msg();
1999:     if (req.msg().content_type() == E_CONTENT_TYPE_POS)
2000:     {
2001:         chat_info-&gt;set_scene_id(p-&gt;get_scene_excel_id());
2002:         chat_info-&gt;mutable_pos()-&gt;set_x(p-&gt;getPosition().p2d.x);
2003:         chat_info-&gt;mutable_pos()-&gt;set_y(p-&gt;getPosition().p2d.y);
2004:         chat_info-&gt;mutable_pos()-&gt;set_layer(p-&gt;getPosition().layer);
2005:     }
2006:     else
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="2017" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_S2S_CHAT_MSG4TYPE::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_S2S_CHAT_MSG4TYPE::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_S2S_CHAT_MSG4TYPE" content="2007:     {
2008:         LERROR(&quot;E_S2C_PUSH_NEW_PM content_type no action !!!!&quot;);
2009:     }
2010: 
2011:     resp.set_isok(E_CORRECT);
2012:     *(resp.mutable_player()) = req.player();
2013:     *(resp.mutable_msg()) = req.msg();
2014:     return OPER_RES_PROTO;
2015: }
2016: 
2017: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_S2S_CHAT_MSG4TYPE)
2018: {
2019:     protos::chat_info* chat_info = req.mutable_msg();
2020:     if (req.msg().content_type() == E_CONTENT_TYPE_POS)
2021:     {
2022:         chat_info-&gt;set_scene_id(p-&gt;get_scene_excel_id());
2023:         chat_info-&gt;mutable_pos()-&gt;set_x(p-&gt;getPosition().p2d.x);
2024:         chat_info-&gt;mutable_pos()-&gt;set_y(p-&gt;getPosition().p2d.y);
2025:         chat_info-&gt;mutable_pos()-&gt;set_layer(p-&gt;getPosition().layer);
2026:     }
2027:     resp.set_isok(E_CORRECT);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="213" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_EXIT_GAME::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_EXIT_GAME::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_EXIT_GAME" content="203:             const protos::skill_info&amp; pb_skill = req.skills(i);
204:             p-&gt;update_skill_action_growth(pb_skill);
205:         }
206:         p-&gt;pushActiveSkillListAndProjectToClient();
207:     }
208:     //}
209: 
210:     return OPER_RES_DONNOT_RETURN;
211: }
212: 
213: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_EXIT_GAME)
214: {
215:     resp.set_isok(E_CORRECT);
216: 
217:     if (netPeer)
218:     {
219:         resp.SerializeToString(&amp;content);
220:         SMessage ssmsg;
221:         ssmsg.SetHead(E_C2S_EXIT_GAME, E_C2S_EXIT_GAME, g_ServerConfig.cur_servertype, smsg-&gt;GetCsid(),
222:                       smsg-&gt;GetSsid());
223:         ssmsg.SetContent((uint8_t*)content.c_str(), content.length());
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="2164" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_NPC_TRANSFER::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_NPC_TRANSFER::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_NPC_TRANSFER" content="2154: //             p-&gt;m_scene-&gt;push_scene_msg(E_S2C_PUSH_CHANGE_FACTION, push_str, p-&gt;m_sid);
2155: //         }
2156: //     }
2157: //     else
2158: //     {
2159: //         LINFO(&quot;rep E_S2S_FACTION_CHANGE not exist player: &quot; &lt;&lt; roleid);
2160: //     }
2161: //     return OPER_RES_DONNOT_RETURN;
2162: // }
2163: 
2164: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_NPC_TRANSFER)
2165: {
2166:     SC_MSG_WITH_ROLE_CHECK_ENTER_SCENE()
2167:     auto&amp;&amp; set_isok = [this](int32_t isok) {
2168:         resp.set_isok(isok);
2169:         return OPER_RES_PROTO;
2170:     };
2171: 
2172:     auto player = p;
2173:     if (player-&gt;m_scene == NULL)
2174:     {
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="2254" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_S2S_GS2SC_GUILD_NAME::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_S2S_GS2SC_GUILD_NAME::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_S2S_GS2SC_GUILD_NAME" content="2244:             }
2245: 
2246:             //auto&amp;&amp; msg = CommonFunctions::MakeAckMessage(E_C2S_NPC_TRANSFER, ret, env.peer_id, -1, env.req_no);
2247:             //
2248:             //SessionApi::sendToSession(env.session, &amp;msg);
2249:             AsyncRequestHandlerNs::SendAckMessage(ret, env);
2250:         },0,&amp;trans_param);
2251:     return OPER_RES_DONNOT_RETURN;
2252: }
2253: 
2254: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_S2S_GS2SC_GUILD_NAME)
2255: {
2256:     int32_t old_guild = p-&gt;m_guild_id;
2257:     p-&gt;m_guild_name = req.guild_name();
2258:     p-&gt;m_guild_id = req.guild_id();
2259:     if (0 == req.guild_id())
2260:     {
2261:         p-&gt;OnExitGuild(old_guild);
2262:     }
2263:     return OPER_RES_DONNOT_RETURN;
2264: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="2266" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_SEND_EMOJI::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_SEND_EMOJI::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_SEND_EMOJI" content="2256:     int32_t old_guild = p-&gt;m_guild_id;
2257:     p-&gt;m_guild_name = req.guild_name();
2258:     p-&gt;m_guild_id = req.guild_id();
2259:     if (0 == req.guild_id())
2260:     {
2261:         p-&gt;OnExitGuild(old_guild);
2262:     }
2263:     return OPER_RES_DONNOT_RETURN;
2264: }
2265: 
2266: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_SEND_EMOJI)
2267: {
2268:     if (p-&gt;m_scene)
2269:     {
2270:         RESPOND(E_S2C_PUSH_NEAR_EMOJI) pb_push;
2271:         pb_push.set_sid(p-&gt;m_sid);
2272:         pb_push.set_emoji_id(req.emoji_id());
2273:         if (req.has_type())
2274:         {
2275:             pb_push.set_type(req.type());
2276:         }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="235" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_ENTER_SCENE::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_ENTER_SCENE::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_ENTER_SCENE" content="225: 
226:         NetPeerApi::sendMsgToGG(netPeer, &amp;ssmsg);
227:     }
228: 
229:     //TRIGGER_HOOK_NOVAR(player_leave_scene, p);
230:     p-&gt;deal_offline();
231: 
232:     return OPER_RES_DONNOT_RETURN;
233: }
234: 
235: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_ENTER_SCENE)
236: {
237:     auto&amp;&amp; return_isok = [this](int32_t isok) {
238:         resp.set_isok(isok);
239:         return OPER_RES_PROTO;
240:     };
241: 
242:     LDEBUG(&quot;MSG_E_C2S_ENTER_SCENE: x: &quot; &lt;&lt; p-&gt;m_pos.p2d.x &lt;&lt; &quot;y: &quot; &lt;&lt; p-&gt;m_pos.p2d.y);
243:     if (p-&gt;m_room_id &gt; 0) {
244:         //开房间模式，重新进入房间的情况
245:         //:
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="2357" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_COPY_QUITE::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_COPY_QUITE::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_COPY_QUITE" content="2347: //            {
2348: //                LERROR(&quot;no scene(&quot; &lt;&lt; scene_id &lt;&lt; &quot;)&quot;
2349: //                                   &lt;&lt; &quot;scene_copy_id: &quot; &lt;&lt; scene_copy_id);
2350: //            }
2351: //        }
2352: //    }
2353: //
2354: //    return OPER_RES_DONNOT_RETURN;
2355: //}
2356: 
2357: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_COPY_QUITE)
2358: {
2359:     REQUEST(E_S2S_COPY_QUITE) rep;
2360:     // rep.set_type(1); //先做同一处理
2361:     Scene* _scene = p-&gt;m_scene;
2362:     bool is_water_ripple = false;
2363: 
2364:     auto default_exit_copy = [&amp;](Scene* _scene) {
2365:         if (_scene)
2366:         {
2367:             auto&amp;&amp; scene_copy_id = _scene-&gt;GetId();
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="2563" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_S2S_PUSH_CHANGE_SKILL_RUNE::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_S2S_PUSH_CHANGE_SKILL_RUNE::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_S2S_PUSH_CHANGE_SKILL_RUNE" content="2553:     //     //}
2554:     //     //else
2555:     //     {
2556:     //         CommonFunctions::ForwardMessageWithPeer(rep, E_S2S_COPY_QUITE, NetPeerApi::getPeerId(netPeer), req_no,
2557:     //                                                 SERVER_GS);
2558:     //     }
2559:     // }
2560:     return OPER_RES_DONNOT_RETURN;
2561: }
2562: 
2563: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_S2S_PUSH_CHANGE_SKILL_RUNE)
2564: {
2565:     /*RESPOND(E_S2S_PUSH_CHANGE_SKILL_RUNE) resp;
2566:     int64_t role_id = 0;
2567:     if (netPeer)
2568:     {
2569:         role_id = NetPeerApi::getActiveRoleId(netPeer);
2570:     }
2571: 
2572:     LDEBUG(&quot; ------ roleid : &quot; &lt;&lt; role_id);
2573:     if (0 == role_id)
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="2654" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_S2S_PUSH_CHANGE_PASSIVE_SKILL::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_S2S_PUSH_CHANGE_PASSIVE_SKILL::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_S2S_PUSH_CHANGE_PASSIVE_SKILL" content="2644:     //                        player-&gt;recalc_all_passive_skill();
2645:     //                    }
2646:     //                }
2647:     //                break;
2648:     //            }
2649:     //        }
2650:     //}
2651:     return OPER_RES_DONNOT_RETURN;
2652: }
2653: 
2654: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_S2S_PUSH_CHANGE_PASSIVE_SKILL)
2655: {
2656:     //RESPOND(E_S2S_PUSH_CHANGE_PASSIVE_SKILL) resp;
2657:     //int64_t role_id = 0;
2658:     //if (netPeer)
2659:     //{
2660:     //    role_id = NetPeerApi::getActiveRoleId(netPeer);
2661:     //}
2662:     //
2663:     //LDEBUG(&quot; ------ roleid : &quot; &lt;&lt; role_id);
2664:     //if (0 == role_id)
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="2721" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_S2S_PUSH_CHANGE_SKILL_SET::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_S2S_PUSH_CHANGE_SKILL_SET::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_S2S_PUSH_CHANGE_SKILL_SET" content="2711:         if (skill_id &gt; 0)
2712:             passive.push_back(pb_passive.skill_id());
2713:     }
2714:     {
2715:         p-&gt;change_my_passive_skills();
2716:     }
2717:     //}
2718:     return OPER_RES_DONNOT_RETURN;
2719: }
2720: 
2721: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_S2S_PUSH_CHANGE_SKILL_SET)
2722: {
2723:     int32_t project_id = req.project_id();
2724:     map&lt;int32_t, sc_skill_project&gt;::iterator it = p-&gt;m_skill_project.find(project_id);
2725:     if (it == p-&gt;m_skill_project.end())
2726:     {
2727:         sc_skill_project one;
2728:         for (int32_t j = 0; j &lt; req.active_skills_size(); ++j)
2729:         {
2730:             const protos::active_skill_set&amp; pb_skill = req.active_skills(j);
2731:             active_skill_sets ass;
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="2830" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_S2S_PUSH_CHANGE_SKILL_PROJECT::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_S2S_PUSH_CHANGE_SKILL_PROJECT::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_S2S_PUSH_CHANGE_SKILL_PROJECT" content="2820: //            }
2821: //
2822: //            resp.set_isok(E_CORRECT);
2823: //            resp.SerializeToString(&amp;content);
2824: //            return OPER_RES_PROTO;
2825: //        }
2826: //    }
2827: //    return OPER_RES_DONNOT_RETURN;
2828: //}
2829: 
2830: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_S2S_PUSH_CHANGE_SKILL_PROJECT)
2831: {
2832:     //RESPOND(E_S2S_PUSH_CHANGE_SKILL_PROJECT) resp;
2833:     //
2834:     //int64_t role_id = 0;
2835:     //
2836:     //if (netPeer)
2837:     //{
2838:     //    role_id = NetPeerApi::getActiveRoleId(netPeer);
2839:     //}
2840:     //
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="3003" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_GET_CURRENT_SCENE_NPC_POS::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_GET_CURRENT_SCENE_NPC_POS::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_GET_CURRENT_SCENE_NPC_POS" content="2993: //                resp.SerializeToString(&amp;content);
2994: //                LDEBUG(&quot;E_S2C_PUSH_KILLS_RANK:&quot; &lt;&lt; g_PBPrinter.getJsonStream(resp));
2995: //                return OPER_RES_STRING;
2996: //            }
2997: //        }
2998: //    }
2999: //
3000: //    return OPER_RES_DONNOT_RETURN;
3001: //}
3002: 
3003: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_GET_CURRENT_SCENE_NPC_POS)
3004: {
3005:     auto&amp;&amp; set_isok = [this](int32_t isok) {
3006:         resp.set_isok(isok);
3007:         return OPER_RES_PROTO;
3008:     };
3009:     Scene* scene = p-&gt;m_scene;
3010:     if (!scene)
3011:     {
3012:         return set_isok(E_ERROR_NO_SCENE);
3013:     }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="3040" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_ENTER_BATTLE_ROOM_CONFIRM::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_ENTER_BATTLE_ROOM_CONFIRM::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_ENTER_BATTLE_ROOM_CONFIRM" content="3030:     resp.set_isok(E_CORRECT);
3031:     resp.set_npc_id(npc-&gt;m_npc_id);
3032:     resp.set_scene_id(npc-&gt;m_scene-&gt;m_excel_id);
3033:     auto pos = resp.mutable_pos();
3034:     pos-&gt;set_x(npc-&gt;m_pos.p2d.x);
3035:     pos-&gt;set_y(npc-&gt;m_pos.p2d.y);
3036:     pos-&gt;set_layer(npc-&gt;m_pos.layer);
3037:     return OPER_RES_PROTO;
3038: }
3039: 
3040: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_ENTER_BATTLE_ROOM_CONFIRM)
3041: {
3042:     //REQUEST(E_C2S_ENTER_BATTLE_ROOM_CONFIRM) req;
3043:     //RESPOND(E_C2S_ENTER_BATTLE_ROOM_CONFIRM) resp;
3044:     //
3045:     //if (req.ParseFromArray(smsg-&gt;GetBodyBuf(), smsg-&gt;GetBodySize()))
3046:     //{
3047:     //    int64_t role_id = 0;
3048:     //    if (netPeer)
3049:     //    {
3050:     //        role_id = NetPeerApi::getActiveRoleId(netPeer);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="3083" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_OTHER_PLAYER_LIST_BASIC_SHOW_INFO::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_OTHER_PLAYER_LIST_BASIC_SHOW_INFO::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_OTHER_PLAYER_LIST_BASIC_SHOW_INFO" content="3073: 
3074:     //resp.SerializeToString(&amp;content);
3075:     //LDEBUG(&quot;E_C2S_ENTER_BATTLE_ROOM_CONFIRM:&quot; &lt;&lt; g_PBPrinter.getJsonStream(resp));
3076:     return OPER_RES_STRING;
3077:     //   }
3078:     //}
3079: 
3080:     //return OPER_RES_DONNOT_RETURN;
3081: }
3082: 
3083: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_OTHER_PLAYER_LIST_BASIC_SHOW_INFO)
3084: {
3085:     auto&amp;&amp; role_id_list = req.role_id_list();
3086:     std::map&lt;int64_t, decltype(resp)::basic_show_info&gt; role_id_map;
3087: 
3088:     for (auto&amp;&amp; role_id : role_id_list)
3089:     {
3090:         if (role_id_map.find(role_id) != role_id_map.end())
3091:             continue;
3092: 
3093:         auto&amp;&amp; show_info = role_id_map[role_id];
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="3150" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_ENTER_DSC_CONFIRM::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_ENTER_DSC_CONFIRM::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_ENTER_DSC_CONFIRM" content="3140:             return OPER_RES_PROTO;
3141:         }
3142:     }
3143: 
3144:     resp.set_isok(E_ERROR_NOT_EXIST_SCENE_ID);  // map not exist!
3145:     return OPER_RES_PROTO;
3146: }
3147: 
3148: 
3149: 
3150: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_ENTER_DSC_CONFIRM)
3151: {
3152:     /*RESPOND(E_C2S_ENTER_DSC_CONFIRM) resp;
3153: 
3154:     int64_t role_id = 0;
3155:     if (netPeer)
3156:     {
3157:         role_id = NetPeerApi::getActiveRoleId(netPeer);
3158:     }
3159:     if (0 == role_id)
3160:     {
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="3252" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_PUSH_ARENA_CARTOON::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_PUSH_ARENA_CARTOON::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_PUSH_ARENA_CARTOON" content="3242: //    RESPOND(E_S2S_PUSH_CS_SAIJI_DAY) resp;
3243: //    if (resp.ParseFromArray(smsg-&gt;GetBodyBuf(), smsg-&gt;GetBodySize()))
3244: //    {
3245: //        g_ScGlobalData.m_country_saiji_day = resp.day();
3246: //
3247: //        LDEBUG(&quot;resp.day:&quot; &lt;&lt; resp.day());
3248: //    }
3249: //    return OPER_RES_DONNOT_RETURN;
3250: //}
3251: 
3252: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_PUSH_ARENA_CARTOON)
3253: {
3254:     /*REQUEST(E_C2S_PUSH_ARENA_CARTOON) req;
3255:     RESPOND(E_C2S_PUSH_ARENA_CARTOON) resp;
3256: 
3257:     if (req.ParseFromArray(smsg-&gt;GetBodyBuf(), smsg-&gt;GetBodySize()))
3258:     {
3259:         int64_t role_id = 0;
3260:         if (netPeer)
3261:         {
3262:             role_id = NetPeerApi::getActiveRoleId(netPeer);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="3292" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_S2C_COLLECT_ARENA_RES::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_S2C_COLLECT_ARENA_RES::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_S2C_COLLECT_ARENA_RES" content="3282: 
3283:     resp.set_isok(E_CORRECT);
3284:     //resp.SerializeToString(&amp;content);
3285:     return OPER_RES_STRING;
3286:     //}
3287:     /*}
3288: 
3289:     return OPER_RES_DONNOT_RETURN;*/
3290: }
3291: 
3292: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_S2C_COLLECT_ARENA_RES)
3293: {
3294:     //REQUEST(E_S2C_COLLECT_ARENA_RES) req;
3295:     //RESPOND(E_S2C_COLLECT_ARENA_RES) resp;
3296:     //
3297:     //if (req.ParseFromArray(smsg-&gt;GetBodyBuf(), smsg-&gt;GetBodySize()))
3298:     //{
3299:     //
3300:     //    LDEBUG(&quot;E_S2C_COLLECT_ARENA_RES:&quot; &lt;&lt; g_PBPrinter.getJsonStream(req));
3301:     //
3302:     //    int64_t role_id = 0;
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="3447" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_GET_TRUCK_POS::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_GET_TRUCK_POS::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_GET_TRUCK_POS" content="3437: //         resp.set_isok(E_CORRECT);
3438: //     }
3439: //     else
3440: //     {
3441: //         resp.set_isok(E_ERROR_CONDITION_NOT_ENOUGH);
3442: //     }
3443: 
3444: //     return OPER_RES_PROTO;
3445: // }
3446: 
3447: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_GET_TRUCK_POS)
3448: {
3449:     auto it = g_ScGlobalData.m_team_truck.find(p-&gt;m_team_id);
3450:     if (it != g_ScGlobalData.m_team_truck.end())
3451:     {
3452:         obj_id_t sid = it-&gt;second;
3453:         map&lt;obj_id_t, Object*&gt;::const_iterator it_obj = g_ScGlobalData.m_objs.find(sid);
3454:         for (; it_obj != g_ScGlobalData.m_objs.end(); ++it_obj)
3455:         {
3456:             Carrier* car = (Carrier*)it_obj-&gt;second;
3457:             resp.set_isok(E_CORRECT);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="3463" id="suspicious" subid="unConditionalBreakinLoop" severity="Warning" msg="An unconditional &apos;break/return/goto&apos; within a loop.It may be a mistake." web_identify="{&quot;identify&quot;:&quot;OPER_RES_STRING&quot;}" func_info="CFrameOperate::OperRes CLASS_SCENE_E_C2S_GET_TRUCK_POS::do_with_role ( )" content="3453:         map&lt;obj_id_t, Object*&gt;::const_iterator it_obj = g_ScGlobalData.m_objs.find(sid);
3454:         for (; it_obj != g_ScGlobalData.m_objs.end(); ++it_obj)
3455:         {
3456:             Carrier* car = (Carrier*)it_obj-&gt;second;
3457:             resp.set_isok(E_CORRECT);
3458:             resp.set_object_id(car-&gt;m_sid);
3459:             resp.set_scene_id(car-&gt;m_scene-&gt;m_excel_id);
3460:             resp.mutable_pos()-&gt;set_layer(car-&gt;m_pos.layer);
3461:             resp.mutable_pos()-&gt;set_x(car-&gt;m_pos.p2d.x);
3462:             resp.mutable_pos()-&gt;set_y(car-&gt;m_pos.p2d.y);
3463:             return OPER_RES_STRING;
3464:         }
3465:     }
3466: 
3467:     return OPER_RES_DONNOT_RETURN;
3468: }
3469: 
3470: 
3471: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_YIN_DAO_DROP_TRUCK_RES)
3472: {
3473:     return OPER_RES_DONNOT_RETURN;
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="3471" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_YIN_DAO_DROP_TRUCK_RES::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_YIN_DAO_DROP_TRUCK_RES::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_YIN_DAO_DROP_TRUCK_RES" content="3461:             resp.mutable_pos()-&gt;set_x(car-&gt;m_pos.p2d.x);
3462:             resp.mutable_pos()-&gt;set_y(car-&gt;m_pos.p2d.y);
3463:             return OPER_RES_STRING;
3464:         }
3465:     }
3466: 
3467:     return OPER_RES_DONNOT_RETURN;
3468: }
3469: 
3470: 
3471: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_YIN_DAO_DROP_TRUCK_RES)
3472: {
3473:     return OPER_RES_DONNOT_RETURN;
3474: }
3475: 
3476: // SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_GET_DROP_TRUCK_RES)
3477: // {
3478: //     int32_t result = p-&gt;player_collect_res(req.sid(), protos::COLLECT_RES_TRUCK);
3479: //     if (E_CORRECT == result)
3480: //     {
3481: //         RESPOND(E_S2S_GET_TURCK_RES) resp;
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="3491" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_YIN_DAO_SPRING_WATER::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_YIN_DAO_SPRING_WATER::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_YIN_DAO_SPRING_WATER" content="3481: //         RESPOND(E_S2S_GET_TURCK_RES) resp;
3482: //         p-&gt;player_push_msg(E_S2S_GET_TURCK_RES, resp, SERVER_MN);
3483: //         g_ScGlobalData.push_add_country_resource(1, p-&gt;m_faction, p-&gt;get_scene_excel_id());
3484: //     }
3485: //     //不管成功失败，都要中断了
3486: //     p-&gt;m_skill_ctrl.m_casting.Interrupt(CastingInterruptReason::BE_NORMAL);
3487: //     resp.set_isok(result);
3488: //     return OPER_RES_PROTO;
3489: // }
3490: 
3491: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_YIN_DAO_SPRING_WATER)
3492: {
3493:     // int32_t result = E_CORRECT;
3494:     // do
3495:     // {
3496:     //     if (p-&gt;m_scene &amp;&amp; p-&gt;m_scene-&gt;m_springWater)
3497:     //     {
3498:     //         LDEBUG(&quot;m_springWater:&quot; &lt;&lt; p-&gt;m_scene-&gt;m_springWater-&gt;m_sid);
3499:     //         if (req.sid() == p-&gt;m_scene-&gt;m_springWater-&gt;m_sid)
3500:     //         {
3501:     //             int32_t collect_radius = g_ScGlobalData.pdc_siege_data-&gt;material_collect_radius();
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="3530" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_YIN_DAO_SCENE_RES::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_YIN_DAO_SCENE_RES::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_YIN_DAO_SCENE_RES" content="3520:     //     resp.set_isok(result);
3521:     //     return OPER_RES_PROTO;
3522:     // }
3523: 
3524:     // p-&gt;m_skill_ctrl.m_casting.StartCasting(CastingType::SPRING_WATER, collect_res_callback::collect_water_callback);
3525: 
3526:     resp.set_isok(E_CORRECT);
3527:     return OPER_RES_PROTO;
3528: }
3529: 
3530: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_YIN_DAO_SCENE_RES)
3531: {
3532:     resp.set_isok(E_CORRECT);
3533:     return OPER_RES_PROTO;
3534: }
3535: 
3536: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_GET_SCENE_RES)
3537: {
3538:     int32_t result = p-&gt;player_collect_res(req.sid(), protos::COLLECT_RES_JUNZI);
3539:     //不管成功失败，都要中断了
3540:     p-&gt;m_skill_ctrl.m_casting.Interrupt(CastingInterruptReason::BE_NORMAL);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="3536" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_GET_SCENE_RES::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_GET_SCENE_RES::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_GET_SCENE_RES" content="3526:     resp.set_isok(E_CORRECT);
3527:     return OPER_RES_PROTO;
3528: }
3529: 
3530: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_YIN_DAO_SCENE_RES)
3531: {
3532:     resp.set_isok(E_CORRECT);
3533:     return OPER_RES_PROTO;
3534: }
3535: 
3536: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_GET_SCENE_RES)
3537: {
3538:     int32_t result = p-&gt;player_collect_res(req.sid(), protos::COLLECT_RES_JUNZI);
3539:     //不管成功失败，都要中断了
3540:     p-&gt;m_skill_ctrl.m_casting.Interrupt(CastingInterruptReason::BE_NORMAL);
3541:     resp.set_isok(result);
3542:     return OPER_RES_PROTO;
3543: }
3544: 
3545: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_SUBMIT_SCENE_RES) { return OPER_RES_PROTO; }
3546: 
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="3545" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_SUBMIT_SCENE_RES::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_SUBMIT_SCENE_RES::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_SUBMIT_SCENE_RES" content="3535: 
3536: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_GET_SCENE_RES)
3537: {
3538:     int32_t result = p-&gt;player_collect_res(req.sid(), protos::COLLECT_RES_JUNZI);
3539:     //不管成功失败，都要中断了
3540:     p-&gt;m_skill_ctrl.m_casting.Interrupt(CastingInterruptReason::BE_NORMAL);
3541:     resp.set_isok(result);
3542:     return OPER_RES_PROTO;
3543: }
3544: 
3545: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_SUBMIT_SCENE_RES) { return OPER_RES_PROTO; }
3546: 
3547: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_YIN_DAO_WAR_RES)
3548: {
3549:     resp.set_isok(E_CORRECT);
3550:     return OPER_RES_PROTO;
3551: }
3552: 
3553: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_GET_WAR_RES)
3554: {
3555:     int32_t isok = p-&gt;player_collect_res(req.sid(), protos::COLLECT_RES_WAR);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="3547" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_YIN_DAO_WAR_RES::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_YIN_DAO_WAR_RES::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_YIN_DAO_WAR_RES" content="3537: {
3538:     int32_t result = p-&gt;player_collect_res(req.sid(), protos::COLLECT_RES_JUNZI);
3539:     //不管成功失败，都要中断了
3540:     p-&gt;m_skill_ctrl.m_casting.Interrupt(CastingInterruptReason::BE_NORMAL);
3541:     resp.set_isok(result);
3542:     return OPER_RES_PROTO;
3543: }
3544: 
3545: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_SUBMIT_SCENE_RES) { return OPER_RES_PROTO; }
3546: 
3547: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_YIN_DAO_WAR_RES)
3548: {
3549:     resp.set_isok(E_CORRECT);
3550:     return OPER_RES_PROTO;
3551: }
3552: 
3553: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_GET_WAR_RES)
3554: {
3555:     int32_t isok = p-&gt;player_collect_res(req.sid(), protos::COLLECT_RES_WAR);
3556:     resp.set_isok(isok);
3557:     if (E_CORRECT == isok)
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="3553" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_GET_WAR_RES::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_GET_WAR_RES::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_GET_WAR_RES" content="3543: }
3544: 
3545: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_SUBMIT_SCENE_RES) { return OPER_RES_PROTO; }
3546: 
3547: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_YIN_DAO_WAR_RES)
3548: {
3549:     resp.set_isok(E_CORRECT);
3550:     return OPER_RES_PROTO;
3551: }
3552: 
3553: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_GET_WAR_RES)
3554: {
3555:     int32_t isok = p-&gt;player_collect_res(req.sid(), protos::COLLECT_RES_WAR);
3556:     resp.set_isok(isok);
3557:     if (E_CORRECT == isok)
3558:     {
3559:         resp.set_num(p-&gt;m_nation_war_data-&gt;GetResource());
3560:     }
3561:     //不管成功失败，都要中断了
3562:     p-&gt;m_skill_ctrl.m_casting.Interrupt(CastingInterruptReason::BE_NORMAL);
3563:     return OPER_RES_PROTO;
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="3566" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_SUBMIT_WAR_RES::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_SUBMIT_WAR_RES::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_SUBMIT_WAR_RES" content="3556:     resp.set_isok(isok);
3557:     if (E_CORRECT == isok)
3558:     {
3559:         resp.set_num(p-&gt;m_nation_war_data-&gt;GetResource());
3560:     }
3561:     //不管成功失败，都要中断了
3562:     p-&gt;m_skill_ctrl.m_casting.Interrupt(CastingInterruptReason::BE_NORMAL);
3563:     return OPER_RES_PROTO;
3564: }
3565: 
3566: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_SUBMIT_WAR_RES)
3567: {
3568:     // auto&amp;&amp; sid = req.sid();
3569:     // if (!p-&gt;m_nation_war_data || !p-&gt;m_scene)
3570:     // {
3571:     //     resp.set_isok(E_ERROR_NO_OBJECT);
3572:     //     return OPER_RES_PROTO;
3573:     // }
3574:     // if (0 == p-&gt;m_nation_war_data-&gt;GetResource())
3575:     // {
3576:     //     resp.set_isok(E_ERROR_RESOURCE_IS_NOT_ENOUGH);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="3617" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_EXTRACT_WAR_RES::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_EXTRACT_WAR_RES::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_EXTRACT_WAR_RES" content="3607:     // p-&gt;m_nation_war_data-&gt;SetResource(0);
3608:     // // if (p-&gt;m_scene-&gt;m_war)
3609:     // // {
3610:     // //     p-&gt;m_scene-&gt;m_war-&gt;save_player_data(p, p-&gt;m_nation_war_data-&gt;GetResource(), NATIONWAR_RES_ADD);
3611:     // // }
3612:     // resp.set_isok(E_CORRECT);
3613:     // resp.set_res(p-&gt;m_nation_war_data-&gt;GetResource());
3614:     return OPER_RES_PROTO;
3615: }
3616: 
3617: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_EXTRACT_WAR_RES)
3618: {
3619:     // auto&amp;&amp; sid = req.sid();
3620:     // auto&amp;&amp; num = req.num();
3621:     // if (!p-&gt;m_nation_war_data || !p-&gt;m_scene)
3622:     // {
3623:     //     resp.set_isok(E_ERROR_NO_OBJECT);
3624:     //     return OPER_RES_PROTO;
3625:     // }
3626: 
3627:     // auto it_obj = p-&gt;m_scene-&gt;m_war_res_spot.find(sid);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="3713" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_PUT_DOWN_RES::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_PUT_DOWN_RES::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_PUT_DOWN_RES" content="3703: //            p_212.set_sid(p-&gt;m_sid);
3704: //            p_212.set_charid(resp.charid());
3705: //            p-&gt;m_scene-&gt;broadcast_obj(p_212, E_C2S_BROADCAST_RANK_UP, *p);
3706: //            LDEBUG(&quot;E_C2S_BROADCAST_RANK_UP:&quot; &lt;&lt; g_PBPrinter.getJsonStream(p_212));
3707: //        }
3708: //    }
3709: //
3710: //    return OPER_RES_DONNOT_RETURN;
3711: //}
3712: 
3713: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_PUT_DOWN_RES)
3714: {
3715:     //p-&gt;revive_war_res();
3716:     resp.set_isok(E_CORRECT);
3717:     return OPER_RES_PROTO;
3718: }
3719: 
3720: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_YIN_DAO_ATK_RES_SPOT)
3721: {
3722:     // p-&gt;m_skill_ctrl.m_casting.StartCasting(CastingType::ATK_WAR_RES_SPOT, collect_res_callback::atk_callback);
3723:     // p-&gt;add_buff(g_ScGlobalData.pdc_siege_data-&gt;destroy_buff_id(), 0);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="3720" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_YIN_DAO_ATK_RES_SPOT::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_YIN_DAO_ATK_RES_SPOT::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_YIN_DAO_ATK_RES_SPOT" content="3710: //    return OPER_RES_DONNOT_RETURN;
3711: //}
3712: 
3713: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_PUT_DOWN_RES)
3714: {
3715:     //p-&gt;revive_war_res();
3716:     resp.set_isok(E_CORRECT);
3717:     return OPER_RES_PROTO;
3718: }
3719: 
3720: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_YIN_DAO_ATK_RES_SPOT)
3721: {
3722:     // p-&gt;m_skill_ctrl.m_casting.StartCasting(CastingType::ATK_WAR_RES_SPOT, collect_res_callback::atk_callback);
3723:     // p-&gt;add_buff(g_ScGlobalData.pdc_siege_data-&gt;destroy_buff_id(), 0);
3724:     resp.set_isok(E_CORRECT);
3725:     return OPER_RES_PROTO;
3726: }
3727: 
3728: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_ATK_RES_SPOT)
3729: {
3730:     // auto&amp;&amp; sid = req.sid();
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="3728" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_ATK_RES_SPOT::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_ATK_RES_SPOT::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_ATK_RES_SPOT" content="3718: }
3719: 
3720: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_YIN_DAO_ATK_RES_SPOT)
3721: {
3722:     // p-&gt;m_skill_ctrl.m_casting.StartCasting(CastingType::ATK_WAR_RES_SPOT, collect_res_callback::atk_callback);
3723:     // p-&gt;add_buff(g_ScGlobalData.pdc_siege_data-&gt;destroy_buff_id(), 0);
3724:     resp.set_isok(E_CORRECT);
3725:     return OPER_RES_PROTO;
3726: }
3727: 
3728: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_ATK_RES_SPOT)
3729: {
3730:     // auto&amp;&amp; sid = req.sid();
3731:     // if (!p-&gt;m_scene)
3732:     // {
3733:     //     resp.set_isok(E_ERROR_PLAYER_NOT_IN_SCENE);
3734:     //     return OPER_RES_PROTO;
3735:     // }
3736: 
3737:     // int32_t isok = E_CORRECT;
3738:     // if (!p-&gt;m_skill_ctrl.m_casting.IsCasting())
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="3798" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_AUTO_BLOOD_BAG::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_AUTO_BLOOD_BAG::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_AUTO_BLOOD_BAG" content="3788:     // war_res_spot-&gt;change_war_res(-num);
3789:     // // if (p-&gt;m_scene-&gt;m_war)
3790:     // // {
3791:     // //     p-&gt;m_scene-&gt;m_war-&gt;save_player_data(p, num, NATIONWAR_RES_HURT);
3792:     // // }
3793:     // resp.set_isok(isok);
3794:     // resp.set_num(num);
3795:     return OPER_RES_PROTO;
3796: }
3797: 
3798: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_AUTO_BLOOD_BAG)
3799: {
3800:     p-&gt;set_blood_bag_open(req.open());
3801:     resp.set_isok(E_CORRECT);
3802:     return OPER_RES_PROTO;
3803: }
3804: 
3805: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_S2S_PUSH_ADD_BLOOD_BAD)
3806: {
3807:     //RESPOND(E_S2S_PUSH_ADD_BLOOD_BAD) resp;
3808: 
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="3805" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_S2S_PUSH_ADD_BLOOD_BAD::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_S2S_PUSH_ADD_BLOOD_BAD::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_S2S_PUSH_ADD_BLOOD_BAD" content="3795:     return OPER_RES_PROTO;
3796: }
3797: 
3798: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_AUTO_BLOOD_BAG)
3799: {
3800:     p-&gt;set_blood_bag_open(req.open());
3801:     resp.set_isok(E_CORRECT);
3802:     return OPER_RES_PROTO;
3803: }
3804: 
3805: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_S2S_PUSH_ADD_BLOOD_BAD)
3806: {
3807:     //RESPOND(E_S2S_PUSH_ADD_BLOOD_BAD) resp;
3808: 
3809:     //if (resp.ParseFromArray(smsg-&gt;GetBodyBuf(), smsg-&gt;GetBodySize()))
3810:     //{
3811:     //    LDEBUG(&quot;rep E_S2S_PUSH_ADD_BLOOD_BAD: &quot; &lt;&lt; g_PBPrinter.getJsonStream(resp));
3812:     //    int64_t roleid = 0;
3813:     //    if (0 == roleid)
3814:     //    {
3815:     //        if (netPeer)
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="3831" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_S2C_COLLECT_ARENA_BLOOD_BAG::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_S2C_COLLECT_ARENA_BLOOD_BAG::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_S2C_COLLECT_ARENA_BLOOD_BAG" content="3821:     //    SPlayer* p = g_ScGlobalData.get_player_byid(roleid);
3822:     //    if (p)
3823:     {
3824:         p-&gt;set_blood_bag(p-&gt;get_blood_bag() + req.blood_bag());
3825:     }
3826:     //}
3827: 
3828:     return OPER_RES_DONNOT_RETURN;
3829: }
3830: 
3831: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_S2C_COLLECT_ARENA_BLOOD_BAG)
3832: {
3833:     int32_t code = E_CORRECT;
3834:     ArenaRoom* _room = g_ScGlobalData.get_player_areanroom(p-&gt;m_roleid);
3835:     if (!_room)
3836:     {
3837:         code = E_ERROR_ROLE_NOT_FOUND;
3838:     }
3839:     else
3840:     {
3841:         //判断是否在收集点旁边
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="3852" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_S2S_GS2SC_ADD_BUFF::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_S2S_GS2SC_ADD_BUFF::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_S2S_GS2SC_ADD_BUFF" content="3842:         //if (!_room-&gt;collect_blood_bag(p, req.sid()))
3843:         {
3844:             code = E_ERROR_COLLECT;
3845:         }
3846:     }
3847: 
3848:     resp.set_isok(code);
3849:     return OPER_RES_STRING;
3850: }
3851: 
3852: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_S2S_GS2SC_ADD_BUFF)
3853: {
3854:     // 给玩家加buff
3855:     for (int32_t i = 0; i &lt; req.buffs_size(); ++i)
3856:     {
3857:         uint32_t buff_id = static_cast&lt;uint32_t&gt;(req.buffs(i).key());
3858:         uint32_t msec = static_cast&lt;uint32_t&gt;(req.buffs(i).val());
3859:         // 玩家加buff
3860:         p-&gt;add_buff(buff_id, msec, 0, p);
3861:         LDEBUG(&quot;E_S2S_GS2SC_ADD_BUFF, 玩家加buff, buffid:&quot; &lt;&lt; buff_id &lt;&lt; &quot;, bufftime(ms):&quot; &lt;&lt; msec);
3862:     }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="3866" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_CS2SC_CANCEL_DSC::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_CS2SC_CANCEL_DSC::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_CS2SC_CANCEL_DSC" content="3856:     {
3857:         uint32_t buff_id = static_cast&lt;uint32_t&gt;(req.buffs(i).key());
3858:         uint32_t msec = static_cast&lt;uint32_t&gt;(req.buffs(i).val());
3859:         // 玩家加buff
3860:         p-&gt;add_buff(buff_id, msec, 0, p);
3861:         LDEBUG(&quot;E_S2S_GS2SC_ADD_BUFF, 玩家加buff, buffid:&quot; &lt;&lt; buff_id &lt;&lt; &quot;, bufftime(ms):&quot; &lt;&lt; msec);
3862:     }
3863:     return OPER_RES_DONNOT_RETURN;
3864: }
3865: 
3866: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_CS2SC_CANCEL_DSC)
3867: {
3868:     // DouShouChang* dsc_room = g_ScGlobalData.get_player_DSCRoom(p-&gt;m_roleid);
3869:     // if (dsc_room)
3870:     // {
3871:     //     dsc_room-&gt;cancel_dsc(p);
3872:     // }
3873:     resp.set_isok(E_CORRECT);
3874:     return OPER_RES_STRING;
3875: }
3876: 
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="3877" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_SC2CS_TEAM_CALL_IN::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_SC2CS_TEAM_CALL_IN::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_SC2CS_TEAM_CALL_IN" content="3867: {
3868:     // DouShouChang* dsc_room = g_ScGlobalData.get_player_DSCRoom(p-&gt;m_roleid);
3869:     // if (dsc_room)
3870:     // {
3871:     //     dsc_room-&gt;cancel_dsc(p);
3872:     // }
3873:     resp.set_isok(E_CORRECT);
3874:     return OPER_RES_STRING;
3875: }
3876: 
3877: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_SC2CS_TEAM_CALL_IN)
3878: {
3879:     if (p-&gt;m_scene)
3880:     {
3881:         resp.set_isok(E_CORRECT);
3882:         resp.set_scene_no(p-&gt;m_scene-&gt;m_excel_id);
3883:         resp.set_scene_id(p-&gt;m_scene-&gt;GetId());
3884:         resp.mutable_pos()-&gt;set_layer(p-&gt;m_pos.layer);
3885:         resp.mutable_pos()-&gt;set_x(p-&gt;m_pos.p2d.x);
3886:         resp.mutable_pos()-&gt;set_y(p-&gt;m_pos.p2d.y);
3887:         return OPER_RES_STRING;
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="4168" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_GS2CS_RIDE_HORSE::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_GS2CS_RIDE_HORSE::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_GS2CS_RIDE_HORSE" content="4158: //     //{
4159: //     //	for (auto it = arena-&gt;m_scene-&gt;m_arenaBloodBag.begin(); it != arena-&gt;m_scene-&gt;m_arenaBloodBag.end(); ++it)
4160: //     //	{
4161: //     //		arena-&gt;push_arena_blood_bag(it-&gt;first, it-&gt;second-&gt;m_state);
4162: //     //	}
4163: //     //}
4164: 
4165: //     return OPER_RES_PROTO;
4166: // }
4167: 
4168: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_GS2CS_RIDE_HORSE)
4169: {
4170: 
4171:     int32_t speed = req.add_speed_ratio();
4172:     // if (g_ScGlobalData.get_active_dispute_war_scene(p))
4173:     // {//在争夺战里面的话  改下速度
4174:     //     speed = g_ConstData.get_m_Constant()[1]-&gt;mount_ride_speed();
4175:     // }
4176:     p-&gt;update_speed4horse(req.is_ride(), req.id(), speed);
4177:     /*RESPOND(E_C2S_RIDE_HORSE) push;
4178:     push.set_isok(E_CORRECT);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="4315" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_GS2SC_GET_NEW_TASK::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_GS2SC_GET_NEW_TASK::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_GS2SC_GET_NEW_TASK" content="4305: //        }
4306: //        SPlayer* p = g_ScGlobalData.get_player_byid(role_id);
4307: //        if (p &amp;&amp; p-&gt;m_scene)
4308: //        {
4309: //            p-&gt;Move2MainTownScenePosition();
4310: //        }
4311: //    }
4312: //    return OPER_RES_DONNOT_RETURN;
4313: //}
4314: 
4315: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_GS2SC_GET_NEW_TASK)
4316: {
4317:     p-&gt;OnAcceptedTask(req.task_id());
4318:     return OPER_RES_DONNOT_RETURN;
4319: }
4320: 
4321: // SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_GS2SC_ADD_COUNTRY_RESOURCE)
4322: // {
4323: //     g_ScGlobalData.push_add_country_resource(1, p-&gt;m_faction, p-&gt;get_scene_excel_id());
4324: //     return OPER_RES_DONNOT_RETURN;
4325: // }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="4327" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_GS2SC_GIVE_UP_TASK::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_GS2SC_GIVE_UP_TASK::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_GS2SC_GIVE_UP_TASK" content="4317:     p-&gt;OnAcceptedTask(req.task_id());
4318:     return OPER_RES_DONNOT_RETURN;
4319: }
4320: 
4321: // SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_GS2SC_ADD_COUNTRY_RESOURCE)
4322: // {
4323: //     g_ScGlobalData.push_add_country_resource(1, p-&gt;m_faction, p-&gt;get_scene_excel_id());
4324: //     return OPER_RES_DONNOT_RETURN;
4325: // }
4326: 
4327: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_GS2SC_GIVE_UP_TASK)
4328: {
4329:     p-&gt;OnGiveUpTask(req.task_id());
4330:     return OPER_RES_DONNOT_RETURN;
4331: }
4332: CROSS_SERVER_MSG_HANDLE(E_S2S_MANAGER_CREATE_WATER_RIPPLE_ROOM)
4333: {
4334:     auto&amp;&amp; req_data = req.data();
4335:     int32_t scene_id = req_data.scene_id();
4336:     int32_t task_id = req_data.task_id();
4337:     int64_t role_id = req_data.role_id();
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="4385" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_TOUCH_COLLISION::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_TOUCH_COLLISION::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_TOUCH_COLLISION" content="4375: //
4376: //	return OPER_RES_DONNOT_RETURN;
4377: //}
4378: 
4379: CROSS_SERVER_MSG_HANDLE(E_S2S_RECYCLE_GUILD_RANK_SCENE)
4380: {
4381:     g_ScGlobalData.recycle_guild_rank_scene();
4382:     return OPER_RES_DONNOT_RETURN;
4383: }
4384: 
4385: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_TOUCH_COLLISION)
4386: {
4387:     resp.set_isok(E_CORRECT);
4388:     if (p-&gt;m_scene)
4389:     {
4390:         auto it = p-&gt;m_scene-&gt;m_collision.find(req.obj_sid());
4391:         if (it != p-&gt;m_scene-&gt;m_collision.end())
4392:         {
4393:             if (it-&gt;second-&gt;HandleTouch(p))
4394:             {
4395:                 SCTouchElemEvent trg_event(req.obj_sid());
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="440" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_MOVE::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_MOVE::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_MOVE" content="430:                 return SetIsokAndReturn(E_ERROR_NOT_FIND_PEER);
431:             }
432:         }
433: 
434:         return OPER_RES_PROTO;
435:     }
436: }
437: 
438: //#define TEST_MOVE
439: 
440: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_MOVE)
441: {
442:     SC_MSG_WITH_ROLE_CHECK_ENTER_SCENE()
443: 
444:     auto&amp; player = p;
445:     auto&amp; recv = req;
446:     LDEBUG(&quot;E_C2S_MOVE &quot; &lt;&lt; g_PBPrinter.getJsonStream(recv));
447:     //const int MAX_LEGAL_MOVE_DISTANCE = 100 * 1000;
448:     if (player-&gt;is_fishing)  //钓鱼状态 要移除 钓鱼buff
449:     {
450:         player-&gt;clearFishingBuff();
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="4508" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_CLIENT_DO_ACT_DONE::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_CLIENT_DO_ACT_DONE::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_CLIENT_DO_ACT_DONE" content="4498: 
4499:         LDEBUG(&quot;E_MS2SC_CREATE_DUNGEON_SCENE:&quot; &lt;&lt; g_PBPrinter.getJsonStream(resp));
4500:     }
4501:     else
4502:     {
4503:         resp.set_isok(E_ERROR_NOT_EXIST_SCENE_ID);
4504:     }
4505:     return OPER_RES_PROTO;
4506: }
4507: 
4508: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_CLIENT_DO_ACT_DONE)
4509: {
4510: 
4511:     resp.set_isok(E_CORRECT);
4512:     if (req.act_type() == protos::E_CLIENT_ACT_TYPE_PLAY_ANIMATION)
4513:     {
4514:         SCTrgStringCommonEvent trg_event(E_SCTRG_EVENT_ANIMATE_PLAY, req.act_param().svalue());
4515:         trg_event.Trigger(p-&gt;m_scene);
4516:         if (p-&gt;m_scene &amp;&amp; p-&gt;m_scene-&gt;m_dungeon)
4517:         {
4518:             p-&gt;m_scene-&gt;m_dungeon-&gt;DeleteWaitClientEvent(protos::E_CLIENT_ACT_TYPE_PLAY_ANIMATION);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="4581" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_GET_DUNGEON_PROGRESS::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_GET_DUNGEON_PROGRESS::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_GET_DUNGEON_PROGRESS" content="4571:     }
4572:     else
4573:     {
4574:         resp.set_isok(E_ERROR_PLAYER_OFFLINE);
4575:     }
4576: 
4577:     return OPER_RES_PROTO;
4578: }
4579: 
4580: 
4581: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_GET_DUNGEON_PROGRESS)
4582: {
4583:     resp.set_isok(E_CORRECT);
4584:     if (p &amp;&amp; p-&gt;m_scene &amp;&amp; p-&gt;m_scene-&gt;m_dungeon)
4585:     {
4586:         resp.set_progress(p-&gt;m_scene-&gt;m_dungeon-&gt;cur_progress_);
4587:         resp.set_max_progress(p-&gt;m_scene-&gt;m_dungeon-&gt;max_progress_);
4588:         resp.set_rest_time(p-&gt;m_scene-&gt;m_dungeon-&gt;GetRestTime());
4589:         resp.set_pass_time(p-&gt;m_scene-&gt;m_dungeon-&gt;GetPassTime()/* + p-&gt;m_scene-&gt;m_dungeon-&gt;offset_time_*/);
4590:     }
4591:     return OPER_RES_PROTO;
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="4594" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_S2S_GET_SCENE_LOCATION::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_S2S_GET_SCENE_LOCATION::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_S2S_GET_SCENE_LOCATION" content="4584:     if (p &amp;&amp; p-&gt;m_scene &amp;&amp; p-&gt;m_scene-&gt;m_dungeon)
4585:     {
4586:         resp.set_progress(p-&gt;m_scene-&gt;m_dungeon-&gt;cur_progress_);
4587:         resp.set_max_progress(p-&gt;m_scene-&gt;m_dungeon-&gt;max_progress_);
4588:         resp.set_rest_time(p-&gt;m_scene-&gt;m_dungeon-&gt;GetRestTime());
4589:         resp.set_pass_time(p-&gt;m_scene-&gt;m_dungeon-&gt;GetPassTime()/* + p-&gt;m_scene-&gt;m_dungeon-&gt;offset_time_*/);
4590:     }
4591:     return OPER_RES_PROTO;
4592: }
4593: 
4594: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_S2S_GET_SCENE_LOCATION)
4595: {
4596:     auto&amp;&amp; cur = p-&gt;getCurPos();
4597:     auto&amp;&amp; loc = *resp.mutable_pos();
4598:     loc.set_x(cur.p2d.x);
4599:     loc.set_y(cur.p2d.y);
4600:     loc.set_layer(cur.layer);
4601:     resp.set_isok(E_CORRECT);
4602:     if (p-&gt;m_scene)
4603:     {
4604:         resp.set_map_id(p-&gt;m_scene-&gt;m_excel_id);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="4640" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_GS2SC_GET_CRYSTAL_USE_ITEM::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_GS2SC_GET_CRYSTAL_USE_ITEM::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_GS2SC_GET_CRYSTAL_USE_ITEM" content="4630: // 		}
4631: // 		if (p &amp;&amp; p-&gt;m_scene &amp;&amp; p-&gt;m_scene-&gt;m_dungeon)
4632: // 		{
4633: // 			p-&gt;m_scene-&gt;m_dungeon-&gt;RecordRoleOldSceneInfo(role_id,
4634: // org_scene, org_pos, resp.scene_copy_id());
4635: // 		}
4636: // 	}
4637: // 	return OPER_RES_DONNOT_RETURN;
4638: // }
4639: 
4640: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_GS2SC_GET_CRYSTAL_USE_ITEM)
4641: {
4642:     p-&gt;m_crystal_item[req.item_id()] += req.num();
4643:     RESPOND(E_C2S_CRYSTAL_ITEM) push;
4644:     for (auto&amp;&amp; one : p-&gt;m_crystal_item)
4645:     {
4646:         protos::guildcopy_item* pb = push.add_items();
4647:         pb-&gt;set_item_id(one.first);
4648:         pb-&gt;set_num(one.second);
4649:     }
4650: 
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="4656" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_USE_CRYSTAL_ITEM::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_USE_CRYSTAL_ITEM::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_USE_CRYSTAL_ITEM" content="4646:         protos::guildcopy_item* pb = push.add_items();
4647:         pb-&gt;set_item_id(one.first);
4648:         pb-&gt;set_num(one.second);
4649:     }
4650: 
4651:     p-&gt;player_push_msg(E_C2S_CRYSTAL_ITEM, push, SERVER_GG);
4652:     resp.set_isok(E_CORRECT);
4653:     return OPER_RES_PROTO;
4654: }
4655: 
4656: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_USE_CRYSTAL_ITEM)
4657: {
4658:     auto&amp;&amp; item_id = req.item_id();
4659:     auto it = p-&gt;m_crystal_item.find(item_id);
4660:     if (it == p-&gt;m_crystal_item.end())
4661:     {
4662:         resp.set_isok(E_ERROR_ITEM_NOT_ENOUGH);
4663:         return OPER_RES_PROTO;
4664:     }
4665: 
4666:     it-&gt;second -= 1;
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="4708" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_GS2SC_CHECK_TREASURE_POS::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_GS2SC_CHECK_TREASURE_POS::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_GS2SC_CHECK_TREASURE_POS" content="4698:         pb-&gt;set_item_id(one.first);
4699:         pb-&gt;set_num(one.second);
4700:     }
4701: 
4702:     p-&gt;player_push_msg(E_C2S_CRYSTAL_ITEM, push, SERVER_GG);
4703: 
4704:     resp.set_isok(E_CORRECT);
4705:     return OPER_RES_PROTO;
4706: }
4707: 
4708: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_GS2SC_CHECK_TREASURE_POS)
4709: {
4710:     // auto&amp;&amp; treasure_target = req.treasure_target();
4711:     // if (!p-&gt;m_scene)
4712:     // {
4713:     //     resp.set_isok(E_ERROR_SCENE_NO);
4714:     //     return OPER_RES_PROTO;
4715:     // }
4716: 
4717:     // //坐标判断
4718:     // auto it_scene = g_ConstData.get_m_treasure_target().find(treasure_target);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="4798" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_GS2SC_TRANS_ROLE2DUNGEON::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_GS2SC_TRANS_ROLE2DUNGEON::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_GS2SC_TRANS_ROLE2DUNGEON" content="4788:         Location location;
4789:         bool need_rush(false);
4790:         Location rush_pos;
4791:         int32_t target_id = 0;
4792:         auto &amp;&amp;ret = p-&gt;cast_skill_from_server(++p-&gt;m_skill_seq, skill_id,
4793: target_id,location,need_rush,rush_pos); resp.set_isok(ret);
4794:     }
4795:     return OPER_RES_PROTO;
4796: }*/
4797: 
4798: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_GS2SC_TRANS_ROLE2DUNGEON)
4799: {
4800:     int32_t dungeon_id = req.dungeon_id();
4801:     // 向CS请求
4802:     if (p-&gt;m_scene)
4803:     {
4804:         REQUEST(E_C2S_ENTER_DUNGEON) cs_req;
4805:         cs_req.set_dungeon_id(dungeon_id);
4806:         cs_req.set_scene_id(p-&gt;m_scene-&gt;m_excel_id);
4807:         cs_req.mutable_pos()-&gt;set_x(p-&gt;getCurPos().p2d.x);
4808:         cs_req.mutable_pos()-&gt;set_y(p-&gt;getCurPos().p2d.y);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="4851" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_ENTER_FAST_RUNNING_STATE::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_ENTER_FAST_RUNNING_STATE::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_ENTER_FAST_RUNNING_STATE" content="4841:             g_ScGlobalData.setGuildCampObj(one.second, req.camp_obj_info());
4842:             resp.set_isok(E_CORRECT);
4843:             return OPER_RES_STRING;
4844:         }
4845:     }
4846:     //未找到工会场景,这种情况也可能出现,不需要处理
4847:     resp.set_isok(E_ERROR_SCENE_SERVER_NOT_FOUND);
4848:     return OPER_RES_STRING;
4849: }
4850: 
4851: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_ENTER_FAST_RUNNING_STATE)
4852: {
4853:     auto&amp;&amp; ret = p-&gt;set_fast_run(true);
4854:     if (ret)
4855:     {
4856:         resp.set_isok(E_CORRECT);
4857:     }
4858:     else
4859:     {
4860:         resp.set_isok(E_ERROR_FAST_RUNNING_INVALID_ASK);
4861:     }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="4865" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_LEAVING_FAST_RUNNING_STATE::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_LEAVING_FAST_RUNNING_STATE::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_LEAVING_FAST_RUNNING_STATE" content="4855:     {
4856:         resp.set_isok(E_CORRECT);
4857:     }
4858:     else
4859:     {
4860:         resp.set_isok(E_ERROR_FAST_RUNNING_INVALID_ASK);
4861:     }
4862:     return OPER_RES_PROTO;
4863: }
4864: 
4865: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_LEAVING_FAST_RUNNING_STATE)
4866: {
4867:     bool is_act = req.is_act();
4868:     auto&amp;&amp; pos = req.pos();
4869:     protos::location* interiaPos = nullptr;
4870:     if(req.has_interiapos())
4871:     {
4872:         interiaPos = req.mutable_interiapos();
4873:     }
4874:     auto&amp;&amp; ret = p-&gt;cancel_fast_run(true, is_act, pos, interiaPos);
4875:     if (ret)
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="4886" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_GS2SC_PLAYER_HUNT_PREY::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_GS2SC_PLAYER_HUNT_PREY::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_GS2SC_PLAYER_HUNT_PREY" content="4876:     {
4877:         resp.set_isok(E_CORRECT);
4878:     }
4879:     else
4880:     {
4881:         resp.set_isok(E_ERROR_FAST_RUNNING_INVALID_ASK);
4882:     }
4883:     return OPER_RES_PROTO;
4884: }
4885: 
4886: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_GS2SC_PLAYER_HUNT_PREY)
4887: {
4888:     if (p-&gt;m_scene)
4889:     {
4890:         int32_t prey_sid = req.prey_sid();
4891:         auto it_collect = p-&gt;m_scene-&gt;m_collects.find(prey_sid);
4892:         if (it_collect != p-&gt;m_scene-&gt;m_collects.end())
4893:         {
4894:             Collect* hunt_prey = it_collect-&gt;second;
4895:             if (E_CORRECT == req.isok())
4896:             {
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="4970" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_GS2SC_TRANSFER_PLAYER_MSG::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_GS2SC_TRANSFER_PLAYER_MSG::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_GS2SC_TRANSFER_PLAYER_MSG" content="4960:         for (auto&amp;&amp; one : data)
4961:         {
4962:             resp.add_info()-&gt;CopyFrom(one);
4963:         }
4964:     }
4965: 
4966:     resp.set_isok(E_CORRECT);
4967:     return OPER_RES_PROTO;
4968: }
4969: 
4970: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_GS2SC_TRANSFER_PLAYER_MSG)
4971: {
4972:     Session* session_pt = smsg-&gt;GetConnection();
4973:     if (session_pt)
4974:     {
4975:         SMessage* new_smsg = (SMessage*)session_pt-&gt;CreateMessage();
4976:         new_smsg-&gt;SetHead(req.msg_type(), req.msg_type(), session_pt-&gt;get_servertype(), NetPeerApi::getPeerId(netPeer),
4977:                           session_pt-&gt;GetSocketFD());
4978:         new_smsg-&gt;SetContent((const uint8_t*)(req.msg_content().c_str()), req.msg_content().size());
4979:         new_smsg-&gt;SetRequestNo(req.req_no());
4980:         new_smsg-&gt;SetAckNo(req.ack_no());
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="4988" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_GS2SC_REMOVE_BUFF::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_GS2SC_REMOVE_BUFF::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_GS2SC_REMOVE_BUFF" content="4978:         new_smsg-&gt;SetContent((const uint8_t*)(req.msg_content().c_str()), req.msg_content().size());
4979:         new_smsg-&gt;SetRequestNo(req.req_no());
4980:         new_smsg-&gt;SetAckNo(req.ack_no());
4981:         new_smsg-&gt;Encode();
4982:         g_JobQueue.submitjob((BMessage*)new_smsg);
4983:     }
4984: 
4985:     return OPER_RES_DONNOT_RETURN;
4986: }
4987: 
4988: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_GS2SC_REMOVE_BUFF)
4989: {
4990:     int32_t buff_id = req.buff_id();
4991:     p-&gt;remove_appoint_buff(buff_id);
4992:     return OPER_RES_DONNOT_RETURN;
4993: }
4994: 
4995: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_S2SC_MOVE_ROLE_TO_THIS_SCENE_POS)
4996: {
4997:     resp.set_isok(E_CORRECT);
4998:     LDEBUG(&quot;E_S2SC_MOVE_ROLE_TO_THIS_SCENE_POS,req:&quot; &lt;&lt; g_PBPrinter.getJsonStream(req));
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="4995" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_S2SC_MOVE_ROLE_TO_THIS_SCENE_POS::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_S2SC_MOVE_ROLE_TO_THIS_SCENE_POS::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_S2SC_MOVE_ROLE_TO_THIS_SCENE_POS" content="4985:     return OPER_RES_DONNOT_RETURN;
4986: }
4987: 
4988: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_GS2SC_REMOVE_BUFF)
4989: {
4990:     int32_t buff_id = req.buff_id();
4991:     p-&gt;remove_appoint_buff(buff_id);
4992:     return OPER_RES_DONNOT_RETURN;
4993: }
4994: 
4995: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_S2SC_MOVE_ROLE_TO_THIS_SCENE_POS)
4996: {
4997:     resp.set_isok(E_CORRECT);
4998:     LDEBUG(&quot;E_S2SC_MOVE_ROLE_TO_THIS_SCENE_POS,req:&quot; &lt;&lt; g_PBPrinter.getJsonStream(req));
4999:     // 如果很近，就不移动了
5000:     Location pos(0, req.pos().x(), req.pos().y());
5001:     int64_t distance = static_cast&lt;int32_t&gt;(geometry::distance(pos.p2d, p-&gt;getCurPos().p2d));
5002:     if (distance &gt; 5000)
5003:     {
5004:         p-&gt;initPos(pos, true);
5005:         //// 场景广播
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="5017" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_S2S_PROFESSION_SKILLED_CHANGE::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_S2S_PROFESSION_SKILLED_CHANGE::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_S2S_PROFESSION_SKILLED_CHANGE" content="5007:         // sc_push.set_sid(p-&gt;m_sid);
5008:         // sc_push.mutable_pos()-&gt;set_x(pos.p2d.x);
5009:         // sc_push.mutable_pos()-&gt;set_y(pos.p2d.y);
5010:         // sc_push.mutable_pos()-&gt;set_layer(pos.layer);
5011:         // sc_push.set_face(p-&gt;m_face);
5012:         // p-&gt;m_scene-&gt;push_msg2Allplayer(E_S2C_MOVE_ROLE_TO_POS, sc_push);
5013:     }
5014:     return OPER_RES_PROTO;
5015: }
5016: 
5017: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_S2S_PROFESSION_SKILLED_CHANGE)
5018: {
5019:     p-&gt;m_ProfessSkilledLevel = req.skilled_lvevl();
5020:     resp.set_isok(E_CORRECT);
5021:     return OPER_RES_PROTO;
5022: }
5023: 
5024: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_START_ONE_ACTION)
5025: {
5026:     LDEBUG(&quot;E_C2S_START_ONE_ACTION:&quot; &lt;&lt; g_PBPrinter.getJsonStream(req));
5027:     resp.set_isok(E_CORRECT);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="5024" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_START_ONE_ACTION::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_START_ONE_ACTION::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_START_ONE_ACTION" content="5014:     return OPER_RES_PROTO;
5015: }
5016: 
5017: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_S2S_PROFESSION_SKILLED_CHANGE)
5018: {
5019:     p-&gt;m_ProfessSkilledLevel = req.skilled_lvevl();
5020:     resp.set_isok(E_CORRECT);
5021:     return OPER_RES_PROTO;
5022: }
5023: 
5024: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_START_ONE_ACTION)
5025: {
5026:     LDEBUG(&quot;E_C2S_START_ONE_ACTION:&quot; &lt;&lt; g_PBPrinter.getJsonStream(req));
5027:     resp.set_isok(E_CORRECT);
5028:     p-&gt;DoAction(req.action_id());
5029:     return OPER_RES_PROTO;
5030: }
5031: 
5032: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_END_ACTION)
5033: {
5034:     resp.set_isok(E_CORRECT);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="5032" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_END_ACTION::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_END_ACTION::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_END_ACTION" content="5022: }
5023: 
5024: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_START_ONE_ACTION)
5025: {
5026:     LDEBUG(&quot;E_C2S_START_ONE_ACTION:&quot; &lt;&lt; g_PBPrinter.getJsonStream(req));
5027:     resp.set_isok(E_CORRECT);
5028:     p-&gt;DoAction(req.action_id());
5029:     return OPER_RES_PROTO;
5030: }
5031: 
5032: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_END_ACTION)
5033: {
5034:     resp.set_isok(E_CORRECT);
5035:     p-&gt;StopAllAction();
5036:     return OPER_RES_PROTO;
5037: }
5038: 
5039: CROSS_SERVER_MSG_HANDLE(E_CS2SC_GM_REFRESH_ACT_GATHER)
5040: {
5041:     // auto &amp;&amp;now = Tools::game_now();
5042:     resp.set_isok(E_CORRECT);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="5082" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_GS2SC_DO_MODEL_ACTION::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_GS2SC_DO_MODEL_ACTION::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_GS2SC_DO_MODEL_ACTION" content="5072:                                   }
5073:                           }
5074:                   }
5075:           }
5076: 
5077:   }	*/
5078: 
5079:     return OPER_RES_PROTO;
5080: }
5081: 
5082: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_GS2SC_DO_MODEL_ACTION)
5083: {
5084:     LDEBUG(&quot;E_GS2SC_DO_MODEL_ACTION:&quot; &lt;&lt; g_PBPrinter.getJsonStream(req));
5085:     int32_t action_id = req.action_id();
5086:     p-&gt;DoAction(action_id);
5087: 
5088:     return OPER_RES_DONNOT_RETURN;
5089: }
5090: 
5091: MSG_HANDLE(E_S2S_UPDATE_LOCK_LEVEL)
5092: {
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="5130" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_GC2SC_SET_BLOOD_BAG::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_GC2SC_SET_BLOOD_BAG::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_GC2SC_SET_BLOOD_BAG" content="5120:     if (recv.ParseFromArray(smsg-&gt;GetBodyBuf(), smsg-&gt;GetBodySize()))
5121:     {
5122:         LDEBUG(&quot;E_S2S_UPDATE_WORLD_LEVEL: &quot; &lt;&lt; g_PBPrinter.getJsonStream(recv));
5123:         g_ScGlobalData.m_sccon_level_control_module-&gt;updateWorldLevel(recv.world_level());
5124:         //		g_ScGlobalData.m_service_level = resp.service_level();
5125:     }
5126: 
5127:     return OPER_RES_DONNOT_RETURN;
5128: }
5129: 
5130: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_GC2SC_SET_BLOOD_BAG)
5131: {
5132:     p-&gt;m_blood_bag_per = req.per();
5133:     resp.set_isok(E_CORRECT);
5134:     return OPER_RES_PROTO;
5135: }
5136: 
5137: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_GET_DEATH_DATA)
5138: {
5139:     if (p-&gt;m_state != E_STATE_DEAD)
5140:     {
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="5137" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_GET_DEATH_DATA::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_GET_DEATH_DATA::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_GET_DEATH_DATA" content="5127:     return OPER_RES_DONNOT_RETURN;
5128: }
5129: 
5130: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_GC2SC_SET_BLOOD_BAG)
5131: {
5132:     p-&gt;m_blood_bag_per = req.per();
5133:     resp.set_isok(E_CORRECT);
5134:     return OPER_RES_PROTO;
5135: }
5136: 
5137: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_GET_DEATH_DATA)
5138: {
5139:     if (p-&gt;m_state != E_STATE_DEAD)
5140:     {
5141:         resp.set_isok(E_ERROR_PLAYER_NOT_DIE);
5142:         return OPER_RES_PROTO;
5143:     }
5144:     resp.set_isok(E_CORRECT);
5145:     auto&amp;&amp; data = resp.mutable_death_attacker_data();
5146:     p-&gt;m_damage_static.get_death_data(*data);
5147:     return OPER_RES_PROTO;
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="5150" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_S2S_UPDATE_PLAYER_PROTECT_INFO::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_S2S_UPDATE_PLAYER_PROTECT_INFO::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_S2S_UPDATE_PLAYER_PROTECT_INFO" content="5140:     {
5141:         resp.set_isok(E_ERROR_PLAYER_NOT_DIE);
5142:         return OPER_RES_PROTO;
5143:     }
5144:     resp.set_isok(E_CORRECT);
5145:     auto&amp;&amp; data = resp.mutable_death_attacker_data();
5146:     p-&gt;m_damage_static.get_death_data(*data);
5147:     return OPER_RES_PROTO;
5148: }
5149: 
5150: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_S2S_UPDATE_PLAYER_PROTECT_INFO)
5151: {
5152:     auto protect_flag = req.protect_flag();
5153:     p-&gt;set_protect_flag(protect_flag);
5154:     return OPER_RES_PROTO;
5155: }
5156: 
5157: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_ACTIVE_SKILL_LIST)
5158: {
5159:     for (auto&amp;&amp; one : p-&gt;m_mmo_actions)
5160:     {
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="5157" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_ACTIVE_SKILL_LIST::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_ACTIVE_SKILL_LIST::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_ACTIVE_SKILL_LIST" content="5147:     return OPER_RES_PROTO;
5148: }
5149: 
5150: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_S2S_UPDATE_PLAYER_PROTECT_INFO)
5151: {
5152:     auto protect_flag = req.protect_flag();
5153:     p-&gt;set_protect_flag(protect_flag);
5154:     return OPER_RES_PROTO;
5155: }
5156: 
5157: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_ACTIVE_SKILL_LIST)
5158: {
5159:     for (auto&amp;&amp; one : p-&gt;m_mmo_actions)
5160:     {
5161:         auto skill_id = one.second.get_skill_id();
5162:         auto it_pb = g_ConstData.get_m_SkillInfo_2().find(one.first);
5163:         if (it_pb != g_ConstData.get_m_SkillInfo_2().end())
5164:         {
5165:             int32_t skill_type = it_pb-&gt;second-&gt;skill_type();
5166:             if (E_ACTIVE_SKILL_TYPE == skill_type || E_DODGE_SKILL_TYPE == skill_type ||
5167:                 E_TRIGGER_SKILL_TYPE == skill_type || E_BRANCH_SKILL_TYPE == skill_type ||
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="5204" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_S2SC_JUDGE_PLAYER_AND_OBJ_POSITION::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_S2SC_JUDGE_PLAYER_AND_OBJ_POSITION::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_S2SC_JUDGE_PLAYER_AND_OBJ_POSITION" content="5194:                 //	}
5195:                 //}
5196:             }
5197:         }
5198:     }
5199: 
5200:     resp.set_isok(E_CORRECT);
5201:     return OPER_RES_STRING;
5202: }
5203: 
5204: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_S2SC_JUDGE_PLAYER_AND_OBJ_POSITION)
5205: {
5206:     resp.mutable_org_reg()-&gt;CopyFrom(req);
5207:     if (!p-&gt;m_scene)
5208:     {
5209:         resp.set_isok(E_ERROR_NO_SCENE);
5210:     }
5211:     else if (req.obj_type() == E_POS_CHECK_OBJ_LOGIC_NPC)
5212:     {
5213:         resp.set_isok(E_ERROR_NO_OBJECT);
5214:         for (auto it = p-&gt;m_scene-&gt;m_npcs.begin(); it != p-&gt;m_scene-&gt;m_npcs.end(); ++it)
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="5240" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_ENTER_BRANCH_SCENE::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_ENTER_BRANCH_SCENE::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_ENTER_BRANCH_SCENE" content="5230:             }
5231:         }
5232:     }
5233:     else
5234:     {
5235:         resp.set_isok(E_ERROR_LOGIC_ERROR);
5236:     }
5237:     return OPER_RES_PROTO;
5238: }
5239: 
5240: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_ENTER_BRANCH_SCENE)
5241: {
5242:     if (p-&gt;m_scene)
5243:     {
5244:         int32_t scene_excel_id = p-&gt;m_scene-&gt;m_excel_id;
5245:         int64_t role_id = p-&gt;m_roleid;
5246:         int32_t scene_uid = req.branch_info().scene_copy_id();
5247: 
5248:         if (p-&gt;m_scene-&gt;GetId() == scene_uid)
5249:         {
5250:             resp.set_isok(E_CORRECT);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="5294" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_QUERY_SCENE_BRANCH::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_QUERY_SCENE_BRANCH::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_QUERY_SCENE_BRANCH" content="5284:                                                               &amp;trans_param);
5285:         return OPER_RES_DONNOT_RETURN;
5286:     }
5287:     else
5288:     {
5289:         resp.set_isok(E_ERROR_PARAM_ERROR);
5290:     }
5291:     return OPER_RES_PROTO;
5292: }
5293: 
5294: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_QUERY_SCENE_BRANCH)
5295: {
5296:     // 向MN查询场景分线
5297:     REQUEST(E_S2MN_QUERY_SCENE_BRANCH) mn_req;
5298:     mn_req.set_scene_excel_id(req.scene_excel_id());
5299:     int64_t role_id = p-&gt;m_roleid;
5300: 
5301:     auto mn_cb = [role_id](AsyncRequestHandlerNs::PbMessage&amp; jv, const AsyncRequestHandlerNs::SendMessageEnv&amp; send_env,
5302:                            int32_t ret_protocol_no) {
5303:         RESPOND(E_C2S_QUERY_SCENE_BRANCH) resp_msg;
5304:         resp_msg.set_isok(E_ERROR_PARAM_ERROR);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="5345" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_CS2SC_GET_ROLE_STATE::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_CS2SC_GET_ROLE_STATE::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_CS2SC_GET_ROLE_STATE" content="5335: 
5336:         g_ScGlobalData.push_alone_msg(E_C2S_QUERY_SCENE_BRANCH, resp_msg, role_id);
5337:     };
5338: 
5339:     auto&amp;&amp; req_no = g_AsyncRequestHandlerMgr.MakeAsyncRequest(mn_cb, AsyncRequestHandlerNs::SendMessageEnv());
5340:     auto&amp;&amp; req_msg = CommonFunctions::MakeReqMessage(E_S2MN_QUERY_SCENE_BRANCH, mn_req, 0, 0, req_no);
5341:     ServerListApi::broadcastMsg(SERVER_MN, &amp;req_msg);
5342:     return OPER_RES_DONNOT_RETURN;
5343: }
5344: 
5345: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_CS2SC_GET_ROLE_STATE)
5346: {
5347:     resp.set_state(p-&gt;m_state);
5348:     if (!InterfaceHelper::IsPermanentScene(ConstDataHelper::GetSceneCopyType(p-&gt;get_scene_excel_id())))
5349:     {
5350:         resp.set_is_fixture_scene(false);
5351:     }
5352:     else
5353:     {
5354:         resp.set_is_fixture_scene(true);
5355:     }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="5361" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_GS2CS_SEND_PROFESSION_ID::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_GS2CS_SEND_PROFESSION_ID::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_GS2CS_SEND_PROFESSION_ID" content="5351:     }
5352:     else
5353:     {
5354:         resp.set_is_fixture_scene(true);
5355:     }
5356:     resp.set_isok(E_CORRECT);
5357:     return OPER_RES_PROTO;
5358: }
5359: 
5360: //及时同步m_profession_id
5361: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_GS2CS_SEND_PROFESSION_ID)
5362: {
5363:     p-&gt;m_profession_id = req.profession_id();
5364:     return OPER_RES_DONNOT_RETURN;
5365: }
5366: 
5367: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_S2S_HORN_CHAT)
5368: {
5369:     // 填充坐标信息
5370:     if (p-&gt;m_scene)
5371:     {
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="5367" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_S2S_HORN_CHAT::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_S2S_HORN_CHAT::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_S2S_HORN_CHAT" content="5357:     return OPER_RES_PROTO;
5358: }
5359: 
5360: //及时同步m_profession_id
5361: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_GS2CS_SEND_PROFESSION_ID)
5362: {
5363:     p-&gt;m_profession_id = req.profession_id();
5364:     return OPER_RES_DONNOT_RETURN;
5365: }
5366: 
5367: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_S2S_HORN_CHAT)
5368: {
5369:     // 填充坐标信息
5370:     if (p-&gt;m_scene)
5371:     {
5372:         req.set_scene_id(p-&gt;m_scene-&gt;m_excel_id);
5373:         req.mutable_pos()-&gt;set_x(p-&gt;getCurPos().p2d.x);
5374:         req.mutable_pos()-&gt;set_y(p-&gt;getCurPos().p2d.y);
5375:         req.mutable_pos()-&gt;set_layer(p-&gt;getCurPos().layer);
5376:     }
5377:     // 转发到CS
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="5499" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_GS2SC_ADD_BATTLE_BUFF::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_GS2SC_ADD_BATTLE_BUFF::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_GS2SC_ADD_BATTLE_BUFF" content="5489: 
5490: 
5491: CROSS_SERVER_MSG_HANDLE(E_CS2GS_BROADCAST_COLLECT_COUNT)
5492: {
5493:     g_ScGlobalData.m_survive_count.UpdateFromPb(req);
5494:     resp.set_isok(E_CORRECT);
5495:     return OPER_RES_DONNOT_RETURN;
5496: }
5497: 
5498: // E_GS2SC_ADD_BATTLE_BUFF = 1022,//gs服增加战斗buff
5499: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_GS2SC_ADD_BATTLE_BUFF)
5500: {
5501:     auto ttNow = Tools::game_now();
5502:     auto&amp; gs_buff = req.gs_buff();
5503:     auto gs_buff_id = gs_buff.gs_buff_id();
5504:     auto buff_id = gs_buff.buff_id();
5505:     auto end_time = gs_buff.end_time();
5506:     if (end_time - ttNow &gt; 0)
5507:     {
5508:         action_param param;
5509:         param.values = buff_id;
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="5520" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_GS2SC_REMOVE_BATTLE_BUFF::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_GS2SC_REMOVE_BATTLE_BUFF::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_GS2SC_REMOVE_BATTLE_BUFF" content="5510:         param.msec = (end_time - ttNow) * 1000;
5511:         param.gs_buff_id = gs_buff_id;
5512:         param.gs_end_time = end_time;
5513:         p-&gt;add_buff(param);
5514:     }
5515: 
5516:     resp.set_isok(E_CORRECT);
5517:     return OPER_RES_PROTO;
5518: }
5519: // E_GS2SC_REMOVE_BATTLE_BUFF = 1023,//gs服移除战斗buff
5520: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_GS2SC_REMOVE_BATTLE_BUFF)
5521: {
5522:     auto&amp; gs_buff = req.gs_buff();
5523:     auto gs_buff_id = gs_buff.gs_buff_id();
5524:     // auto buff_id = req.buff_id();
5525:     p-&gt;remove_appoint_buff_from_gs(gs_buff_id);
5526: 
5527:     resp.set_isok(E_CORRECT);
5528:     return OPER_RES_PROTO;
5529: }
5530: 
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="5602" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_CHANGE_PLAYER_MODE::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_CHANGE_PLAYER_MODE::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_CHANGE_PLAYER_MODE" content="5592:     //     resp.set_zone_id(g_ServerConfig.zone_id);
5593:     //     return OPER_RES_PROTO;
5594:     // }
5595:     // else
5596:     // {
5597:     //     resp.set_isok(E_ERROR_PARAM_ERROR);
5598:     // }
5599:     return OPER_RES_PROTO;
5600: }
5601: 
5602: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_CHANGE_PLAYER_MODE)
5603: {
5604:     auto&amp;&amp; mode = req.mode();
5605:     if (mode != E_PLAY_MODE_PEACE &amp;&amp; mode != E_PLAY_MODE_GUILD &amp;&amp; mode != E_PLAY_MODE_PLAYER)
5606:     {
5607:         return SetIsokAndReturn(E_ERROR_PARAM_ERROR);
5608:     }
5609: 
5610:     if (!p-&gt;m_scene)
5611:     {
5612:         return SetIsokAndReturn(E_ERROR_NO_SCENE);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="5690" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_GS2CS_FUNCTION_UNLOCK::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_GS2CS_FUNCTION_UNLOCK::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_GS2CS_FUNCTION_UNLOCK" content="5680:                 {
5681:                     return SetIsokAndReturn(E_ERROR_NOT_IN_PK_AREA);
5682:                 }
5683:             }
5684:         }
5685:     }
5686:     p-&gt;setPlayMode((E_PLAYER_MODE)mode);
5687:     return SetIsokAndReturn(E_CORRECT);
5688: }
5689: 
5690: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_GS2CS_FUNCTION_UNLOCK)
5691: {
5692:     for (auto&amp;&amp; function_id : req.function_id())
5693:     {
5694:         p-&gt;NewFunctionUnlock(function_id);
5695:     }
5696:     resp.set_isok(E_CORRECT);
5697:     return OPER_RES_DONNOT_RETURN;
5698: }
5699: 
5700: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_START_MOSNTER_TALK)
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="570" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_JUMP::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_JUMP::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_JUMP" content="560:     {
561:         resp.set_isok(E_ERROR_UNEXPECTED);
562:     }
563: 
564:     resp.set_move_obj_type(move_obj_type);
565:     resp.SerializeToString(&amp;content);
566: 
567:     return OPER_RES_STRING;  //表示需要把content里的内容 返回给客户端
568: }
569: 
570: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_JUMP)
571: {
572:     if (!p-&gt;m_scene)
573:     {
574:         return SetIsokAndReturn(E_ERROR_NO_SCENE);
575:     }
576:     if (!p-&gt;can_action())
577:     {
578:         return SetIsokAndReturn(E_ERROR_CONDITION_NOT_ENOUGH);
579:     }
580: 
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="5700" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_START_MOSNTER_TALK::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_START_MOSNTER_TALK::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_START_MOSNTER_TALK" content="5690: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_GS2CS_FUNCTION_UNLOCK)
5691: {
5692:     for (auto&amp;&amp; function_id : req.function_id())
5693:     {
5694:         p-&gt;NewFunctionUnlock(function_id);
5695:     }
5696:     resp.set_isok(E_CORRECT);
5697:     return OPER_RES_DONNOT_RETURN;
5698: }
5699: 
5700: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_START_MOSNTER_TALK)
5701: {
5702:     LDEBUG(&quot;E_C2S_START_MOSNTER_TALK:&quot; &lt;&lt; g_PBPrinter.getJsonStream(req));
5703:     resp.set_isok(E_CORRECT);
5704:     int32_t sid = req.sid();
5705:     if (p-&gt;m_scene)
5706:     {
5707:         auto it = p-&gt;m_scene-&gt;m_base_monsters.find(sid);
5708:         if (it != p-&gt;m_scene-&gt;m_base_monsters.end())
5709:         {
5710:             it-&gt;second-&gt;StopAi(p-&gt;m_sid);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="5732" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_END_MONSTER_TALK::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_END_MONSTER_TALK::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_END_MONSTER_TALK" content="5722:                 }
5723:             }
5724:         }
5725:         else
5726:         {
5727:             LERROR(&quot;no found obj(&quot; &lt;&lt; sid &lt;&lt; &quot;)&quot;);
5728:         }
5729:     }
5730:     return OPER_RES_PROTO;
5731: }
5732: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_END_MONSTER_TALK)
5733: {
5734:     LDEBUG(&quot;E_C2S_END_MONSTER_TALK:&quot; &lt;&lt; g_PBPrinter.getJsonStream(req));
5735:     resp.set_isok(E_CORRECT);
5736:     int32_t sid = req.sid();
5737:     if (p-&gt;m_scene)
5738:     {
5739:         auto it = p-&gt;m_scene-&gt;m_base_monsters.find(sid);
5740:         if (it != p-&gt;m_scene-&gt;m_base_monsters.end())
5741:         {
5742:             it-&gt;second-&gt;RecoverAi(p-&gt;m_sid);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="5759" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_CONTINUE_MONSTER_TALK::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_CONTINUE_MONSTER_TALK::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_CONTINUE_MONSTER_TALK" content="5749:                 }
5750:             }
5751:         }
5752:         else
5753:         {
5754:             LERROR(&quot;no found obj&quot;);
5755:         }
5756:     }
5757:     return OPER_RES_PROTO;
5758: }
5759: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_CONTINUE_MONSTER_TALK)
5760: {
5761:     LDEBUG(&quot;E_C2S_CONTINUE_MONSTER_TALK:&quot; &lt;&lt; g_PBPrinter.getJsonStream(req));
5762:     resp.set_isok(E_CORRECT);
5763:     int32_t sid = req.sid();
5764:     if (p-&gt;m_scene)
5765:     {
5766:         auto it = p-&gt;m_scene-&gt;m_base_monsters.find(sid);
5767:         if (it != p-&gt;m_scene-&gt;m_base_monsters.end())
5768:         {
5769:             // it-&gt;second-&gt;m_act_data.act_state = E_OBJ_ACT_TALK;
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="594" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_CHANGE_SCENE::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_CHANGE_SCENE::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_CHANGE_SCENE" content="584:     RESPOND(E_S2C_PUSH_JUMP) push_jump;
585:     push_jump.set_sid(p-&gt;m_sid);
586:     push_jump.set_face(req.face());
587: 
588:     //p-&gt;m_scene-&gt;push_scene_msg(E_S2C_PUSH_JUMP, push_jump, p-&gt;m_sid);
589:     p-&gt;m_scene-&gt;broadcast_obj(push_jump, E_S2C_PUSH_JUMP, *p);
590: 
591:     return SetIsokAndReturn(E_CORRECT);
592: }
593: 
594: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_CHANGE_SCENE)
595: {
596:     auto&amp;&amp; set_isok = [this](int32_t isok) {
597:         resp.set_isok(isok);
598:         return OPER_RES_PROTO;
599:     };
600: 
601:     if (!p-&gt;m_scene)
602:     {
603:         resp.set_isok(E_ERROR_PLAYER_NOT_IN_SCENE);
604:         return OPER_RES_PROTO;
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="5997" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_GS2XS_UPDATE_VIP_DETAIL::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_GS2XS_UPDATE_VIP_DETAIL::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_GS2XS_UPDATE_VIP_DETAIL" content="5987: //     if (p-&gt;m_scene &amp;&amp; p-&gt;m_scene-&gt;m_async_room)
5988: //     {
5989: //         p-&gt;m_scene-&gt;m_async_room-&gt;Confirm(p);
5990: //         return SetIsokAndReturn(E_CORRECT);
5991: //     }
5992: //     return SetIsokAndReturn(E_ERROR_NO_SCENE);
5993: // }
5994: 
5995: 
5996: 
5997: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_GS2XS_UPDATE_VIP_DETAIL)
5998: {
5999:     p-&gt;m_vip = req.vip_data().vip_id();
6000:     p-&gt;m_vip_set_items.clear();
6001:     for (int32_t i = 0; i &lt; req.vip_data().vip_set_items_size(); ++i)
6002:     {
6003:         p-&gt;m_vip_set_items[req.vip_data().vip_set_items(i).key()] = req.vip_data().vip_set_items(i).value();
6004:     }
6005:     if (p-&gt;m_scene)
6006:     {
6007:         // 场景广播一下
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="6025" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_GS2SC_UPDATE_EXP_ADD::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_GS2SC_UPDATE_EXP_ADD::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_GS2SC_UPDATE_EXP_ADD" content="6015:             pb_one-&gt;set_key(one.first);
6016:             pb_one-&gt;set_value(one.second);
6017:         }
6018:         p-&gt;m_scene-&gt;broadcast_obj(push, E_S2C_PUSH_SCENE_VIP_INFO_CHANGE, *p);
6019:         g_ScGlobalData.push_alone_msg(E_S2C_PUSH_SCENE_VIP_INFO_CHANGE, push, p-&gt;m_roleid);
6020:         LDEBUG(&quot;scene vip info change:&quot; &lt;&lt; g_PBPrinter.getJsonStream(push));
6021:     }
6022:     return OPER_RES_DONNOT_RETURN;
6023: }
6024: 
6025: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_GS2SC_UPDATE_EXP_ADD)
6026: {
6027:     if(req.add_exp() &gt;0)
6028:     {
6029:         RESPOND(E_S2C_PUSH_EXP_ADD) push_exp;
6030:         push_exp.set_sid(0);
6031:         push_exp.set_exp(req.add_exp());
6032:         push_exp.set_cur_exp(req.exp());
6033:         push_exp.set_function_module(req.function_module());
6034:         push_exp.set_addon_exp(req.addon_exp());
6035:         push_exp.set_from(req.from());
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="6073" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_GS2SC_FIGHTING_CHANGE::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_GS2SC_FIGHTING_CHANGE::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_GS2SC_FIGHTING_CHANGE" content="6063:             RESPOND(E_S2C_PUSH_TEAM_MEMBER_INFO_CHANGE)
6064:             team_push;
6065:             team_push.set_player_id(p-&gt;m_roleid);
6066:             team_push.set_level(p-&gt;m_level);
6067:             g_ScGlobalData.m_team_manager.PushTeamMsg(p-&gt;m_team_id, E_S2C_PUSH_TEAM_MEMBER_INFO_CHANGE, team_push);
6068:         }
6069:     }
6070:     return OPER_RES_DONNOT_RETURN;
6071: }
6072: 
6073: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_GS2SC_FIGHTING_CHANGE)
6074: {
6075:     p-&gt;m_fighting = req.fighting();
6076:     if (p-&gt;m_scene)
6077:     {
6078:         Scene* scene_pt = p-&gt;m_scene;
6079:         if (scene_pt-&gt;m_dungeon)
6080:         {
6081:             scene_pt-&gt;m_dungeon-&gt;CalcAdjustFighting();
6082:         }
6083:         // else if (E_COPY_DSC == scene_pt-&gt;m_scInfo.copy_type)
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="6101" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_PROFESSION_GET_OBJ_POS::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_PROFESSION_GET_OBJ_POS::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_PROFESSION_GET_OBJ_POS" content="6091:         
6092:         for(auto &amp;&amp;score_data: req.cards_score())
6093:         {
6094:             p-&gt;SetCardFighting(score_data.key(),score_data.value());
6095:         }
6096:     }
6097:     return OPER_RES_DONNOT_RETURN;
6098: }
6099: 
6100: //E_C2S_PROFESSION_GET_OBJ_POS = 1017,  //获取 采集/狩猎 OBJ 场景和坐标
6101: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_PROFESSION_GET_OBJ_POS)
6102: {
6103:     auto type = req.type();
6104:     auto obj_excel_id = req.obj_excel_id();
6105:     auto&amp;&amp; scene = p-&gt;m_scene;
6106:     resp.set_isok(E_CORRECT);
6107:     if (scene)
6108:     {
6109:         std::vector&lt;int32_t&gt; v_sids;
6110:         auto survive_manger = scene-&gt;getSurviveManager();
6111:         if (survive_manger)
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="6478" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_GUIDE_PAUSE_AI::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_GUIDE_PAUSE_AI::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_GUIDE_PAUSE_AI" content="6468: 			
6469: 			p-&gt;m_scene-&gt;broadcast_obj(push, E_S2C_MODIFY_NICKNAME, *p);
6470: 			LDEBUG(&quot;E_S2C_MODIFY_NICKNAME:&quot; &lt;&lt; g_PBPrinter.getJsonStream(push));
6471: 		}
6472: 	}
6473: 	return OPER_RES_DONNOT_RETURN;
6474: }
6475: 
6476: 
6477: //E_C2S_GUIDE_PAUSE_AI = 3128,                      //引导暂停AI
6478: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_GUIDE_PAUSE_AI)
6479: {
6480:     if (!p-&gt;m_scene)
6481:     {
6482:         return SetIsokAndReturn(E_ERROR_NO_SCENE);
6483:     }
6484: 	//TODO 这里要注意 作弊情况 
6485:     if(p-&gt;m_scene-&gt;m_real_players.size() ==1)
6486:     {
6487:         //p-&gt;m_scene-&gt;DealPauseAI();
6488:         p-&gt;m_scene-&gt;ForcePauseAIDelay(Tools::game_now() + 60*5);    
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="6495" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_GUIDE_RESUME_AI::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_GUIDE_RESUME_AI::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_GUIDE_RESUME_AI" content="6485:     if(p-&gt;m_scene-&gt;m_real_players.size() ==1)
6486:     {
6487:         //p-&gt;m_scene-&gt;DealPauseAI();
6488:         p-&gt;m_scene-&gt;ForcePauseAIDelay(Tools::game_now() + 60*5);    
6489:     }
6490:     
6491:     return SetIsokAndReturn(E_CORRECT);
6492: }
6493: 
6494: //E_C2S_GUIDE_RESUME_AI = 3129,                     //引导恢复AI
6495: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_GUIDE_RESUME_AI)
6496: {
6497:     if (!p-&gt;m_scene)
6498:     {
6499:         return SetIsokAndReturn(E_ERROR_NO_SCENE);
6500:     }
6501:     
6502:     //if(p-&gt;m_scene-&gt;m_real_players.size() ==1)
6503:     {
6504:         p-&gt;m_scene-&gt;ForceResumeAIDelay();    
6505:     }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="6510" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_NPC_TALK_ADD_BUFF::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_NPC_TALK_ADD_BUFF::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_NPC_TALK_ADD_BUFF" content="6500:     }
6501:     
6502:     //if(p-&gt;m_scene-&gt;m_real_players.size() ==1)
6503:     {
6504:         p-&gt;m_scene-&gt;ForceResumeAIDelay();    
6505:     }
6506:     return SetIsokAndReturn(E_CORRECT);
6507: }
6508: 
6509: //E_C2S_NPC_TALK_ADD_BUFF = 6266,                 // 3D对话 上无敌buff
6510: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_NPC_TALK_ADD_BUFF)
6511: {
6512:     if (!p-&gt;m_scene)
6513:     {
6514:         return SetIsokAndReturn(E_ERROR_NO_SCENE);
6515:     }
6516:     
6517:     auto  type = req.type();
6518:     if(type == 0){
6519:          p-&gt;change_state(E_STATE_IDLE,g_Clock.get_usec_time());
6520:          p-&gt;m_hate_list-&gt;reset_hated_players_list();
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="6535" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_GS2SC_LABEL_CHANGE::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_GS2SC_LABEL_CHANGE::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_GS2SC_LABEL_CHANGE" content="6525:          LDEBUG(&quot;3d_talk_start&quot;);
6526:          TRIGGER_HOOK(player_dungeon_trigger_3d_talk_start, p-&gt;m_scene, CVarList());//3d对话或timeline时 副本不计时
6527:     }
6528:     else {
6529:         p-&gt;remove_battle_state(E_B_STATE_HIDE);
6530:         p-&gt;remove_battle_state(E_B_STATE_HOLY);
6531:     }
6532:     return SetIsokAndReturn(E_CORRECT);
6533: }
6534: 
6535: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_GS2SC_LABEL_CHANGE)
6536: {
6537:     if (p-&gt;m_scene == nullptr) {
6538:         return SetIsokAndReturn(E_ERROR_NO_SCENE);
6539:     }
6540: 
6541:     p-&gt;m_label_id = req.label_id();
6542:     p-&gt;m_label_time = req.label_time();
6543: 
6544:     //广播推送
6545:     RESPOND(E_S2C_LABEL_OTHER_CHANGE) push;
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="6557" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_GET_PRACTICE_DUNGEON_BATTELE_DETAIL_INFO::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_GET_PRACTICE_DUNGEON_BATTELE_DETAIL_INFO::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_GET_PRACTICE_DUNGEON_BATTELE_DETAIL_INFO" content="6547:     push.set_label_id(p-&gt;GetLabel());
6548:     LDEBUG(&quot;E_GS2SC_LABEL_CHANGE id &quot; &lt;&lt; req.label_id() &lt;&lt; &quot; time &quot; &lt;&lt; req.label_time() &lt;&lt; &quot; show_id &quot; &lt;&lt; p-&gt;GetLabel());
6549:     p-&gt;m_scene-&gt;broadcast_obj(push, E_S2C_LABEL_OTHER_CHANGE, *p);
6550: 
6551:     LDEBUG(&quot;E_S2C_LABEL_OTHER_CHANGE &quot; &lt;&lt; g_PBPrinter.getJsonStream(push));
6552:     return SetIsokAndReturn(E_CORRECT);
6553: }
6554: 
6555: // 获取练习副本战斗详情数据
6556: //E_C2S_GET_PRACTICE_DUNGEON_BATTELE_DETAIL_INFO = 7180,                      //引导暂停AI
6557: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_GET_PRACTICE_DUNGEON_BATTELE_DETAIL_INFO)
6558: {
6559:     if (!p-&gt;m_scene)
6560:     {
6561:         return SetIsokAndReturn(E_ERROR_NO_SCENE);
6562:     }
6563: 
6564:     auto pDungeon = p-&gt;m_scene-&gt;m_dungeon;
6565:     if (!pDungeon)
6566:     {
6567:         return SetIsokAndReturn(E_ERROR_NO_SCENE);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="6582" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_PRACTICE_DUNGEON_SET_MONSTER_AI_STATE::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_PRACTICE_DUNGEON_SET_MONSTER_AI_STATE::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_PRACTICE_DUNGEON_SET_MONSTER_AI_STATE" content="6572:         return SetIsokAndReturn(E_ERROR_PERMISSION_DENIED);
6573:     }
6574: 
6575:     pDungeon-&gt;DealPracticeDungeonSummaryData();
6576: 
6577:     return SetIsokAndReturn(E_CORRECT);
6578: }
6579: 
6580: // 设置练习副本ai状态
6581: //E_C2S_PRACTICE_DUNGEON_SET_MONSTER_AI_STATE = 7181
6582: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_PRACTICE_DUNGEON_SET_MONSTER_AI_STATE)
6583: {
6584:     if (!p-&gt;m_scene)
6585:     {
6586:         return SetIsokAndReturn(E_ERROR_NO_SCENE);
6587:     }
6588:     
6589:     auto pDungeon = p-&gt;m_scene-&gt;m_dungeon;
6590:     if (!pDungeon)
6591:     {
6592:         return SetIsokAndReturn(E_ERROR_NO_SCENE);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="6618" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_PRACTICE_DUNGEON_BATTELE_RESET::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_PRACTICE_DUNGEON_BATTELE_RESET::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_PRACTICE_DUNGEON_BATTELE_RESET" content="6608:         }
6609: 
6610:         //p-&gt;m_hate_list-&gt;reset_hated_players_list();
6611:     }
6612: 
6613:     return SetIsokAndReturn(E_CORRECT);
6614: }
6615: 
6616: // 重置练习副本
6617: //E_C2S_PRACTICE_DUNGEON_BATTELE_RESET = 7182
6618: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_PRACTICE_DUNGEON_BATTELE_RESET)
6619: {
6620:     if (!p-&gt;m_scene)
6621:     {
6622:         return SetIsokAndReturn(E_ERROR_NO_SCENE);
6623:     }
6624: 
6625:     auto pDungeon = p-&gt;m_scene-&gt;m_dungeon;
6626:     if (!pDungeon)
6627:     {
6628:         return SetIsokAndReturn(E_ERROR_NO_SCENE);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="677" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_TRANSFER::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_TRANSFER::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_TRANSFER" content="667:             ret.set_isok(isok);
668:             ret.set_scene_id(resp.scene_info().excel_id());
669:             ret.mutable_pos()-&gt;CopyFrom(resp.pos());
670:             AsyncRequestHandlerNs::SendAckMessage(ret, send_env);
671:         },
672:         0, &amp;trans_param);
673: 
674:     return OPER_RES_DONNOT_RETURN;
675: }
676: 
677: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_TRANSFER)
678: {
679:     SC_MSG_WITH_ROLE_CHECK_ENTER_SCENE()
680:     auto&amp; recv = req;
681:     if (p-&gt;m_scene != NULL)
682:     {
683:         auto it_s = g_ConstData.get_m_Scene().find(p-&gt;m_scene-&gt;m_excel_id);
684:         if (it_s == g_ConstData.get_m_Scene().end())
685:         {
686:             resp.set_isok(E_ERROR_NOT_SAME_FACTION);
687:             return OPER_RES_PROTO;
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="703" id="logic" subid="incorrectLogicOperator" severity="Warning" msg="Logical conjunction always evaluates to false: EXPR &lt; 19 &amp;&amp; EXPR &gt; 23." web_identify="{&quot;identify&quot;:&quot;EXPR &lt; 19 &amp;&amp; EXPR &gt; 23&quot;}" func_info="CFrameOperate::OperRes CLASS_SCENE_E_C2S_TRANSFER::do_with_role ( )" content="693:         Object* obj = p-&gt;m_scene-&gt;find_obj(recv.transfer_point_id());
694:         if (obj &amp;&amp; obj-&gt;m_type == E_OBJ_TYPE_TRANSFER)
695:         {
696:             TransferPoint* tp = (TransferPoint*)obj;
697:             if (tp-&gt;m_pos.layer != p-&gt;getCurPos().layer ||
698:                 !geometry::inDistance(p-&gt;getCurPos().p2d, tp-&gt;m_pos.p2d, tp-&gt;m_max_dis * 12 / 10))
699:             {
700:                 resp.set_isok(E_ERROR_OUT_OF_RANGE);
701:             }
702:             else if (tp-&gt;GetSceneFaction() != E_FACTION_NEUTRAL &amp;&amp; tp-&gt;GetSceneFaction() != p-&gt;GetSceneFaction() &amp;&amp;
703:                      (p-&gt;m_scene-&gt;m_excel_id &lt; 19 &amp;&amp; p-&gt;m_scene-&gt;m_excel_id &gt; 23))
704:             {
705:                 resp.set_isok(E_ERROR_NOT_SAME_FACTION);
706:             }
707:             else if (tp-&gt;GetSceneFaction() != E_FACTION_NEUTRAL &amp;&amp; obj-&gt;GetSceneFaction() != p-&gt;GetSceneFaction() &amp;&amp;
708:                      (p-&gt;m_scene-&gt;m_excel_id &gt;= 19 &amp;&amp; p-&gt;m_scene-&gt;m_excel_id &lt;= 23))  //国战地图特殊处理
709:             {
710:                 resp.set_isok(E_ERROR_NOT_SAME_FACTION);
711:             }
712:             else if (tp-&gt;GetSceneFaction() != E_FACTION_NEUTRAL &amp;&amp; tp-&gt;GetSceneFaction() != p-&gt;GetSceneFaction())
713:             {
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/scene_op.cpp" line="940" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_LOCAL_REVIVE::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_LOCAL_REVIVE::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_LOCAL_REVIVE" content="930: //
931: //        //转换出错，也要返回一个通用错误消息
932: //        protos::rep_common repc;
933: //        repc.set_isok(E_ERROR_PROTO_PARSE_ERROR);
934: //        repc.SerializeToString(&amp;content);
935: //        return OPER_RES_STRING;
936: //    }
937: //    return OPER_RES_DONNOT_RETURN;
938: //}
939: 
940: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_LOCAL_REVIVE)
941: {
942:     auto&amp;&amp; req_no = g_AsyncRequestHandlerMgr.MakeAsyncRequest(
943:         [role_id{p-&gt;m_roleid}](AsyncRequestHandlerNs::PbMessage&amp; jv,
944:                                const AsyncRequestHandlerNs::SendMessageEnv&amp; send_env, int32_t ret_protocol_no) {
945:             auto&amp;&amp; resp1 = reinterpret_cast&lt;RESPOND(E_S2S_LOCAL_REVIVE)*&gt;(&amp;jv);
946:             LINFO(&quot;E_S2S_LOCAL_REVIVE:&quot; &lt;&lt; g_PBPrinter.getJsonStream(*resp1));
947:             RESPOND(E_C2S_LOCAL_REVIVE) resp;
948:             resp.CopyFrom(resp1-&gt;data());
949:             if (resp1-&gt;isok() == E_CORRECT)
950:             {
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/skill_op.cpp" line="221" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_SKILL_HIT::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_SKILL_HIT::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_SKILL_HIT" content="211:         pos = resp.mutable_rush_to_pos();
212:         pos-&gt;set_x(rush_pos.p2d.x);
213:         pos-&gt;set_y(rush_pos.p2d.y);
214:         pos-&gt;set_layer(rush_pos.layer);
215:     }
216: 
217: 
218:     return SetIsokAndReturn(E_CORRECT);
219: }
220: 
221: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_SKILL_HIT)
222: {
223: 	auto player = p;
224: 	auto&amp; recv = req;
225:     player-&gt;m_skill_ctrl.OnClientHit(recv.missile_id(), recv.target_id(),
226:         recv.skill_id(), recv.action_id(), recv.self_id());
227: 
228:     return SetIsokAndReturn(E_CORRECT);
229: }
230: 
231: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_PICK_ITEM)
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/skill_op.cpp" line="231" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_PICK_ITEM::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_PICK_ITEM::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_PICK_ITEM" content="221: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_SKILL_HIT)
222: {
223: 	auto player = p;
224: 	auto&amp; recv = req;
225:     player-&gt;m_skill_ctrl.OnClientHit(recv.missile_id(), recv.target_id(),
226:         recv.skill_id(), recv.action_id(), recv.self_id());
227: 
228:     return SetIsokAndReturn(E_CORRECT);
229: }
230: 
231: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_PICK_ITEM)
232: {
233:     auto&amp; recv = req;
234:     if (p-&gt;m_scene)
235:     {
236:         if (p-&gt;m_state == E_STATE_DEAD)
237:         {
238:             resp.set_isok(E_ERROR_PLAYER_IS_DEAD);
239:             resp.SerializeToString(&amp;content);
240:             return OPER_RES_STRING;
241:         }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/skill_op.cpp" line="266" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_UPDATE_SKILL::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_UPDATE_SKILL::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_UPDATE_SKILL" content="256:             resp.set_isok(E_ERROR_NOT_EXIST_ITEM);
257:         }
258:     }
259:     else
260:     {
261:         resp.set_isok(E_ERROR_PLAYER_NOT_IN_SCENE);  //玩家已经不在场景里了
262:     }
263:     return OPER_RES_PROTO;
264: }
265: 
266: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_UPDATE_SKILL)
267: {
268:     auto&amp; recv = req;
269:     if (p-&gt;m_scene)
270:     {
271:         if (p-&gt;m_state == E_STATE_DEAD)
272:         {
273:             resp.set_isok(E_ERROR_PLAYER_IS_DEAD);
274:             resp.SerializeToString(&amp;content);
275:             return OPER_RES_STRING;
276:         }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/skill_op.cpp" line="384" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_S2S_PUSH_USE_BLOOD_VIA::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_S2S_PUSH_USE_BLOOD_VIA::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_S2S_PUSH_USE_BLOOD_VIA" content="374: //        cout &lt;&lt; &quot;E_C2S_CANCEL_TEMP_SKILL parse failed&quot; &lt;&lt; endl;
375: //
376: //        //转换出错，也要返回一个通用错误消息
377: //        protos::rep_common resp;
378: //        resp.set_isok(E_ERROR_PROTO_PARSE_ERROR);
379: //        resp.SerializeToString(&amp;content);
380: //        return OPER_RES_STRING;
381: //    }
382: //}
383: 
384: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_S2S_PUSH_USE_BLOOD_VIA)
385: {
386:     {
387:         int32_t item_id = req.item_id();
388:         auto cache = ConstDataHelper::MmoItem::getItemCache(item_id);
389:         if (!cache || cache-&gt;getUseParam().empty())
390:         {
391:             //resp.set_isok(E_ERROR_EXCEL_ERROR);
392:             //return OPER_RES_PROTO;
393:             return SetIsokAndReturn(E_ERROR_EXCEL_ERROR);
394:         }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/skill_op.cpp" line="460" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_LATEST_NETWORK_DELAY_TIME::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_LATEST_NETWORK_DELAY_TIME::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_LATEST_NETWORK_DELAY_TIME" content="450:                     resp.set_cd((cd_end_time - now) / 1000);  //转成毫秒
451:                     //return SetIsokAndReturn(E_ERROR_BLOOD_VIA_CD);
452:                     return SetIsokAndReturn(result);
453:                 }
454:             }
455:         }
456:     }
457:     return SetIsokAndReturn(E_CORRECT);
458: }
459: 
460: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_LATEST_NETWORK_DELAY_TIME)
461: {
462:     auto&amp;&amp; delay_time = req.time_delay();
463:     p-&gt;m_skill_ctrl.set_network_delay_time(delay_time);
464:     p-&gt;SetPing(delay_time);
465:     resp.set_isok(E_CORRECT);
466:     REQUEST(E_S2S_ROLE_NETWORK_DELAY_TIME) toCenter;
467:     toCenter.set_role_id(role_id);
468:     toCenter.set_time_delay(delay_time);
469:     string data;
470: 
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/skill_op.cpp" line="480" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_GS2SC_PUSH_UNLOCK_NEW_ACTIVE_SKILLS::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_GS2SC_PUSH_UNLOCK_NEW_ACTIVE_SKILLS::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_GS2SC_PUSH_UNLOCK_NEW_ACTIVE_SKILLS" content="470: 
471:     toCenter.SerializeToString(&amp;data);
472:     SMessage sendtocenter;
473:     sendtocenter.SetHead(E_S2S_ROLE_NETWORK_DELAY_TIME, E_S2S_ROLE_NETWORK_DELAY_TIME, g_ServerConfig.cur_servertype,
474:                          NetPeerApi::getPeerId(netPeer));
475:     sendtocenter.SetContent((uint8_t*)data.c_str(), data.length());
476:     NetPeerApi::sendMsgToCS(netPeer, &amp;sendtocenter);
477:     return OPER_RES_PROTO;
478: }
479: 
480: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_GS2SC_PUSH_UNLOCK_NEW_ACTIVE_SKILLS)
481: {
482:     auto&amp;&amp; skill_id = req.skill_id();
483:     auto&amp;&amp; skill_level = req.skill_level();
484: 
485:     p-&gt;add_new_mmo_active_skill(skill_id, skill_level);
486:     resp.set_isok(E_CORRECT);
487:     return OPER_RES_PROTO;
488: }
489: 
490: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_GS2SC_PUSH_DELETE_ACTIVE_SKILLS)
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/skill_op.cpp" line="490" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_GS2SC_PUSH_DELETE_ACTIVE_SKILLS::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_GS2SC_PUSH_DELETE_ACTIVE_SKILLS::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_GS2SC_PUSH_DELETE_ACTIVE_SKILLS" content="480: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_GS2SC_PUSH_UNLOCK_NEW_ACTIVE_SKILLS)
481: {
482:     auto&amp;&amp; skill_id = req.skill_id();
483:     auto&amp;&amp; skill_level = req.skill_level();
484: 
485:     p-&gt;add_new_mmo_active_skill(skill_id, skill_level);
486:     resp.set_isok(E_CORRECT);
487:     return OPER_RES_PROTO;
488: }
489: 
490: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_GS2SC_PUSH_DELETE_ACTIVE_SKILLS)
491: {
492:     auto&amp;&amp; skill_id = req.skill_id();
493:     if (p-&gt;delete_mmo_active_skill(skill_id))
494:     {
495:         resp.set_isok(E_CORRECT);
496:     }
497:     else
498:     {
499:         resp.set_isok(E_ERROR_PARAM_ERROR);
500:     }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/skill_op.cpp" line="54" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_CAST_SKILL::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_CAST_SKILL::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_CAST_SKILL" content="44: #include &quot;operate/../data/SkillEffect.h&quot;
45: #include &quot;proto_macro.h&quot;
46: // #include &quot;mmo3d.pb.h&quot;
47: #include &quot;protocol_define.h&quot;
48: #include &quot;protocol_operate.h&quot;
49: #include &quot;s2s_mmo3d_func_skill.pb.h&quot;
50: // #include &quot;s2s_mmo3d.pb.h&quot;
51: #include &quot;scene_cmd_factory.h&quot;
52: #include &quot;server_config.h&quot;
53: 
54: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_CAST_SKILL)
55: {
56:     SC_MSG_WITH_ROLE_CHECK_ENTER_SCENE()
57:     auto player = p;
58:     auto&amp; recv = req;
59:     int clientMark = recv.client_mark();
60:     resp.set_skill_seq(recv.skill_seq());
61:     resp.set_skill_id(recv.skill_id());
62: 
63: 
64:     Creature* cast_skill_obj = nullptr;
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/task_op.cpp" line="155" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_GUILD_PROPAGANDA_TASK::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_GUILD_PROPAGANDA_TASK::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_GUILD_PROPAGANDA_TASK" content="145: 		resp.set_isok(E_CORRECT);
146: 		return OPER_RES_PROTO;
147: #endif
148:         LINFO(&quot; E_C2S_MOVE_TO_TASK_AREA::E_ERROR_TARGET_TOO_FAR&quot;
149:               &lt;&lt; &quot;X:&quot; &lt;&lt; pos.p2d.x &lt;&lt; &quot;Y:&quot; &lt;&lt; pos.p2d.y &lt;&lt; &quot;r:&quot; &lt;&lt; r &lt;&lt; &quot;,role_posx:&quot; &lt;&lt; role_pos.p2d.x &lt;&lt; &quot;,roley:&quot; &lt;&lt; role_pos.p2d.y);
150:         resp.set_isok(E_ERROR_TARGET_TOO_FAR);
151:     }
152:     return OPER_RES_PROTO;
153: }
154: 
155: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_GUILD_PROPAGANDA_TASK)
156: {
157:     int32_t task_id = req.task_id();
158:     int32_t obj_id = req.obj_id();
159:     const ConstDataHelper::Object::Cache* obj_cache_pt = ConstDataHelper::Object::getObjectCache(obj_id);
160:     if (!obj_cache_pt)
161:     {
162:         resp.set_isok(E_ERROR_PARAM_ERROR);
163:         return OPER_RES_PROTO;
164:     }
165:     Location role_pos;
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/task_op.cpp" line="195" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_GS2SC_FORCE_TASK_TRANSFER::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_GS2SC_FORCE_TASK_TRANSFER::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_GS2SC_FORCE_TASK_TRANSFER" content="185:     }
186:     else
187:     {
188:         LINFO(&quot; E_C2S_MOVE_TO_TASK_AREA::E_ERROR_TARGET_TOO_FAR&quot;
189:               &lt;&lt; &quot;X:&quot; &lt;&lt; pos.p2d.x &lt;&lt; &quot;Y:&quot; &lt;&lt; pos.p2d.y &lt;&lt; &quot;r:&quot; &lt;&lt; r);
190:         resp.set_isok(E_ERROR_TARGET_TOO_FAR);
191:     }
192:     return OPER_RES_PROTO;
193: }
194: 
195: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_GS2SC_FORCE_TASK_TRANSFER)
196: {
197:     int32_t task_id = req.task_id();
198:     int32_t task_status = req.task_status();
199:     int32_t target_index = req.target_index_id();
200:     Location dst_pos;
201:     const ConstDataHelper::MmoTask::TaskCache* task_cache_pt = ConstDataHelper::MmoTask::GetTaskFromCache(task_id);
202:     if (!task_cache_pt)
203:     {
204:         RESPOND(E_C2S_FORCE_TASK_TRANSFER) clt_resp;
205:         clt_resp.set_isok(E_ERROR_PARAM_ERROR);
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/task_op.cpp" line="371" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_GS2SC_DO_TASK_TRIGGER::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_GS2SC_DO_TASK_TRIGGER::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_GS2SC_DO_TASK_TRIGGER" content="361:                 p-&gt;m_carrier-&gt;initPos(dst_pos, true);
362:         }
363:         else
364:         {
365:             p-&gt;initPos(dst_pos, true);
366:         }
367:     }
368:     p-&gt;player_push_msg(E_C2S_FORCE_TASK_TRANSFER, clt_resp, SERVER_GG);
369:     return OPER_RES_DONNOT_RETURN;
370: }
371: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_GS2SC_DO_TASK_TRIGGER)
372: {
373:     for (int32_t i = 0; i &lt; req.trigger_ids_size(); ++i)
374:     {
375:         p-&gt;m_task_trigger-&gt;AddTaskTriggerEffect(req.task_id(), req.trigger_ids(i));
376:     }
377:     return OPER_RES_DONNOT_RETURN;
378: }
379: 
380: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_GS2SC_REMOVE_TASK_TRIGGER)
381: {
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/task_op.cpp" line="380" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_GS2SC_REMOVE_TASK_TRIGGER::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_GS2SC_REMOVE_TASK_TRIGGER::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_GS2SC_REMOVE_TASK_TRIGGER" content="370: }
371: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_GS2SC_DO_TASK_TRIGGER)
372: {
373:     for (int32_t i = 0; i &lt; req.trigger_ids_size(); ++i)
374:     {
375:         p-&gt;m_task_trigger-&gt;AddTaskTriggerEffect(req.task_id(), req.trigger_ids(i));
376:     }
377:     return OPER_RES_DONNOT_RETURN;
378: }
379: 
380: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_GS2SC_REMOVE_TASK_TRIGGER)
381: {
382:     for (int32_t i = 0; i &lt; req.trigger_ids_size(); ++i)
383:     {
384:         p-&gt;m_task_trigger-&gt;RemoveTaskTriggerEffect(req.task_id(), req.trigger_ids(i));
385:     }
386:     return OPER_RES_DONNOT_RETURN;
387: }
388: 
389: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_TASK_TRANSFER)
390: {
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/task_op.cpp" line="389" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_TASK_TRANSFER::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_TASK_TRANSFER::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_TASK_TRANSFER" content="379: 
380: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_GS2SC_REMOVE_TASK_TRIGGER)
381: {
382:     for (int32_t i = 0; i &lt; req.trigger_ids_size(); ++i)
383:     {
384:         p-&gt;m_task_trigger-&gt;RemoveTaskTriggerEffect(req.task_id(), req.trigger_ids(i));
385:     }
386:     return OPER_RES_DONNOT_RETURN;
387: }
388: 
389: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_TASK_TRANSFER)
390: {
391:     SC_MSG_WITH_ROLE_CHECK_ENTER_SCENE()
392:     int32_t task_id = req.task_id();
393:     int32_t map_id = req.map_id();
394: 
395:     const ConstDataHelper::Scene::Cache* scene_cache_pt = ConstDataHelper::Scene::GetCache(map_id);
396:     if (!scene_cache_pt)
397:     {
398:         resp.set_isok(E_ERROR_NO_SCENE);
399:         return OPER_RES_PROTO;
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/task_op.cpp" line="471" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_GS2SC_SUBMIT_TASK_ITEM::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_GS2SC_SUBMIT_TASK_ITEM::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_GS2SC_SUBMIT_TASK_ITEM" content="461:             //g_GlobalData.push_alone_msg(E_C2S_TASK_TRANSFER, clt_resp, role_id);
462:             //LDEBUG(&quot;E_C2S_TASK_TRANSFER,TellClientTransferToNewScene, role_id:&quot; &lt;&lt; role_id &lt;&lt; &quot;, scene_map_id:&quot; &lt;&lt; scene_map_id &lt;&lt; &quot;, x:&quot; &lt;&lt; new_pos.p2d.x &lt;&lt; &quot;,y:&quot; &lt;&lt; new_pos.p2d.y);
463:         }
464:         g_ScGlobalData.push_alone_msg(E_C2S_TASK_TRANSFER, clt_resp, role_id);
465:     };
466: 
467:     CommonlyUsedServerCommunation::TransferRoleToNewScene(-1, role_id, map_id, Location(), trans_cb);
468:     return OPER_RES_DONNOT_RETURN;
469: }
470: 
471: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_GS2SC_SUBMIT_TASK_ITEM)
472: {
473:     int32_t task_id = req.task_id();
474:     //int32_t item_id = req.item_id();
475: //    int32_t item_num = req.num();
476:     auto task_cache_pt = ConstDataHelper::MmoTask::GetTaskFromCache(task_id);
477:     if (!task_cache_pt)
478:     {
479:         return OPER_RES_DONNOT_RETURN;
480:     }
481:     // 如果是阵营任务
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/task_op.cpp" line="75" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_GS2SC_COMPLETE_TASK::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_GS2SC_COMPLETE_TASK::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_GS2SC_COMPLETE_TASK" content="65:             resp.set_isok(E_CORRECT);
66:         }
67:         else
68:         {
69:             resp.set_isok(E_ERROR_PLAYER_OFFLINE);
70:         }
71:     }
72:     return OPER_RES_PROTO;
73: }
74: 
75: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_GS2SC_COMPLETE_TASK)
76: {
77:     p-&gt;OnCompleteTask(req.task_id());
78:     return OPER_RES_DONNOT_RETURN;
79: }
80: 
81: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_S2S_GS2SC_PLAYER_TASK_STATUS_CHANGE)
82: {
83:     g_ScGlobalData.PlayerTaskStatusChange(p, req.task_id(), req.task_status());
84:     return SetIsokAndReturn(E_CORRECT);
85: }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/task_op.cpp" line="81" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_S2S_GS2SC_PLAYER_TASK_STATUS_CHANGE::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_S2S_GS2SC_PLAYER_TASK_STATUS_CHANGE::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_S2S_GS2SC_PLAYER_TASK_STATUS_CHANGE" content="71:     }
72:     return OPER_RES_PROTO;
73: }
74: 
75: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_GS2SC_COMPLETE_TASK)
76: {
77:     p-&gt;OnCompleteTask(req.task_id());
78:     return OPER_RES_DONNOT_RETURN;
79: }
80: 
81: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_S2S_GS2SC_PLAYER_TASK_STATUS_CHANGE)
82: {
83:     g_ScGlobalData.PlayerTaskStatusChange(p, req.task_id(), req.task_status());
84:     return SetIsokAndReturn(E_CORRECT);
85: }
86: 
87: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_MOVE_TO_TASK_AREA)
88: {
89:     auto set_return = [this](int32_t isok) -&gt; CFrameOperate::OperRes {
90:         this-&gt;resp.set_isok(isok);
91:         return OPER_RES_PROTO;
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/scene_server/operate/task_op.cpp" line="87" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;CLASS_SCENE_E_C2S_MOVE_TO_TASK_AREA::smsg,netPeer,&apos; is not initialized in the constructor. The error is in macros." web_identify="{&quot;identify&quot;:&quot;CLASS_SCENE_E_C2S_MOVE_TO_TASK_AREA::smsg,netPeer,&quot;}" func_info="CLASS_SCENE_E_C2S_MOVE_TO_TASK_AREA" content="77:     p-&gt;OnCompleteTask(req.task_id());
78:     return OPER_RES_DONNOT_RETURN;
79: }
80: 
81: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_S2S_GS2SC_PLAYER_TASK_STATUS_CHANGE)
82: {
83:     g_ScGlobalData.PlayerTaskStatusChange(p, req.task_id(), req.task_status());
84:     return SetIsokAndReturn(E_CORRECT);
85: }
86: 
87: SCENE_MSG_HANDLE_WITH_ROLE_CHECK(E_C2S_MOVE_TO_TASK_AREA)
88: {
89:     auto set_return = [this](int32_t isok) -&gt; CFrameOperate::OperRes {
90:         this-&gt;resp.set_isok(isok);
91:         return OPER_RES_PROTO;
92:     };
93:     LINFO(&quot;E_C2S_MOVE_TO_TASK_AREA:&quot; &lt;&lt; g_PBPrinter.getJsonStream(req));
94:     int32_t task_id = req.task_id();
95:     int32_t area_id = req.area_id();
96:     // area_id现在代表objid
97: 
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/testbed/sdp/base/sdp_base_test.cpp" line="44" id="uninit" subid="uninitMemberVar" severity="Warning" msg="Member variable &apos;test_Timer::loop_,&apos; is not initialized in the constructor." web_identify="{&quot;identify&quot;:&quot;test_Timer::loop_,&quot;}" func_info="test_Timer" content="34: 	int get_tag() { return _tag;};
35: 
36: public:
37: 	int _tag;
38: };
39: 
40: 
41: class test_Timer:public TimeToDo
42: {
43: public:
44:   test_Timer()
45:   :count(1)
46:   {
47:   }
48: 
49:   time_t nextTime()
50:   {
51: 		if(count &gt;= 2)
52: 		{
53: 			loop_-&gt;quit();
54: 			return 0;
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/testclient/main.cpp" line="948" id="logic" subid="assignIf" severity="Warning" msg="Expression is always false because &apos;else if&apos; condition matches previous condition at line 241." web_identify="{&quot;identify&quot;:&quot;(&quot;}" func_info="int main ( int argc , char * argv [ ] )" content="938: 			p.mutable_cur_pos()-&gt;set_x(267930);
939: 			p.mutable_cur_pos()-&gt;set_y(286280);
940: 
941: 			p.mutable_rush_to_pos()-&gt;set_layer(0);
942: 			p.mutable_rush_to_pos()-&gt;set_x(267930);
943: 			p.mutable_rush_to_pos()-&gt;set_y(286280);
944: 			*/
945: 
946:             p.SerializeToString(&amp;msg_body_str);
947:         }
948:         else if (msg_type == E_C2S_GET_AWARD)
949:         {
950:             int32_t id;
951:             REQUEST(E_C2S_GET_AWARD) p;
952: 
953:             cout &lt;&lt; &quot;finish task_id:&quot;;
954:             cin &gt;&gt; id;
955:             p.set_task_id(id);
956: 
957:             p.SerializeToString(&amp;msg_body_str);
958:         }
"/>
    <error file="/data/EveryDayTscan/sot_server/classes/tests/test_partial_dumper.cpp" line="115" id="suspicious" subid="SuspiciousPriority" severity="Information" msg="The priority of the &apos;+&apos; operation is higher than that of the &apos;&lt;&lt;&apos; operation. It&apos;s possible that parentheses should be used in the expression." web_identify="" func_info="void test_run ( PartialDumper::utime_t interval , float dump_per_second )" content="105: 							if(need_dumper &lt; 1)
106: 								break;
107: 						}
108: 					}
109: 				}
110: 				ts = now;
111: 				dumper.on_update(now);
112: 			}
113: 			else
114: 			{
115: 				LDEBUG(&quot;sleep (&quot; &lt;&lt; ts + interval - now &lt;&lt; &quot;)&quot;);
116: 				tu.add_idle(ts + interval - now);
117: 				//boost::thread::sleep(boost::get_system_time() + boost::posix_time::seconds)
118: 				boost::this_thread::sleep_for(boost::chrono::microseconds(ts + interval - now));
119: 			}
120: 		}
121: 	}
122: 
123: 	void test_dumper()
124: 	{
125: 		auto dump_per_second = 12;
" inconclusive="true"/>

</results>
